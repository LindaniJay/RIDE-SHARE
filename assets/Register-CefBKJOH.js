import{j as e}from"./query-CSyQ0w5Y.js";import{r as m}from"./vendor-CBH9K-97.js";import{c as f,L as N}from"./router-BWB2dKYR.js";import{u as v}from"./index-DU2cjTjz.js";import{G as j}from"./GlassForm-H9qvmeAC.js";import{G as o,a as y}from"./GlassButton-BfRB-w5d.js";import"./ui-qr7cu0yN.js";import"./Glassmorphism-B6x2MkMT.js";const L=()=>{const[a,r]=m.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:"",phone:"",role:"renter"}),[c,i]=m.useState(!1),[h,l]=m.useState(""),{register:b,authMethod:n,setAuthMethod:u}=v(),d=f(),g=async t=>{var p,x;if(t.preventDefault(),i(!0),l(""),a.password!==a.confirmPassword){l("Passwords do not match"),i(!1);return}try{await b({firstName:a.firstName,lastName:a.lastName,email:a.email,password:a.password,phone:a.phone,role:a.role});const s=localStorage.getItem("userRole");d(s==="admin"?"/dashboard/admin":s==="host"?"/dashboard/host":"/dashboard")}catch(s){const w=s instanceof Error&&"response"in s?(x=(p=s.response)==null?void 0:p.data)==null?void 0:x.error:"Registration failed";l(w||"Registration failed")}finally{i(!1)}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"max-w-md w-full space-y-8",children:e.jsxs(j,{title:"Join RideShare SA",subtitle:"Create your account and start your journey",onSubmit:g,className:"w-full",children:[h&&e.jsx("div",{className:"bg-red-500/20 border border-red-400/30 rounded-xl p-4 backdrop-blur-md",children:e.jsx("p",{className:"text-sm text-red-200",children:h})}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-4 border border-white/20",children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-3",children:"Authentication Method"}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("button",{type:"button",onClick:()=>u("firebase"),className:`flex-1 px-4 py-2 rounded-lg text-sm font-medium transition-all duration-300 ${n==="firebase"?"bg-blue-500/20 text-blue-200 border border-blue-400/30":"bg-white/10 text-white/70 border border-white/20 hover:bg-white/20"}`,children:"🔥 Firebase"}),e.jsx("button",{type:"button",onClick:()=>u("express"),className:`flex-1 px-4 py-2 rounded-lg text-sm font-medium transition-all duration-300 ${n==="express"?"bg-green-500/20 text-green-200 border border-green-400/30":"bg-white/10 text-white/70 border border-white/20 hover:bg-white/20"}`,children:"⚡ Express JWT"})]}),e.jsx("p",{className:"text-xs text-white/60 mt-2",children:n==="firebase"?"Using Firebase Authentication with Firestore":"Using Express JWT with in-memory storage"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(o,{label:"First Name",name:"firstName",type:"text",required:!0,value:a.firstName,onChange:t=>r({...a,firstName:t.target.value}),placeholder:"First name",icon:"👤"}),e.jsx(o,{label:"Last Name",name:"lastName",type:"text",required:!0,value:a.lastName,onChange:t=>r({...a,lastName:t.target.value}),placeholder:"Last name",icon:"👤"})]}),e.jsx(o,{label:"Email address",name:"email",type:"email",required:!0,value:a.email,onChange:t=>r({...a,email:t.target.value}),placeholder:"Enter your email",icon:"✉️"}),e.jsx(o,{label:"Phone (optional)",name:"phone",type:"tel",value:a.phone,onChange:t=>r({...a,phone:t.target.value}),placeholder:"+27 82 123 4567",icon:"📱"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-white",children:"I want to"}),e.jsxs("select",{name:"role",value:a.role,onChange:t=>r({...a,role:t.target.value}),className:"w-full px-4 py-3 rounded-xl text-white placeholder-white/50 bg-white/10 dark:bg-white/5 backdrop-blur-md border border-white/20 dark:border-white/10 focus:outline-none focus:ring-2 focus:ring-white/20 dark:focus:ring-white/10 transition-all duration-300 ease-in-out",children:[e.jsx("option",{value:"renter",className:"bg-gray-800 text-white",children:"🚗 Rent vehicles"}),e.jsx("option",{value:"host",className:"bg-gray-800 text-white",children:"🏠 List my vehicles"})]})]}),e.jsx(o,{label:"Password",name:"password",type:"password",required:!0,value:a.password,onChange:t=>r({...a,password:t.target.value}),placeholder:"Create a password",icon:"🔒",variant:"password"}),e.jsx(o,{label:"Confirm Password",name:"confirmPassword",type:"password",required:!0,value:a.confirmPassword,onChange:t=>r({...a,confirmPassword:t.target.value}),placeholder:"Confirm your password",icon:"🔒",variant:"password"})]}),e.jsx(y,{type:"submit",disabled:c,className:"w-full",gradient:!0,icon:"🚀",children:c?"Creating account...":"Create account"}),e.jsx("div",{className:"text-center",children:e.jsxs("p",{className:"text-white/70 text-sm",children:["Already have an account?"," ",e.jsx(N,{to:"/login",className:"font-medium text-white hover:text-white/80 transition-colors",children:"Sign in here"})]})})]})})})};export{L as default};
