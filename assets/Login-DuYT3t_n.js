import{j as e}from"./query-CSyQ0w5Y.js";import{r as o}from"./vendor-CBH9K-97.js";import{c as j,L as N}from"./router-BWB2dKYR.js";import{u as v}from"./index-CXKI2yBE.js";import{G as y}from"./GlassForm-H9qvmeAC.js";import{G as b,a as S}from"./GlassButton-BfRB-w5d.js";import"./ui-qr7cu0yN.js";import"./Glassmorphism-B6x2MkMT.js";const D=()=>{const[s,p]=o.useState({email:"",password:""}),[n,l]=o.useState(!1),[d,m]=o.useState(""),a=j(),{login:g,authMethod:i,setAuthMethod:c}=v(),h=r=>{p({...s,[r.target.name]:r.target.value})},w=async r=>{var x,u;r.preventDefault(),l(!0),m("");try{await g(s.email,s.password);const t=localStorage.getItem("userRole");a(t==="admin"?"/dashboard/admin":t==="host"?"/dashboard/host":"/dashboard")}catch(t){const f=t instanceof Error&&"response"in t?(u=(x=t.response)==null?void 0:x.data)==null?void 0:u.error:"Login failed. Please try again.";m(f||"Login failed. Please try again.")}finally{l(!1)}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"max-w-md w-full space-y-8",children:e.jsxs(y,{title:"Welcome Back",subtitle:"Sign in to your RideShare SA account",onSubmit:w,className:"w-full",children:[d&&e.jsx("div",{className:"bg-red-500/20 border border-red-400/30 rounded-xl p-4 backdrop-blur-md",children:e.jsx("p",{className:"text-sm text-red-200",children:d})}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-4 border border-white/20",children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-3",children:"Authentication Method"}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("button",{type:"button",onClick:()=>c("firebase"),className:`flex-1 px-4 py-2 rounded-lg text-sm font-medium transition-all duration-300 ${i==="firebase"?"bg-blue-500/20 text-blue-200 border border-blue-400/30":"bg-white/10 text-white/70 border border-white/20 hover:bg-white/20"}`,children:"üî• Firebase"}),e.jsx("button",{type:"button",onClick:()=>c("express"),className:`flex-1 px-4 py-2 rounded-lg text-sm font-medium transition-all duration-300 ${i==="express"?"bg-green-500/20 text-green-200 border border-green-400/30":"bg-white/10 text-white/70 border border-white/20 hover:bg-white/20"}`,children:"‚ö° Express JWT"})]}),e.jsx("p",{className:"text-xs text-white/60 mt-2",children:i==="firebase"?"Using Firebase Authentication with Firestore":"Using Express JWT with in-memory storage"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(b,{label:"Email address",name:"email",type:"email",autoComplete:"email",required:!0,value:s.email,onChange:h,placeholder:"Enter your email",icon:"‚úâÔ∏è"}),e.jsx(b,{label:"Password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:s.password,onChange:h,placeholder:"Enter your password",icon:"üîí",variant:"password"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-white/60 focus:ring-white/20 border-white/30 rounded bg-white/10"}),e.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-white/80",children:"Remember me"})]}),e.jsx("div",{className:"text-sm",children:e.jsx("a",{href:"#",className:"font-medium text-white/80 hover:text-white",children:"Forgot password?"})})]}),e.jsx(S,{type:"submit",disabled:n,className:"w-full",gradient:!0,icon:"üöó",children:n?"Signing in...":"Sign in"}),e.jsx("div",{className:"text-center",children:e.jsxs("p",{className:"text-white/70 text-sm",children:["Don't have an account?"," ",e.jsx(N,{to:"/register",className:"font-medium text-white hover:text-white/80 transition-colors",children:"Create one here"})]})})]})})})};export{D as default};
