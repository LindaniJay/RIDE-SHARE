import{j as a}from"./query-CSyQ0w5Y.js";import{r as d}from"./vendor-CBH9K-97.js";import{c as g,L as w}from"./router-BWB2dKYR.js";import{u as v}from"./index-BpljKX9V.js";import{G as N}from"./GlassForm-H9qvmeAC.js";import{G as o,a as b}from"./GlassButton-BfRB-w5d.js";import"./ui-qr7cu0yN.js";import"./Glassmorphism-B6x2MkMT.js";const E=()=>{const[e,r]=d.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:"",phone:"",role:"renter"}),[c,l]=d.useState(!1),[m,i]=d.useState(""),{register:p}=v(),n=g(),x=async s=>{var u,h;if(s.preventDefault(),l(!0),i(""),e.password!==e.confirmPassword){i("Passwords do not match"),l(!1);return}try{await p({firstName:e.firstName,lastName:e.lastName,email:e.email,password:e.password,phone:e.phone,role:e.role});const t=localStorage.getItem("userRole");n(t==="admin"?"/dashboard/admin":t==="host"?"/dashboard/host":"/dashboard")}catch(t){const f=t instanceof Error&&"response"in t?(h=(u=t.response)==null?void 0:u.data)==null?void 0:h.error:"Registration failed";i(f||"Registration failed")}finally{l(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"max-w-md w-full space-y-8",children:a.jsxs(N,{title:"Join RideShare SA",subtitle:"Create your account and start your journey",onSubmit:x,className:"w-full",children:[m&&a.jsx("div",{className:"bg-red-500/20 border border-red-400/30 rounded-xl p-4 backdrop-blur-md",children:a.jsx("p",{className:"text-sm text-red-200",children:m})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(o,{label:"First Name",name:"firstName",type:"text",required:!0,value:e.firstName,onChange:s=>r({...e,firstName:s.target.value}),placeholder:"First name",icon:"User"}),a.jsx(o,{label:"Last Name",name:"lastName",type:"text",required:!0,value:e.lastName,onChange:s=>r({...e,lastName:s.target.value}),placeholder:"Last name",icon:"User"})]}),a.jsx(o,{label:"Email address",name:"email",type:"email",required:!0,value:e.email,onChange:s=>r({...e,email:s.target.value}),placeholder:"Enter your email",icon:"Mail"}),a.jsx(o,{label:"Phone (optional)",name:"phone",type:"tel",value:e.phone,onChange:s=>r({...e,phone:s.target.value}),placeholder:"+27 82 123 4567",icon:"Phone"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-white",children:"I want to"}),a.jsxs("select",{name:"role",value:e.role,onChange:s=>r({...e,role:s.target.value}),className:"w-full px-4 py-3 rounded-xl text-white placeholder-white/50 bg-white/10 dark:bg-white/5 backdrop-blur-md border border-white/20 dark:border-white/10 focus:outline-none focus:ring-2 focus:ring-white/20 dark:focus:ring-white/10 transition-all duration-300 ease-in-out",children:[a.jsx("option",{value:"renter",className:"bg-gray-800 text-white",children:"Rent vehicles"}),a.jsx("option",{value:"host",className:"bg-gray-800 text-white",children:"List my vehicles"})]})]}),a.jsx(o,{label:"Password",name:"password",type:"password",required:!0,value:e.password,onChange:s=>r({...e,password:s.target.value}),placeholder:"Create a password",icon:"Lock",variant:"password"}),a.jsx(o,{label:"Confirm Password",name:"confirmPassword",type:"password",required:!0,value:e.confirmPassword,onChange:s=>r({...e,confirmPassword:s.target.value}),placeholder:"Confirm your password",icon:"Lock",variant:"password"})]}),a.jsx(b,{type:"submit",disabled:c,className:"w-full",gradient:!0,icon:"ðŸš€",children:c?"Creating account...":"Create account"}),a.jsx("div",{className:"text-center",children:a.jsxs("p",{className:"text-white/70 text-sm",children:["Already have an account?"," ",a.jsx(w,{to:"/login",className:"font-medium text-white hover:text-white/80 transition-colors",children:"Sign in here"})]})})]})})})};export{E as default};
