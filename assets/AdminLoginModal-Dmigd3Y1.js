import{r as e,j as s}from"./react-vendor-DFf_48ct.js";import{j as t,G as a,I as i}from"./admin-pages-7ozwo2GF.js";import{G as r}from"./GlassButton-CO4H1giY.js";import"./vendor-eiHq4GmM.js";import"./firebase-B6ibEfTD.js";import"./utils-Bi8vyz5k.js";const l=({isOpen:l,onClose:n})=>{const{login:d,loading:o}=t(),[m,c]=e.useState({email:"",password:""}),[p,u]=e.useState(""),[x,h]=e.useState(!1);e.useEffect(()=>{l&&(u(""),h(!1),c({email:"",password:""}))},[l]);const f=e=>{const{name:s,value:t}=e.target;c(e=>({...e,[s]:t})),u("")},b=()=>{c({email:"",password:""}),u(""),h(!1),n()};return e.useEffect(()=>{const e=e=>{"Escape"===e.key&&l&&b()};return l&&(document.addEventListener("keydown",e),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",e),document.body.style.overflow="unset"}},[l]),l?s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:b}),s.jsx("div",{className:"relative w-full max-w-md max-h-[90vh] overflow-y-auto",children:s.jsxs(a,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"h-10 w-10 bg-gradient-to-r from-purple-600/90 to-pink-600/90 backdrop-blur-sm rounded-full flex items-center justify-center",children:s.jsx(i,{name:"Settings",size:"sm",className:"text-white"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:"Admin Login"}),s.jsx("p",{className:"text-sm text-white/70",children:"Access admin dashboard"})]})]}),s.jsx("button",{onClick:b,className:"glass-button p-2 text-white/70 hover:text-white transition-colors",children:s.jsx(i,{name:"X",size:"sm"})})]}),p&&s.jsx("div",{className:"bg-red-500/20 border border-red-500/30 rounded-lg p-4 text-red-200 text-sm mb-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(i,{name:"AlertTriangle",size:"sm",className:"mr-2"}),p]})}),s.jsxs("form",{onSubmit:async e=>{e.preventDefault(),u(""),h(!0);try{await d(m.email,m.password),n()}catch(s){u(s.message||"Admin login failed. Please check your credentials.")}finally{h(!1)}},className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"admin-email",className:"block text-sm font-medium text-white/70 mb-2",children:"Admin Email"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(i,{name:"Mail",size:"sm",className:"text-white/50"})}),s.jsx("input",{id:"admin-email",name:"email",type:"email",autoComplete:"email",required:!0,value:m.email,onChange:f,className:"w-full pl-10 pr-3 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-purple-500/50 focus:border-purple-500/50 transition-all",placeholder:"admin@rideshare.co.za"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"admin-password",className:"block text-sm font-medium text-white/70 mb-2",children:"Admin Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(i,{name:"Lock",size:"sm",className:"text-white/50"})}),s.jsx("input",{id:"admin-password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:m.password,onChange:f,className:"w-full pl-10 pr-3 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-purple-500/50 focus:border-purple-500/50 transition-all",placeholder:"Enter your password"})]})]}),s.jsx(r,{type:"submit",disabled:x||o,className:"w-full flex justify-center items-center space-x-2 bg-gradient-to-r from-purple-600/90 to-pink-600/90 hover:from-purple-500/90 hover:to-pink-500/90 text-white font-semibold py-3 px-4 rounded-lg transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:x||o?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),s.jsx("span",{children:"Signing in..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(i,{name:"LogIn",size:"sm"}),s.jsx("span",{children:"Sign in to Admin Dashboard"})]})})]}),s.jsx("div",{className:"mt-6 p-4 bg-purple-500/10 border border-purple-400/30 rounded-lg",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx(i,{name:"Shield",size:"sm",className:"text-purple-400 mr-2 mt-0.5"}),s.jsxs("div",{className:"text-sm text-purple-200",children:[s.jsx("p",{className:"font-medium mb-1",children:"Admin Access Only:"}),s.jsx("p",{className:"text-xs text-purple-300/80",children:"Admin accounts are pre-configured in Firebase. Use your assigned credentials to access the admin dashboard."})]})]})})]})})]}):null};export{l as default};
