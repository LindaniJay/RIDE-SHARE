import{r as e,j as s}from"./react-vendor-DFf_48ct.js";import{I as a}from"./admin-pages-D7268xwI.js";import"./vendor-eiHq4GmM.js";import"./firebase-B6ibEfTD.js";import"./utils-Bi8vyz5k.js";const t=({userId:t,className:i=""})=>{const[r,l]=e.useState([]),[o,c]=e.useState(!0);e.useEffect(()=>{n()},[t]);const n=async()=>{try{const e=localStorage.getItem("authToken"),s=await fetch(`/api/users/${t}/saved-vehicles`,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(s.ok){const e=await s.json();l(e.vehicles||[])}}catch(e){l([{id:"1",hostId:"host1",make:"Toyota",model:"Hilux",year:2022,type:"bakkie",pricePerDay:250,dailyRate:250,location:"Cape Town",images:["https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?w=400"],features:[],status:"approved",approvalStatus:"approved",description:"Perfect for your South African adventure!",fuelType:"petrol",transmission:"manual",seats:5,doors:4,isAvailable:!0,rating:4.8,reviewCount:24,createdAt:new Date,updatedAt:new Date}])}finally{c(!1)}};return o?s.jsx("div",{className:`space-y-4 ${i}`,children:[...Array(3)].map((e,a)=>s.jsx("div",{className:"animate-pulse",children:s.jsx("div",{className:"h-32 bg-white/10 rounded-xl"})},a))}):s.jsx("div",{className:`space-y-4 ${i}`,children:0===r.length?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(a,{name:"Heart",size:"lg",className:"text-white/50 mb-4"}),s.jsx("p",{className:"text-white/70",children:"No saved vehicles yet"}),s.jsx("p",{className:"text-white/50 text-sm",children:"Browse vehicles and save your favorites!"})]}):r.map(e=>s.jsx("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-4 border border-white/20 hover:bg-white/20 transition-all duration-300",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("img",{src:e.images[0],alt:`${e.make} ${e.model}`,className:"w-20 h-20 object-cover rounded-lg"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("h3",{className:"text-lg font-semibold text-white",children:[e.year," ",e.make," ",e.model]}),s.jsx("p",{className:"text-white/70 text-sm mb-2",children:e.location}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("span",{className:"text-yellow-400 flex items-center space-x-1",children:[s.jsx(a,{name:"Star",size:"sm"}),s.jsx("span",{children:e.rating})]}),s.jsxs("span",{className:"text-white/70",children:["(",e.reviewCount," reviews)"]}),s.jsxs("span",{className:"text-green-400 font-semibold",children:["R",e.pricePerDay,"/day"]})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{className:"px-3 py-1 bg-blue-500/20 text-blue-300 rounded-lg text-sm hover:bg-blue-500/30 transition-colors",children:"View Details"}),s.jsx("button",{onClick:()=>(async e=>{try{const s=localStorage.getItem("authToken");await fetch(`/api/users/${t}/saved-vehicles/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}}),l(s=>s.filter(s=>s.id!==e))}catch(s){}})(e.id),className:"px-3 py-1 bg-red-500/20 text-red-300 rounded-lg text-sm hover:bg-red-500/30 transition-colors",children:"Remove"})]})]})},e.id))})};export{t as SavedVehicles,t as default};
