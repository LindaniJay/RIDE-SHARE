import{j as r}from"./query-CSyQ0w5Y.js";import{r as o,a as R}from"./vendor-CBH9K-97.js";import{b as U,c as v,a as B,u as H,F as z}from"./index-VfPjVbXF.js";import{c as $}from"./router-BWB2dKYR.js";import{S as P}from"./SEO-Oys14QHn.js";import"./ui-qr7cu0yN.js";const F=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,C=U,S=(e,s)=>t=>{var d;if((s==null?void 0:s.variants)==null)return C(e,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:n,defaultVariants:a}=s,c=Object.keys(n).map(i=>{const l=t==null?void 0:t[i],f=a==null?void 0:a[i];if(l===null)return null;const u=F(l)||F(f);return n[i][u]}),x=t&&Object.entries(t).reduce((i,l)=>{let[f,u]=l;return u===void 0||(i[f]=u),i},{}),b=s==null||(d=s.compoundVariants)===null||d===void 0?void 0:d.reduce((i,l)=>{let{class:f,className:u,...p}=l;return Object.entries(p).every(g=>{let[j,y]=g;return Array.isArray(y)?y.includes({...a,...x}[j]):{...a,...x}[j]===y})?[...i,f,u]:i},[]);return C(e,c,b,t==null?void 0:t.class,t==null?void 0:t.className)},W=S("rounded-xl border bg-white shadow-sm transition-all duration-200",{variants:{variant:{default:"border-gray-200",elevated:"border-gray-200 shadow-lg hover:shadow-xl",glass:"bg-white/10 backdrop-blur-md border-white/20 text-white",outlined:"border-2 border-gray-300",filled:"bg-gray-50 border-gray-200"},padding:{none:"p-0",sm:"p-4",md:"p-6",lg:"p-8"},hover:{true:"hover:shadow-md cursor-pointer",false:""}},defaultVariants:{variant:"default",padding:"md",hover:!1}}),A=o.forwardRef(({className:e,variant:s,padding:t,hover:d,asChild:n=!1,...a},c)=>{const x=n?R.Fragment:"div";return r.jsx(x,{ref:n?void 0:c,className:v(W({variant:s,padding:t,hover:d,className:e})),...a})});A.displayName="Card";const L=o.forwardRef(({className:e,...s},t)=>r.jsx("div",{ref:t,className:v("flex flex-col space-y-1.5 p-6",e),...s}));L.displayName="CardHeader";const _=o.forwardRef(({className:e,...s},t)=>r.jsx("h3",{ref:t,className:v("text-lg font-semibold leading-none tracking-tight",e),...s}));_.displayName="CardTitle";const q=o.forwardRef(({className:e,...s},t)=>r.jsx("p",{ref:t,className:v("text-sm text-gray-500",e),...s}));q.displayName="CardDescription";const V=o.forwardRef(({className:e,...s},t)=>r.jsx("div",{ref:t,className:v("p-6 pt-0",e),...s}));V.displayName="CardContent";const G=o.forwardRef(({className:e,...s},t)=>r.jsx("div",{ref:t,className:v("flex items-center p-6 pt-0",e),...s}));G.displayName="CardFooter";const K=S("flex w-full rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:cursor-not-allowed disabled:opacity-50 transition-colors duration-200",{variants:{variant:{default:"border-gray-300 focus:ring-blue-500",error:"border-red-500 focus:ring-red-500 focus:border-red-500",success:"border-green-500 focus:ring-green-500 focus:border-green-500",glass:"bg-white/10 backdrop-blur-md border-white/20 text-white placeholder:text-white/60 focus:ring-white/50"},size:{sm:"h-8 px-2 text-xs",md:"h-10 px-3 text-sm",lg:"h-12 px-4 text-base"}},defaultVariants:{variant:"default",size:"md"}}),E=o.forwardRef(({className:e,variant:s,size:t,label:d,error:n,helperText:a,leftIcon:c,rightIcon:x,required:b,id:i,...l},f)=>{const u=i||`input-${Math.random().toString(36).substr(2,9)}`,p=!!n,g=p?"error":s;return r.jsxs("div",{className:"w-full",children:[d&&r.jsxs("label",{htmlFor:u,className:"block text-sm font-medium text-gray-700 mb-1",children:[d,b&&r.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),r.jsxs("div",{className:"relative",children:[c&&r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx("span",{className:"text-gray-400","aria-hidden":"true",children:c})}),r.jsx("input",{id:u,className:v(K({variant:g,size:t,className:e}),c&&"pl-10",x&&"pr-10"),ref:f,"aria-invalid":p,"aria-describedby":n?`${u}-error`:a?`${u}-helper`:void 0,...l}),x&&r.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:r.jsx("span",{className:"text-gray-400","aria-hidden":"true",children:x})})]}),n&&r.jsx("p",{id:`${u}-error`,className:"mt-1 text-sm text-red-600",role:"alert",children:n}),a&&!n&&r.jsx("p",{id:`${u}-helper`,className:"mt-1 text-sm text-gray-500",children:a})]})});E.displayName="Input";const J=(e,s)=>{switch(s.type){case"SET_FIELD_VALUE":return{...e,fields:{...e.fields,[s.payload.name]:{...e.fields[s.payload.name],value:s.payload.value,touched:!0}},isDirty:!0};case"SET_FIELD_ERROR":return{...e,fields:{...e.fields,[s.payload.name]:{...e.fields[s.payload.name],error:s.payload.error}}};case"CLEAR_FIELD_ERROR":return{...e,fields:{...e.fields,[s.payload.name]:{...e.fields[s.payload.name],error:void 0}}};case"TOUCH_FIELD":return{...e,fields:{...e.fields,[s.payload.name]:{...e.fields[s.payload.name],touched:!0}}};case"SET_SUBMITTING":return{...e,isSubmitting:s.payload};case"RESET_FORM":return{fields:{},isValid:!0,isSubmitting:!1,isDirty:!1};case"SET_FORM_DATA":const t={};return Object.entries(s.payload).forEach(([d,n])=>{t[d]={name:d,value:n,touched:!1}}),{...e,fields:t,isDirty:!1};default:return e}},T=o.createContext(void 0),O=()=>{const e=o.useContext(T);if(!e)throw new Error("useForm must be used within a FormProvider");return e},Q=({children:e,initialValues:s={},onSubmit:t,validationSchema:d,className:n})=>{const[a,c]=o.useReducer(J,{fields:{},isValid:!0,isSubmitting:!1,isDirty:!1}),x=o.useCallback((h,m)=>{c({type:"SET_FIELD_VALUE",payload:{name:h,value:m}})},[]),b=o.useCallback((h,m)=>{c({type:"SET_FIELD_ERROR",payload:{name:h,error:m}})},[]),i=o.useCallback(h=>{c({type:"CLEAR_FIELD_ERROR",payload:{name:h}})},[]),l=o.useCallback(h=>{c({type:"TOUCH_FIELD",payload:{name:h}})},[]),f=o.useCallback(h=>{c({type:"SET_SUBMITTING",payload:h})},[]),u=o.useCallback(()=>{c({type:"RESET_FORM"})},[]),p=o.useCallback(h=>{var m;return(m=a.fields[h])==null?void 0:m.value},[a.fields]),g=o.useCallback(h=>{var m;return(m=a.fields[h])==null?void 0:m.error},[a.fields]),j=o.useCallback(h=>{var m;return((m=a.fields[h])==null?void 0:m.touched)||!1},[a.fields]),y=async h=>{if(h.preventDefault(),!a.isSubmitting){f(!0);try{const m={};if(Object.entries(a.fields).forEach(([w,N])=>{m[w]=N.value}),d){const w=d(m);if(Object.keys(w).length>0){Object.entries(w).forEach(([I,M])=>{b(I,M)}),f(!1);return}}await t(m)}catch(m){console.error("Form submission error:",m)}finally{f(!1)}}};R.useEffect(()=>{Object.keys(s).length>0&&c({type:"SET_FORM_DATA",payload:s})},[s]);const D={state:a,setFieldValue:x,setFieldError:b,clearFieldError:i,touchField:l,setSubmitting:f,resetForm:u,getFieldValue:p,getFieldError:g,isFieldTouched:j};return r.jsx(T.Provider,{value:D,children:r.jsx("form",{onSubmit:y,className:v("space-y-6",n),children:e})})},k=({name:e,children:s})=>{const{getFieldValue:t,getFieldError:d,isFieldTouched:n,setFieldValue:a,setFieldError:c,clearFieldError:x,touchField:b}=O(),i={value:t(e),error:d(e),touched:n(e),setValue:l=>a(e,l),setError:l=>c(e,l),clearError:()=>x(e),touch:()=>b(e)};return r.jsx(r.Fragment,{children:s(i)})},X=({children:e,className:s})=>{const{state:t}=O();return r.jsx("button",{type:"submit",disabled:t.isSubmitting||!t.isValid,className:v("w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",s),children:t.isSubmitting?"Submitting...":e})},Y=({onSuccess:e,className:s})=>{const[t,d]=o.useState(!1),n=$(),{error:a,success:c}=B(),{login:x}=H(),b=async i=>{d(!0);try{await x(i.email,i.password);const l=await z.getCurrentUser();if(!l||l.role!=="admin")throw new Error("Access denied. Admin role required.");c("Admin login successful","Welcome to the admin dashboard"),e==null||e(),n("/admin-dashboard")}catch(l){a("Admin login failed",l.message||"Invalid admin credentials or insufficient permissions")}finally{d(!1)}};return r.jsxs("div",{className:`min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 ${s}`,children:[r.jsxs("button",{onClick:()=>n("/"),className:"absolute top-6 left-6 glass-button flex items-center space-x-2 px-4 py-2 text-white/80 hover:text-white transition-all duration-300",title:"Return to Home",children:[r.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),r.jsx("span",{children:"Back to Home"})]}),r.jsxs("div",{className:"max-w-md w-full space-y-8",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-white",children:"Admin Access"}),r.jsx("p",{className:"mt-2 text-sm text-gray-300",children:"Sign in to access the admin dashboard"})]}),r.jsxs(A,{className:"mt-8 bg-white/20 backdrop-blur-md border border-white/30 shadow-2xl",children:[r.jsx(L,{children:r.jsx(_,{className:"text-center text-white",children:"Administrator Login"})}),r.jsx(V,{children:r.jsx(Q,{onSubmit:b,children:r.jsxs("div",{className:"space-y-4",children:[r.jsx(k,{name:"email",children:({value:i,setValue:l,error:f,clearError:u,touch:p})=>r.jsx(E,{label:"Admin Email",type:"email",value:i||"",onChange:g=>{l(g.target.value),u()},onBlur:()=>p(),error:f,placeholder:"admin@rideshare.co.za",required:!0,leftIcon:r.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"})})})}),r.jsx(k,{name:"password",children:({value:i,setValue:l,error:f,clearError:u,touch:p})=>r.jsx(E,{label:"Password",type:"password",value:i||"",onChange:g=>{l(g.target.value),u()},onBlur:()=>p(),error:f,placeholder:"Enter admin password",required:!0,leftIcon:r.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})})}),r.jsx(X,{className:"w-full",children:t?"Signing in...":"Sign in as Admin"})]})})})]}),r.jsx("div",{className:"text-center",children:r.jsxs("p",{className:"text-sm text-white/90 bg-white/10 backdrop-blur-md rounded-lg p-3 border border-white/20",children:["Regular users should use"," ",r.jsx("button",{onClick:()=>n("/login"),className:"font-medium text-blue-300 hover:text-blue-200 transition-colors",children:"Firebase authentication"})]})})]})]})},ie=()=>r.jsxs(r.Fragment,{children:[r.jsx(P,{title:"Admin Login - RideShare SA",description:"Administrator access to RideShare SA dashboard",keywords:"admin login, administrator, dashboard, RideShare SA",url:"https://rideshare-sa.co.za/admin-login"}),r.jsx(Y,{})]});export{ie as default};
