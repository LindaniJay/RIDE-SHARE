import{r as e,j as a,c as t,f as i,u as s,L as o}from"./react-vendor-DFf_48ct.js";import{S as r}from"./SEO-Blep7_bA.js";import{I as n,l}from"./admin-pages-7ozwo2GF.js";import{c}from"./dashboard-pages-BIxdi_fj.js";import{G as d}from"./GlassButton-CO4H1giY.js";import{m}from"./ui-libs-CFQMNqiz.js";import"./vendor-eiHq4GmM.js";import"./firebase-B6ibEfTD.js";import"./utils-Bi8vyz5k.js";const h=e.forwardRef(({className:e,label:t,error:i,helperText:s,leftIcon:o,rightIcon:r,icon:l,required:d=!1,variant:m="default",id:h,...p},u)=>{const g=o||l,f=h||`glass-input-${Math.random().toString(36).substr(2,9)}`,x=!!i,b=x?"error":m;return a.jsxs("div",{className:"w-full",children:[t&&a.jsxs("label",{htmlFor:f,className:"block text-sm font-medium text-white/90 mb-2",children:[t,d&&a.jsx("span",{className:"text-red-400 ml-1",children:"*"})]}),a.jsxs("div",{className:"relative",children:[g&&a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(n,{name:g,className:"h-4 w-4 text-white/70"})}),a.jsx("input",{id:f,ref:u,className:c("w-full px-4 py-3 rounded-xl text-white placeholder-white/50 bg-white/10 backdrop-blur-md border transition-all duration-300 ease-in-out focus:outline-none",g&&"pl-10",r&&"pr-10","error"===b&&"border-red-400 focus:border-red-400 focus:ring-2 focus:ring-red-500/50","success"===b&&"border-green-400 focus:border-green-400 focus:ring-2 focus:ring-green-500/50","default"===b&&"border-white/20 hover:border-white/30 focus:border-blue-400 focus:ring-2 focus:ring-blue-500/50",p.disabled&&"opacity-50 cursor-not-allowed",e),"aria-invalid":x,"aria-describedby":i?`${f}-error`:s?`${f}-helper`:void 0,...p}),r&&a.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:a.jsx(n,{name:r,className:"h-4 w-4 text-white/70"})})]}),i&&a.jsx("p",{id:`${f}-error`,className:"mt-2 text-sm text-red-400",children:i}),s&&!i&&a.jsx("p",{id:`${f}-helper`,className:"mt-2 text-sm text-white/60",children:s})]})});h.displayName="GlassInput";const p=({options:t,value:i,onChange:s,placeholder:o="Select an option",label:r,error:l,disabled:d=!1,className:m,required:h=!1,searchable:p=!1})=>{const[u,g]=e.useState(!1),[f,x]=e.useState(""),b=e.useRef(null),y=e.useRef(null),w=t.find(e=>e.value===i),v=p?t.filter(e=>e.label.toLowerCase().includes(f.toLowerCase())&&!e.disabled):t.filter(e=>!e.disabled);return e.useEffect(()=>{const e=e=>{b.current&&!b.current.contains(e.target)&&(g(!1),x(""))};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),e.useEffect(()=>{u&&p&&y.current&&y.current.focus()},[u,p]),a.jsxs("div",{className:c("w-full",m),children:[r&&a.jsxs("label",{className:"block text-sm font-medium text-white/90 mb-2 text-shadow-sm",children:[r,h&&a.jsx("span",{className:"text-red-400 ml-1",children:"*"})]}),a.jsxs("div",{className:"relative",ref:b,children:[a.jsx("button",{type:"button",onClick:()=>!d&&g(!u),onKeyDown:e=>{"Enter"===e.key||" "===e.key?(e.preventDefault(),g(!u)):"Escape"===e.key&&(g(!1),x(""))},disabled:d,className:c("w-full px-4 py-3 rounded-xl text-white placeholder-white/50 bg-white/10 backdrop-blur-md border transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-shadow-sm",l?"border-red-400 focus:border-red-400 focus:ring-red-500/50":"border-white/20 hover:border-white/30",d&&"opacity-50 cursor-not-allowed",u&&"border-blue-400 ring-2 ring-blue-500/50"),children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[w?.icon&&a.jsx(n,{name:w.icon,className:"h-4 w-4 text-white/70"}),a.jsx("span",{className:c(w?"text-white text-shadow-sm":"text-white/50","text-shadow-sm"),children:w?w.label:o})]}),a.jsx(n,{name:"chevron-down",className:c("h-4 w-4 text-white/70 transition-transform duration-200",u&&"rotate-180")})]})}),u&&a.jsxs("div",{className:"absolute z-50 w-full mt-2 bg-white/10 backdrop-blur-md border border-white/20 rounded-xl shadow-2xl overflow-hidden relative",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-black/10 via-transparent to-black/5 rounded-inherit pointer-events-none"}),p&&a.jsx("div",{className:"p-3 border-b border-white/10 relative z-10",children:a.jsxs("div",{className:"relative",children:[a.jsx(n,{name:"search",className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-white/50"}),a.jsx("input",{ref:y,type:"text",value:f,onChange:e=>x(e.target.value),placeholder:"Search options...",className:"w-full pl-10 pr-4 py-2 bg-white/5 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-400 text-shadow-sm"})]})}),a.jsx("div",{className:"max-h-60 overflow-y-auto relative z-10",children:v.length>0?v.map(e=>a.jsxs("button",{type:"button",onClick:()=>{return a=e.value,s(a),g(!1),void x("");var a},disabled:e.disabled,className:c("glass-dropdown-option text-shadow-sm",i===e.value&&"selected",e.disabled&&"opacity-50 cursor-not-allowed"),children:[e.icon&&a.jsx(n,{name:e.icon,className:"h-4 w-4"}),a.jsx("span",{className:"text-shadow-sm",children:e.label}),i===e.value&&a.jsx(n,{name:"check",className:"h-4 w-4 text-blue-400 ml-auto"})]},e.value)):a.jsx("div",{className:"px-4 py-3 text-white/50 text-center text-shadow-sm",children:"No options found"})})]})]}),l&&a.jsx("p",{className:"mt-2 text-sm text-red-400 text-shadow-sm",children:l})]})},u=({src:i,alt:s,className:o="",placeholder:r="/placeholder-image.jpg",blurDataURL:n,width:l,height:c,priority:d=!1,onLoad:h,onError:p})=>{const[u,g]=e.useState(!1),[f,x]=e.useState(!1),b=e.useRef(null),[y,w]=e.useState(d),v=e.useRef(null);t.useEffect(()=>{if(d)return;const e=new IntersectionObserver(([a])=>{a.isIntersecting&&(w(!0),e.disconnect())},{threshold:.1});return v.current&&e.observe(v.current),()=>e.disconnect()},[d]);const k=f?r:i;return a.jsxs("div",{ref:v,className:`relative overflow-hidden ${o}`,style:{width:l,height:c},children:[n&&!u&&a.jsx(m.div,{className:"absolute inset-0 bg-gray-200 dark:bg-gray-700",style:{backgroundImage:`url(${n})`,backgroundSize:"cover",backgroundPosition:"center",filter:"blur(10px)",transform:"scale(1.1)"},initial:{opacity:1},animate:{opacity:u?0:1},transition:{duration:.3}}),(y||d)&&a.jsx(m.img,{ref:b,src:k,alt:s,className:"w-full h-full object-cover transition-opacity duration-300 "+(u?"opacity-100":"opacity-0"),onLoad:()=>{g(!0),h?.()},onError:()=>{x(!0),p?.()},initial:{opacity:0},animate:{opacity:u?1:0},transition:{duration:.3},loading:d?"eager":"lazy",decoding:"async"}),!u&&!f&&a.jsx(m.div,{className:"absolute inset-0 bg-gray-200 dark:bg-gray-700 animate-pulse",initial:{opacity:1},animate:{opacity:u?0:1},transition:{duration:.3}})]})},g=({car:t,isOpen:i,onClose:s,onBookingSuccess:o})=>{const[r,l]=e.useState({startDate:"",endDate:"",notes:"",pickupLocation:t.location,returnLocation:t.location}),[c,m]=e.useState(!1),[p,u]=e.useState(""),g=()=>{if(!r.startDate||!r.endDate)return 0;const e=new Date(r.startDate),a=new Date(r.endDate);return Math.ceil((a.getTime()-e.getTime())/864e5)*t.pricePerDay};return i?a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:a.jsx("div",{className:"bg-white/10 backdrop-blur-md rounded-xl border border-white/20 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("h2",{className:"text-2xl font-bold text-white",children:["Book ",t.make," ",t.model]}),a.jsx("button",{onClick:s,className:"text-white/70 hover:text-white transition-colors",children:a.jsx(n,{name:"x",className:"h-6 w-6"})})]}),a.jsx("div",{className:"mb-6 p-4 bg-white/5 rounded-lg",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("img",{src:t.images[0],alt:`${t.make} ${t.model}`,className:"w-20 h-20 object-cover rounded-lg"}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-white",children:[t.make," ",t.model," (",t.year,")"]}),a.jsx("p",{className:"text-white/70",children:t.location}),a.jsxs("p",{className:"text-green-400 font-semibold",children:["R",t.pricePerDay,"/day"]})]})]})}),a.jsxs("form",{onSubmit:async e=>{e.preventDefault(),m(!0),u("");try{const e={vehicleId:t.id,startDate:r.startDate,endDate:r.endDate,notes:r.notes,pickupLocation:r.pickupLocation,returnLocation:r.returnLocation,totalPrice:g(),totalDays:Math.ceil((new Date(r.endDate).getTime()-new Date(r.startDate).getTime())/864e5)};try{const a=await fetch("/api/bookings",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("accessToken")}`},body:JSON.stringify(e)});if(a.ok){const e=await a.json();return o(e.booking),void s()}}catch(a){}const i={id:`booking_${Date.now()}`,vehicleId:t.id,renterId:"current_user",hostId:t.host.id,startDate:r.startDate,endDate:r.endDate,totalDays:Math.ceil((new Date(r.endDate).getTime()-new Date(r.startDate).getTime())/864e5),pricePerDay:t.pricePerDay,totalPrice:g(),status:"pending",paymentStatus:"pending",vehicle:{id:t.id,make:t.make,model:t.model,year:t.year,type:t.type,images:t.images,location:t.location},host:t.host,renter:{id:"current_user",name:"Current User",email:"user@example.com",phone:"+27 82 123 4567"},createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString(),notes:r.notes,pickupLocation:r.pickupLocation,returnLocation:r.returnLocation},n=JSON.parse(localStorage.getItem("mockBookings")||"[]");n.push(i),localStorage.setItem("mockBookings",JSON.stringify(n)),window.dispatchEvent(new CustomEvent("bookingCreated",{detail:i})),await new Promise(e=>setTimeout(e,1e3)),o(i),s()}catch(i){u("Failed to create booking. Please try again.")}finally{m(!1)}},className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(h,{label:"Start Date",type:"date",value:r.startDate,onChange:e=>l(a=>({...a,startDate:e.target.value})),required:!0,icon:"Calendar"}),a.jsx(h,{label:"End Date",type:"date",value:r.endDate,onChange:e=>l(a=>({...a,endDate:e.target.value})),required:!0,icon:"Calendar"})]}),a.jsx(h,{label:"Pickup Location",value:r.pickupLocation,onChange:e=>l(a=>({...a,pickupLocation:e.target.value})),placeholder:"Enter pickup location",icon:"MapPin"}),a.jsx(h,{label:"Return Location",value:r.returnLocation,onChange:e=>l(a=>({...a,returnLocation:e.target.value})),placeholder:"Enter return location",icon:"MapPin"}),a.jsxs("div",{children:[a.jsx("label",{className:"glass-label",children:"Notes (Optional)"}),a.jsx("textarea",{value:r.notes,onChange:e=>l(a=>({...a,notes:e.target.value})),placeholder:"Any special requests or notes...",rows:3,className:"glass-textarea"})]}),r.startDate&&r.endDate&&a.jsxs("div",{className:"p-4 bg-white/5 rounded-lg",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"text-white/70",children:"Duration:"}),a.jsxs("span",{className:"text-white",children:[Math.ceil((new Date(r.endDate).getTime()-new Date(r.startDate).getTime())/864e5)," days"]})]}),a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"text-white/70",children:"Price per day:"}),a.jsxs("span",{className:"text-white",children:["R",t.pricePerDay]})]}),a.jsx("div",{className:"border-t border-white/20 pt-2",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-lg font-semibold text-white",children:"Total:"}),a.jsxs("span",{className:"text-xl font-bold text-green-400",children:["R",g()]})]})})]}),p&&a.jsx("div",{className:"p-3 bg-red-500/20 border border-red-500/30 rounded-lg",children:a.jsx("p",{className:"text-red-400 text-sm",children:p})}),a.jsxs("div",{className:"flex space-x-4 pt-4",children:[a.jsx(d,{type:"button",onClick:s,variant:"secondary",className:"flex-1",children:"Cancel"}),a.jsx(d,{type:"submit",disabled:c||!r.startDate||!r.endDate,className:"flex-1",children:c?"Creating Booking...":"Book Now"})]})]})]})})}):null},f=[{id:"1",make:"Toyota",model:"Corolla",year:2022,type:"car",pricePerDay:450,location:"Cape Town, Western Cape",description:"Reliable and fuel-efficient sedan perfect for city driving and weekend getaways. Well-maintained with full service history. Great for exploring the Cape Peninsula!",features:["Air Conditioning","Bluetooth","GPS Navigation","USB Charging","Backup Camera","Cruise Control"],images:["https://images.unsplash.com/photo-1621007947382-bb3c3994e3fb?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1606664515524-ed2f786a0bd6?w=800&h=600&fit=crop"],host:{id:"host1",name:"Sarah Johnson",email:"sarah.johnson@email.com",phone:"+27 82 123 4567",rating:4.8,avatar:"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=100&h=100&fit=crop&crop=face"},rating:4.7,totalBookings:23,isAvailable:!0,fuelType:"petrol",transmission:"automatic",seats:5,mileage:15e3,color:"White",licensePlate:"CA123GP",insurance:!0,roadworthy:!0,createdAt:"2024-01-15T10:00:00Z",updatedAt:"2024-01-15T10:00:00Z"},{id:"2",make:"BMW",model:"X3",year:2021,type:"suv",pricePerDay:850,location:"Johannesburg, Gauteng",description:"Luxury SUV with premium features. Perfect for family trips and business travel in Joburg. Includes navigation and premium sound system.",features:["Leather Seats","Sunroof","Premium Sound","Navigation","Parking Sensors","Cruise Control","Heated Seats"],images:["https://images.unsplash.com/photo-1555215695-3004980ad54e?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1606664515524-ed2f786a0bd6?w=800&h=600&fit=crop"],host:{id:"host2",name:"Michael Chen",email:"michael.chen@email.com",phone:"+27 83 456 7890",rating:4.9,avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=100&h=100&fit=crop&crop=face"},rating:4.8,totalBookings:45,isAvailable:!0,fuelType:"petrol",transmission:"automatic",seats:5,mileage:28e3,color:"Black",licensePlate:"JHB456GP",insurance:!0,roadworthy:!0,createdAt:"2024-01-10T08:30:00Z",updatedAt:"2024-01-10T08:30:00Z"},{id:"3",make:"Ford",model:"Ranger",year:2023,type:"bakkie",pricePerDay:650,location:"Durban, KwaZulu-Natal",description:"Powerful bakkie perfect for work and adventure. Great for hauling equipment or weekend camping trips along the KZN coast.",features:["4WD","Towing Package","Bed Liner","Bluetooth","USB Charging","Cruise Control"],images:["https://images.unsplash.com/photo-1606664515524-ed2f786a0bd6?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1621007947382-bb3c3994e3fb?w=800&h=600&fit=crop"],host:{id:"host3",name:"David Wilson",email:"david.wilson@email.com",phone:"+27 84 789 0123",rating:4.6,avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=100&h=100&fit=crop&crop=face"},rating:4.5,totalBookings:18,isAvailable:!0,fuelType:"diesel",transmission:"manual",seats:5,mileage:12e3,color:"Blue",licensePlate:"DBN789GP",insurance:!0,roadworthy:!0,createdAt:"2024-01-20T14:15:00Z",updatedAt:"2024-01-20T14:15:00Z"},{id:"4",make:"Mercedes-Benz",model:"C-Class",year:2022,type:"car",pricePerDay:750,location:"Pretoria, Gauteng",description:"Luxury sedan with premium comfort and performance. Perfect for business meetings and special occasions.",features:["Leather Seats","Premium Sound","Navigation","Parking Sensors","Cruise Control","Heated Seats","Sunroof"],images:["https://images.unsplash.com/photo-1618843479313-40f8afb4b4d8?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1606664515524-ed2f786a0bd6?w=800&h=600&fit=crop"],host:{id:"host4",name:"Lisa Brown",email:"lisa.brown@email.com",phone:"+27 85 012 3456",rating:4.7,avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=100&h=100&fit=crop&crop=face"},rating:4.6,totalBookings:32,isAvailable:!0,fuelType:"petrol",transmission:"automatic",seats:5,mileage:18e3,color:"Silver",licensePlate:"PTA012GP",insurance:!0,roadworthy:!0,createdAt:"2024-01-12T09:45:00Z",updatedAt:"2024-01-12T09:45:00Z"},{id:"5",make:"Volkswagen",model:"Golf",year:2021,type:"car",pricePerDay:400,location:"Port Elizabeth, Eastern Cape",description:"Compact and efficient hatchback. Great for city driving and short trips. Excellent fuel economy.",features:["Air Conditioning","Bluetooth","USB Charging","Cruise Control","Parking Sensors"],images:["https://images.unsplash.com/photo-1621007947382-bb3c3994e3fb?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1606664515524-ed2f786a0bd6?w=800&h=600&fit=crop"],host:{id:"host5",name:"James Taylor",email:"james.taylor@email.com",phone:"+27 86 345 6789",rating:4.5,avatar:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=100&h=100&fit=crop&crop=face"},rating:4.4,totalBookings:28,isAvailable:!0,fuelType:"petrol",transmission:"manual",seats:5,mileage:22e3,color:"Red",licensePlate:"PE345GP",insurance:!0,roadworthy:!0,createdAt:"2024-01-08T11:20:00Z",updatedAt:"2024-01-08T11:20:00Z"},{id:"6",make:"Audi",model:"Q5",year:2023,type:"suv",pricePerDay:950,location:"Cape Town, Western Cape",description:"Premium SUV with advanced technology and luxury features. Perfect for family trips and business travel.",features:["Leather Seats","Sunroof","Premium Sound","Navigation","Parking Sensors","Cruise Control","Heated Seats","Wireless Charging"],images:["https://images.unsplash.com/photo-1555215695-3004980ad54e?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1606664515524-ed2f786a0bd6?w=800&h=600&fit=crop"],host:{id:"host6",name:"Emma Davis",email:"emma.davis@email.com",phone:"+27 87 678 9012",rating:4.9,avatar:"https://images.unsplash.com/photo-1544005313-94ddf0286df2?w=100&h=100&fit=crop&crop=face"},rating:4.8,totalBookings:41,isAvailable:!0,fuelType:"petrol",transmission:"automatic",seats:5,mileage:8e3,color:"White",licensePlate:"CT678GP",insurance:!0,roadworthy:!0,createdAt:"2024-01-25T16:30:00Z",updatedAt:"2024-01-25T16:30:00Z"},{id:"7",make:"Isuzu",model:"NPR 400",year:2022,type:"truck",pricePerDay:1200,location:"Johannesburg, Gauteng",description:"Reliable medium-duty truck perfect for construction, delivery, and moving services. Well-maintained with full service history.",features:["Air Brakes","Power Steering","Air Conditioning","Radio","Tool Storage","Loading Ramp"],images:["https://images.unsplash.com/photo-1586528116311-ad8dd3c8310d?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1601584115197-04ecc0da31d7?w=800&h=600&fit=crop"],host:{id:"host7",name:"Thabo Mthembu",email:"thabo.mthembu@email.com",phone:"+27 82 111 2222",rating:4.7,avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=100&h=100&fit=crop&crop=face"},rating:4.6,totalBookings:15,isAvailable:!0,fuelType:"diesel",transmission:"manual",seats:3,mileage:45e3,color:"White",licensePlate:"JHB789GP",insurance:!0,roadworthy:!0,createdAt:"2024-01-18T10:00:00Z",updatedAt:"2024-01-18T10:00:00Z"},{id:"8",make:"Toyota",model:"Quantum",year:2021,type:"minibus",pricePerDay:800,location:"Durban, KwaZulu-Natal",description:"Popular minibus taxi perfect for group transport, airport shuttles, and tour groups. Comfortable seating for up to 16 passengers.",features:["Air Conditioning","Radio","Comfortable Seating","Luggage Space","Safety Equipment"],images:["https://images.unsplash.com/photo-1570125909517-53cb21c89ff2?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1544620347-c4fd4a3d5957?w=800&h=600&fit=crop"],host:{id:"host8",name:"Nomsa Dlamini",email:"nomsa.dlamini@email.com",phone:"+27 83 333 4444",rating:4.5,avatar:"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=100&h=100&fit=crop&crop=face"},rating:4.4,totalBookings:22,isAvailable:!0,fuelType:"diesel",transmission:"manual",seats:16,mileage:65e3,color:"White",licensePlate:"DBN456GP",insurance:!0,roadworthy:!0,createdAt:"2024-01-14T14:30:00Z",updatedAt:"2024-01-14T14:30:00Z"},{id:"9",make:"Mercedes-Benz",model:"Sprinter",year:2023,type:"van",pricePerDay:900,location:"Cape Town, Western Cape",description:"Premium delivery van with excellent fuel economy and reliability. Perfect for courier services, small business deliveries, and moving.",features:["Air Conditioning","Radio","Loading Ramp","Cargo Tie-Downs","Side Sliding Door","Rear Doors"],images:["https://images.unsplash.com/photo-1601584115197-04ecc0da31d7?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1586528116311-ad8dd3c8310d?w=800&h=600&fit=crop"],host:{id:"host9",name:"Pieter van der Merwe",email:"pieter.vandermerwe@email.com",phone:"+27 84 555 6666",rating:4.8,avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=100&h=100&fit=crop&crop=face"},rating:4.7,totalBookings:28,isAvailable:!0,fuelType:"diesel",transmission:"manual",seats:3,mileage:25e3,color:"White",licensePlate:"CT789GP",insurance:!0,roadworthy:!0,createdAt:"2024-01-22T09:15:00Z",updatedAt:"2024-01-22T09:15:00Z"},{id:"10",make:"Hino",model:"300 Series",year:2021,type:"truck",pricePerDay:1500,location:"Pretoria, Gauteng",description:"Heavy-duty truck perfect for construction, mining, and industrial transport. Excellent for hauling equipment and materials.",features:["Air Brakes","Power Steering","Air Conditioning","Radio","Tool Storage","Crane Attachment Points"],images:["https://images.unsplash.com/photo-1586528116311-ad8dd3c8310d?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1601584115197-04ecc0da31d7?w=800&h=600&fit=crop"],host:{id:"host10",name:"Sipho Nkosi",email:"sipho.nkosi@email.com",phone:"+27 85 777 8888",rating:4.6,avatar:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=100&h=100&fit=crop&crop=face"},rating:4.5,totalBookings:12,isAvailable:!0,fuelType:"diesel",transmission:"manual",seats:2,mileage:75e3,color:"Yellow",licensePlate:"PTA123GP",insurance:!0,roadworthy:!0,createdAt:"2024-01-16T11:45:00Z",updatedAt:"2024-01-16T11:45:00Z"},{id:"11",make:"VW",model:"Crafter",year:2022,type:"van",pricePerDay:750,location:"Port Elizabeth, Eastern Cape",description:"Reliable cargo van perfect for small business deliveries, courier services, and moving. Great fuel economy and reliability.",features:["Air Conditioning","Radio","Loading Ramp","Cargo Tie-Downs","Side Sliding Door","Rear Doors","Partition"],images:["https://images.unsplash.com/photo-1601584115197-04ecc0da31d7?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1586528116311-ad8dd3c8310d?w=800&h=600&fit=crop"],host:{id:"host11",name:"Maria Santos",email:"maria.santos@email.com",phone:"+27 86 999 0000",rating:4.7,avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=100&h=100&fit=crop&crop=face"},rating:4.6,totalBookings:19,isAvailable:!0,fuelType:"diesel",transmission:"manual",seats:3,mileage:35e3,color:"White",licensePlate:"PE456GP",insurance:!0,roadworthy:!0,createdAt:"2024-01-19T13:20:00Z",updatedAt:"2024-01-19T13:20:00Z"},{id:"12",make:"Hyundai",model:"H1",year:2023,type:"minibus",pricePerDay:700,location:"Bloemfontein, Free State",description:"Comfortable minibus perfect for airport transfers, group tours, and corporate transport. Seats up to 12 passengers comfortably.",features:["Air Conditioning","Radio","Comfortable Seating","Luggage Space","Safety Equipment","USB Charging"],images:["https://images.unsplash.com/photo-1570125909517-53cb21c89ff2?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1544620347-c4fd4a3d5957?w=800&h=600&fit=crop"],host:{id:"host12",name:"Johan Botha",email:"johan.botha@email.com",phone:"+27 87 111 2222",rating:4.8,avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=100&h=100&fit=crop&crop=face"},rating:4.7,totalBookings:25,isAvailable:!0,fuelType:"diesel",transmission:"manual",seats:12,mileage:15e3,color:"White",licensePlate:"BF789GP",insurance:!0,roadworthy:!0,createdAt:"2024-01-21T15:30:00Z",updatedAt:"2024-01-21T15:30:00Z"},{id:"13",make:"Nissan",model:"NP200",year:2022,type:"bakkie",pricePerDay:500,location:"Nelspruit, Mpumalanga",description:"Compact bakkie perfect for small business deliveries, farm work, and weekend adventures. Excellent fuel economy and reliability.",features:["Air Conditioning","Radio","Load Bed","Tie-Down Points","Bluetooth","USB Charging"],images:["https://images.unsplash.com/photo-1606664515524-ed2f786a0bd6?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1621007947382-bb3c3994e3fb?w=800&h=600&fit=crop"],host:{id:"host13",name:"Lerato Mokoena",email:"lerato.mokoena@email.com",phone:"+27 82 333 4444",rating:4.5,avatar:"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=100&h=100&fit=crop&crop=face"},rating:4.4,totalBookings:31,isAvailable:!0,fuelType:"petrol",transmission:"manual",seats:2,mileage:28e3,color:"Red",licensePlate:"NEL123GP",insurance:!0,roadworthy:!0,createdAt:"2024-01-17T08:45:00Z",updatedAt:"2024-01-17T08:45:00Z"},{id:"14",make:"Ford",model:"Transit",year:2023,type:"van",pricePerDay:850,location:"East London, Eastern Cape",description:"Versatile cargo van perfect for delivery services, moving, and small business transport. Excellent cargo space and reliability.",features:["Air Conditioning","Radio","Loading Ramp","Cargo Tie-Downs","Side Sliding Door","Rear Doors","Partition"],images:["https://images.unsplash.com/photo-1601584115197-04ecc0da31d7?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1586528116311-ad8dd3c8310d?w=800&h=600&fit=crop"],host:{id:"host14",name:"Andile Khumalo",email:"andile.khumalo@email.com",phone:"+27 83 555 6666",rating:4.6,avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=100&h=100&fit=crop&crop=face"},rating:4.5,totalBookings:17,isAvailable:!0,fuelType:"diesel",transmission:"manual",seats:3,mileage:2e4,color:"White",licensePlate:"EL456GP",insurance:!0,roadworthy:!0,createdAt:"2024-01-23T12:15:00Z",updatedAt:"2024-01-23T12:15:00Z"},{id:"15",make:"Toyota",model:"Hilux",year:2023,type:"bakkie",pricePerDay:750,location:"Polokwane, Limpopo",description:"Legendary bakkie known for its reliability and toughness. Perfect for farm work, construction, and outdoor adventures.",features:["4WD","Air Conditioning","Radio","Load Bed","Tie-Down Points","Bluetooth","USB Charging","Cruise Control"],images:["https://images.unsplash.com/photo-1606664515524-ed2f786a0bd6?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1621007947382-bb3c3994e3fb?w=800&h=600&fit=crop"],host:{id:"host15",name:"Tshepo Molefe",email:"tshepo.molefe@email.com",phone:"+27 84 777 8888",rating:4.9,avatar:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=100&h=100&fit=crop&crop=face"},rating:4.8,totalBookings:35,isAvailable:!0,fuelType:"diesel",transmission:"manual",seats:5,mileage:12e3,color:"White",licensePlate:"POL789GP",insurance:!0,roadworthy:!0,createdAt:"2024-01-20T16:00:00Z",updatedAt:"2024-01-20T16:00:00Z"},{id:"16",make:"Iveco",model:"Daily",year:2022,type:"truck",pricePerDay:1100,location:"Rustenburg, North West",description:"Medium-duty truck perfect for construction, delivery, and moving services. Excellent payload capacity and reliability.",features:["Air Brakes","Power Steering","Air Conditioning","Radio","Tool Storage","Loading Ramp"],images:["https://images.unsplash.com/photo-1586528116311-ad8dd3c8310d?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1601584115197-04ecc0da31d7?w=800&h=600&fit=crop"],host:{id:"host16",name:"Kgosi Mokoena",email:"kgosi.mokoena@email.com",phone:"+27 85 999 0000",rating:4.7,avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=100&h=100&fit=crop&crop=face"},rating:4.6,totalBookings:14,isAvailable:!0,fuelType:"diesel",transmission:"manual",seats:3,mileage:55e3,color:"White",licensePlate:"RUS123GP",insurance:!0,roadworthy:!0,createdAt:"2024-01-24T10:30:00Z",updatedAt:"2024-01-24T10:30:00Z"},{id:"17",make:"Honda",model:"CB125F",year:2023,type:"motorcycle",pricePerDay:200,location:"Cape Town, Western Cape",description:"Reliable commuter motorcycle perfect for city riding and short trips. Excellent fuel economy and easy to handle.",features:["Electric Start","Fuel Injection","Disc Brakes","LED Lights","Digital Display"],images:["https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1568772585407-9361f9bf3a87?w=800&h=600&fit=crop"],host:{id:"host17",name:"Zanele Mthembu",email:"zanele.mthembu@email.com",phone:"+27 82 444 5555",rating:4.8,avatar:"https://images.unsplash.com/photo-1544005313-94ddf0286df2?w=100&h=100&fit=crop&crop=face"},rating:4.7,totalBookings:42,isAvailable:!0,fuelType:"petrol",transmission:"manual",seats:2,mileage:5e3,color:"Red",licensePlate:"CT999GP",insurance:!0,roadworthy:!0,createdAt:"2024-01-26T14:45:00Z",updatedAt:"2024-01-26T14:45:00Z"},{id:"18",make:"Kawasaki",model:"Ninja 300",year:2022,type:"motorcycle",pricePerDay:350,location:"Johannesburg, Gauteng",description:"Sport motorcycle perfect for weekend rides and motorcycle enthusiasts. Great performance and handling.",features:["ABS Brakes","Digital Display","LED Lights","Sport Suspension","Quick Shifter"],images:["https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1568772585407-9361f9bf3a87?w=800&h=600&fit=crop"],host:{id:"host18",name:"Ryan O'Connor",email:"ryan.oconnor@email.com",phone:"+27 83 666 7777",rating:4.9,avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=100&h=100&fit=crop&crop=face"},rating:4.8,totalBookings:38,isAvailable:!0,fuelType:"petrol",transmission:"manual",seats:2,mileage:8e3,color:"Green",licensePlate:"JHB888GP",insurance:!0,roadworthy:!0,createdAt:"2024-01-27T11:20:00Z",updatedAt:"2024-01-27T11:20:00Z"}],x=()=>{const[t]=i(),n=s(),[c,m]=e.useState([]),[x,b]=e.useState(!0),[y,w]=e.useState(null),[v,k]=e.useState(!1),[j,N]=e.useState(null),[P,D]=e.useState(!1),[C,S]=e.useState({location:t.get("location")||"",pickupDate:t.get("pickupDate")||"",returnDate:t.get("returnDate")||"",vehicleType:t.get("vehicleType")||"",minPrice:"",maxPrice:"",features:[],sortBy:"price"});e.useEffect(()=>{T()},[t]);const T=async()=>{b(!0),w(null);try{const e=((e,a)=>{let t=f.filter(e=>e.isAvailable);if(e){const a=e.toLowerCase();t=t.filter(e=>e.make.toLowerCase().includes(a)||e.model.toLowerCase().includes(a)||e.location.toLowerCase().includes(a)||e.description.toLowerCase().includes(a))}return a&&(a.type&&(t=t.filter(e=>e.type===a.type)),a.minPrice&&(t=t.filter(e=>e.pricePerDay>=a.minPrice)),a.maxPrice&&(t=t.filter(e=>e.pricePerDay<=a.maxPrice)),a.location&&(t=t.filter(e=>e.location.toLowerCase().includes(a.location.toLowerCase())))),t})(t.get("location")||"",{type:C.vehicleType||void 0,minPrice:C.minPrice?parseInt(C.minPrice):void 0,maxPrice:C.maxPrice?parseInt(C.maxPrice):void 0,location:C.location||void 0});m(e)}catch(e){w("Failed to load vehicles. Please try again.")}finally{b(!1)}},A=(e,a)=>{S(t=>({...t,[e]:a}))};return a.jsxs("div",{className:"page-background py-8",children:[a.jsx(r,{title:"Find Vehicles for Rent in South Africa | RideShare SA",description:"Search and book vehicles across South Africa. Filter by location, date, vehicle type, and price. Find cars, bakkies, SUVs, and luxury vehicles from trusted hosts.",keywords:"vehicle search South Africa, car rental search, bakkie rental, SUV rental, vehicle booking, car rental Cape Town, Johannesburg, Durban",url:"https://rideshare-sa.co.za/search"}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-white mb-4",children:"Find Your Perfect Ride in South Africa"}),a.jsxs("p",{className:"text-white/80",children:[c.length," vehicles available across South Africa"]})]}),a.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[a.jsx("div",{className:"lg:w-80",children:a.jsxs(l,{variant:"sidebar",className:"rounded-2xl p-6 sticky top-24",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-white",children:"Filters"}),a.jsx("button",{onClick:()=>k(!v),className:"lg:hidden text-white/80 hover:text-white",children:v?"Hide":"Show"})]}),a.jsxs("div",{className:"space-y-6 "+(v?"block":"hidden lg:block"),children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Location"}),a.jsx(h,{type:"text",placeholder:"e.g., Cape Town",value:C.location,onChange:e=>A("location",e.target.value),icon:"MapPin"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Pickup Date"}),a.jsx(h,{type:"date",value:C.pickupDate,onChange:e=>A("pickupDate",e.target.value),icon:"Calendar"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Return Date"}),a.jsx(h,{type:"date",value:C.returnDate,onChange:e=>A("returnDate",e.target.value),icon:"Calendar"})]}),a.jsx(p,{label:"Vehicle Type",value:C.vehicleType,onChange:e=>A("vehicleType",e),options:[{value:"",label:"All Types",icon:"Grid"},{value:"sedan",label:"Sedan",icon:"Car"},{value:"suv",label:"SUV",icon:"Truck"},{value:"bakkie",label:"Bakkie",icon:"Truck"},{value:"luxury",label:"Luxury",icon:"Star"}]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Price Range (ZAR)"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(h,{type:"number",placeholder:"Min",value:C.minPrice,onChange:e=>A("minPrice",e.target.value),icon:"R"}),a.jsx(h,{type:"number",placeholder:"Max",value:C.maxPrice,onChange:e=>A("maxPrice",e.target.value),icon:"R"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Features"}),a.jsx("div",{className:"space-y-2",children:["Air Conditioning","Automatic","GPS","Bluetooth","Child Seat"].map(e=>a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:e,checked:C.features.includes(e),onChange:()=>(e=>{S(a=>{const t=a.features.includes(e)?a.features.filter(a=>a!==e):[...a.features,e];return{...a,features:t}})})(e),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),a.jsx("label",{htmlFor:e,className:"ml-2 text-sm text-white/80",children:e})]},e))})]}),a.jsx(d,{onClick:()=>{const e=new URLSearchParams;C.location&&e.append("location",C.location),C.pickupDate&&e.append("pickupDate",C.pickupDate),C.returnDate&&e.append("returnDate",C.returnDate),C.vehicleType&&e.append("vehicleType",C.vehicleType),C.minPrice&&e.append("minPrice",C.minPrice),C.maxPrice&&e.append("maxPrice",C.maxPrice),C.features.length>0&&e.append("features",C.features.join(",")),C.sortBy&&e.append("sortBy",C.sortBy),n(`/search?${e.toString()}`)},className:"w-full",gradient:!0,children:"Apply Filters"}),Object.values(C).some(e=>"string"==typeof e&&""!==e||Array.isArray(e)&&e.length>0)&&a.jsx(d,{onClick:()=>{S({location:"",pickupDate:"",returnDate:"",vehicleType:"",minPrice:"",maxPrice:"",features:[],sortBy:"price"}),n("/search")},className:"w-full mt-2",variant:"outline",icon:"🧹",children:"Clear Filters"})]})]})}),a.jsxs("div",{className:"flex-1",children:[y&&a.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4",children:y}),x?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((e,t)=>a.jsx("div",{className:"bg-gray-200 dark:bg-gray-700 rounded-lg shadow-md animate-pulse h-64"},t))}):0===c.length?a.jsxs("div",{className:"text-center py-10 text-gray-600 dark:text-gray-300",children:[a.jsx("p",{className:"text-xl font-semibold mb-4",children:"No vehicles found matching your criteria."}),a.jsx("p",{children:"Try adjusting your filters or searching a different location."})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("span",{className:"text-sm text-white/80",children:"Sort by:"}),a.jsxs("select",{value:C.sortBy,onChange:e=>A("sortBy",e.target.value),className:"rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-primary-500 focus:ring-primary-500",children:[a.jsx("option",{value:"price",children:"Price (Low to High)"}),a.jsx("option",{value:"price-desc",children:"Price (High to Low)"}),a.jsx("option",{value:"rating",children:"Rating"}),a.jsx("option",{value:"newest",children:"Newest"})]})]}),a.jsxs("div",{className:"text-sm text-white/80",children:[c.length," vehicles found"]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map(e=>a.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl shadow-lg overflow-hidden transform hover:scale-105 transition-all duration-300 border border-white/20",children:[a.jsx(u,{src:e.images[0],alt:`${e.make} ${e.model}`,className:"w-full h-48 object-cover",placeholder:"https://via.placeholder.com/400x300/1f2937/ffffff?text=Vehicle+Image"}),a.jsxs("div",{className:"p-4",children:[a.jsxs("h3",{className:"text-xl font-semibold text-white mb-1",children:[e.make," ",e.model]}),a.jsxs("p",{className:"text-gray-300 text-sm mb-2",children:[e.location," • ",e.year]}),a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx("span",{className:"text-yellow-400 text-lg",children:"★"}),a.jsxs("span",{className:"text-white ml-1",children:[e.rating," (",e.totalBookings," bookings)"]})]}),a.jsxs("div",{className:"text-2xl font-bold text-white mb-4",children:["R",e.pricePerDay,a.jsx("span",{className:"text-lg font-normal text-gray-300",children:"/day"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(o,{to:`/vehicle/${e.id}`,className:"flex-1 bg-white/10 hover:bg-white/20 text-white text-center py-2 px-4 rounded-lg transition-all duration-300",children:"View Details"}),a.jsx("button",{onClick:()=>(N(e),void D(!0)),className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-lg transition-all duration-300",children:"Book Now"})]})]})]},e.id))})]})]})]})]}),j&&a.jsx(g,{car:j,isOpen:P,onClose:()=>{D(!1),N(null)},onBookingSuccess:e=>{alert(`Booking created successfully! Booking ID: ${e.id}\n\nThis booking will now appear on the admin dashboard.`),D(!1),N(null)}})]})};export{x as default};
