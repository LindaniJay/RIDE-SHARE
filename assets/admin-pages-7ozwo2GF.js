const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./assets/vendor-eiHq4GmM.js","./assets/react-vendor-DFf_48ct.js"])))=>i.map(i=>d[i]);
import{r as e,u as s,a as t,j as a,n as i,L as r,R as n,b as l}from"./react-vendor-DFf_48ct.js";import{f as c,o,a as d,g as x,d as m,b as h,s as p,c as u}from"./firebase-B6ibEfTD.js";import{a as g}from"./utils-Bi8vyz5k.js";const j={},b=function(e,s,t){let a=Promise.resolve();if(s&&s.length>0){const e=document.getElementsByTagName("link"),i=document.querySelector("meta[property=csp-nonce]"),r=i?.nonce||i?.getAttribute("nonce");a=Promise.allSettled(s.map(s=>{if(s=function(e,s){return new URL(e,s).href}(s,t),s in j)return;j[s]=!0;const a=s.endsWith(".css"),i=a?'[rel="stylesheet"]':"";if(t)for(let t=e.length-1;t>=0;t--){const i=e[t];if(i.href===s&&(!a||"stylesheet"===i.rel))return}else if(document.querySelector(`link[href="${s}"]${i}`))return;const n=document.createElement("link");return n.rel=a?"stylesheet":"modulepreload",a||(n.as="script"),n.crossOrigin="",n.href=s,r&&n.setAttribute("nonce",r),document.head.appendChild(n),a?new Promise((e,t)=>{n.addEventListener("load",e),n.addEventListener("error",()=>t(new Error(`Unable to preload CSS for ${s}`)))}):void 0}))}function i(e){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=e,window.dispatchEvent(s),!s.defaultPrevented)throw e}return a.then(s=>{for(const e of s||[])"rejected"===e.status&&i(e.reason);return e().catch(i)})},v=e.createContext(void 0),w=()=>{const s=e.useContext(v);if(void 0===s)throw new Error("useAuth must be used within an AuthProvider");return s},f=({children:i})=>{const[r,n]=e.useState(null),[l,o]=e.useState(!0),[d,x]=e.useState(!0),m=s(),h=t();e.useEffect(()=>c.onAuthStateChange(e=>{n(e),d?(x(!1),o(!1)):o(!1),e?h.pathname.startsWith("/admin")||h.pathname.includes("admin")?h.pathname.startsWith("/admin"):m("/dashboard"):m("/",{replace:!0})}),[m,h.pathname,d]);const p={user:r,loading:l,signup:async(e,s,t,a,i,r)=>{try{await c.signupUser({email:e,password:s,firstName:t,lastName:a,phone:i,role:r})}catch(n){throw n}},login:async(e,s)=>{try{await c.loginUser({email:e,password:s})}catch(t){throw t}},logout:async()=>{try{await c.logoutUser()}catch(e){throw e}}};return a.jsx(v.Provider,{value:p,children:i})},N=new class{currentAdmin=null;authStateListeners=[];constructor(){o(d,async e=>{if(e)try{const s=await this.getAdminData(e.uid);this.currentAdmin=s}catch(s){this.currentAdmin=null}else this.currentAdmin=null;this.authStateListeners.forEach(e=>e(this.currentAdmin))})}async getAdminData(e){try{const s=await x(m(h,"users",e));if(!s.exists())throw new Error("Admin user not found in database");const t=s.data();if("admin"!==t.role)throw new Error("User is not an admin. Current role: "+t.role);return{uid:e,id:e,email:t.email,firstName:t.firstName||"Admin",lastName:t.lastName||"User",role:"admin",isAdmin:!0,createdAt:t.createdAt?.toDate()||new Date}}catch(s){throw s}}async loginAdmin(e){try{const s=(await p(d,e.email,e.password)).user,t=await this.getAdminData(s.uid);return this.currentAdmin=t,t}catch(s){throw new Error(this.getErrorMessage(s.code))}}async logoutAdmin(){try{await u(d),this.currentAdmin=null}catch(e){throw new Error("Failed to sign out")}}getCurrentAdmin(){return this.currentAdmin}onAuthStateChange(e){return this.authStateListeners.push(e),()=>{const s=this.authStateListeners.indexOf(e);s>-1&&this.authStateListeners.splice(s,1)}}getErrorMessage(e){switch(e){case"auth/user-not-found":return"No admin account found with this email address.";case"auth/wrong-password":return"Incorrect password. Please try again.";case"auth/invalid-email":return"Invalid email address.";case"auth/user-disabled":return"This admin account has been disabled.";case"auth/too-many-requests":return"Too many failed attempts. Please try again later.";case"auth/network-request-failed":return"Network error. Please check your connection.";default:return"Admin login failed. Please check your credentials."}}},y=e.createContext(void 0),k=()=>{const s=e.useContext(y);if(void 0===s)throw new Error("useAdminAuth must be used within an AdminAuthProvider");return s},S=({children:t})=>{const[i,r]=e.useState(null),[n,l]=e.useState(!0),c=s();e.useEffect(()=>N.onAuthStateChange(e=>{r(e),l(!1),c(e?"/admin-dashboard":"/",{replace:!0})}),[c]);const o={admin:i,loading:n,login:async(e,s)=>{l(!0);try{await N.loginAdmin({email:e,password:s})}catch(t){throw l(!1),t}},logout:async()=>{l(!0);try{await N.logoutAdmin()}catch(e){throw l(!1),e}}};return a.jsx(y.Provider,{value:o,children:t})},C=({name:e,size:s="md",className:t=""})=>{const i={xs:"w-3 h-3",sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"},r={Home:a.jsx("svg",{className:`${i[s]} ${t}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),Search:a.jsx("svg",{className:`${i[s]} ${t}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),Car:a.jsx("svg",{className:`${i[s]} ${t}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7v8a2 2 0 002 2h4a2 2 0 002-2V7M8 7a2 2 0 00-2 2v6a2 2 0 002 2M8 7V5a2 2 0 012-2h4a2 2 0 012 2v2m-6 0h6"})}),Info:a.jsx("svg",{className:`${i[s]} ${t}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),Phone:a.jsx("svg",{className:`${i[s]} ${t}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),User:a.jsx("svg",{className:`${i[s]} ${t}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),Logout:a.jsx("svg",{className:`${i[s]} ${t}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),Login:a.jsx("svg",{className:`${i[s]} ${t}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})}),Plus:a.jsx("svg",{className:`${i[s]} ${t}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),Menu:a.jsx("svg",{className:`${i[s]} ${t}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})}),Sun:a.jsx("svg",{className:`${i[s]} ${t}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})}),Moon:a.jsx("svg",{className:`${i[s]} ${t}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})}),CheckCircle:a.jsx("svg",{className:`${i[s]} ${t}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),XCircle:a.jsx("svg",{className:`${i[s]} ${t}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),AlertTriangle:a.jsx("svg",{className:`${i[s]} ${t}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.268 18.5c-.77.833.192 2.5 1.732 2.5z"})}),Clock:a.jsx("svg",{className:`${i[s]} ${t}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),FileText:a.jsx("svg",{className:`${i[s]} ${t}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),CreditCard:a.jsx("svg",{className:`${i[s]} ${t}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),DollarSign:a.jsx("svg",{className:`${i[s]} ${t}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})}),MapPin:a.jsxs("svg",{className:`${i[s]} ${t}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),Star:a.jsx("svg",{className:`${i[s]} ${t}`,fill:"currentColor",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})}),Mail:a.jsx("svg",{className:`${i[s]} ${t}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),Lock:a.jsx("svg",{className:`${i[s]} ${t}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),Shield:a.jsx("svg",{className:`${i[s]} ${t}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),BarChart:a.jsx("svg",{className:`${i[s]} ${t}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),TrendingUp:a.jsx("svg",{className:`${i[s]} ${t}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),Upload:a.jsx("svg",{className:`${i[s]} ${t}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),Download:a.jsx("svg",{className:`${i[s]} ${t}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),Edit:a.jsx("svg",{className:`${i[s]} ${t}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),Trash:a.jsx("svg",{className:`${i[s]} ${t}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),Heart:a.jsx("svg",{className:`${i[s]} ${t}`,fill:"currentColor",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),Calendar:a.jsx("svg",{className:`${i[s]} ${t}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),Clipboard:a.jsx("svg",{className:`${i[s]} ${t}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),Users:a.jsx("svg",{className:`${i[s]} ${t}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),Gift:a.jsx("svg",{className:`${i[s]} ${t}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v13m0-13V6a2 2 0 112 2h-2zm0 0V5.5A2.5 2.5 0 109.5 8H12zm-7 4h14M5 12a2 2 0 110-4h14a2 2 0 110 4M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"})}),Calculator:a.jsx("svg",{className:`${i[s]} ${t}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),Bell:a.jsx("svg",{className:`${i[s]} ${t}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-5 5v-5zM4.828 7l2.586 2.586a2 2 0 002.828 0L12.828 7H4.828zM4 12h16M4 16h16M4 20h16"})}),Scale:a.jsx("svg",{className:`${i[s]} ${t}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 6l3 1m0 0l-3 9a5.002 5.002 0 006.001 0M6 7l3 9M6 7l-2.83 2.83M6 7l2.83 2.83m6.17-2.83l-3 9m3-9l3 1m-3-1l-2.83 2.83M18 7l2.83 2.83M18 7l-3 9m3-9l3 1m-3-1l-2.83 2.83"})}),Settings:a.jsxs("svg",{className:`${i[s]} ${t}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),Play:a.jsx("svg",{className:`${i[s]} ${t}`,fill:"currentColor",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h1m4 0h1m-6 4h1m4 0h1m-6-8h8a2 2 0 012 2v8a2 2 0 01-2 2H8a2 2 0 01-2-2V6a2 2 0 012-2z"})}),Pause:a.jsx("svg",{className:`${i[s]} ${t}`,fill:"currentColor",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),Zap:a.jsx("svg",{className:`${i[s]} ${t}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),Eye:a.jsxs("svg",{className:`${i[s]} ${t}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),Motorcycle:a.jsx("svg",{className:`${i[s]} ${t}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})}),Truck:a.jsx("svg",{className:`${i[s]} ${t}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})}),Van:a.jsx("svg",{className:`${i[s]} ${t}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})}),Bus:a.jsx("svg",{className:`${i[s]} ${t}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})}),Send:a.jsx("svg",{className:`${i[s]} ${t}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})}),MessageCircle:a.jsx("svg",{className:`${i[s]} ${t}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),Link:a.jsx("svg",{className:`${i[s]} ${t}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})}),X:a.jsx("svg",{className:`${i[s]} ${t}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})};return a.jsx(a.Fragment,{children:r[e]||null})},L=({children:e,className:s="",variant:t="card",blur:i="md",opacity:r=.1,shadow:n=!0})=>{const l=`\n    ${(()=>{switch(t){case"card":default:return"bg-white/10 dark:bg-white/5 backdrop-blur-md border border-white/20 dark:border-white/10 relative";case"modal":return"bg-white/15 dark:bg-white/8 backdrop-blur-lg border border-white/30 dark:border-white/15 relative";case"nav":return"bg-white/5 dark:bg-white/3 backdrop-blur-sm border-b border-white/10 dark:border-white/5 relative";case"form":return"bg-white/8 dark:bg-white/4 backdrop-blur-md border border-white/15 dark:border-white/8 relative";case"sidebar":return"bg-white/6 dark:bg-white/3 backdrop-blur-md border-r border-white/10 dark:border-white/5 relative"}})()}\n    ${n?"shadow-xl shadow-black/10 dark:shadow-black/20":""}\n    transition-all duration-300 ease-in-out\n    hover:bg-white/15 dark:hover:bg-white/8\n    hover:shadow-2xl hover:shadow-black/15 dark:hover:shadow-black/25\n  `;return a.jsxs("div",{className:`${l} ${s}`,style:{backdropFilter:`blur(${"sm"===i?"4px":"md"===i?"8px":"lg"===i?"12px":"16px"})`,backgroundColor:`rgba(255, 255, 255, ${r})`},children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-black/10 via-transparent to-black/5 rounded-inherit pointer-events-none"}),a.jsx("div",{className:"relative z-10 [&>*]:text-shadow-sm [&>h1]:text-shadow-md [&>h2]:text-shadow-md [&>h3]:text-shadow-md [&>p]:text-shadow-sm [&>span]:text-shadow-sm [&>div]:text-shadow-sm",children:e})]})},A=({children:e,className:s="",title:t,subtitle:i,icon:r,hover:n=!0})=>a.jsxs(L,{variant:"card",className:`rounded-2xl p-6 ${n?"hover:scale-105":""} ${s}`,shadow:!0,children:[(t||i||r)&&a.jsxs("div",{className:"flex items-center mb-4",children:[r&&a.jsx("div",{className:"w-12 h-12 bg-white/20 dark:bg-white/10 rounded-xl flex items-center justify-center mr-4 backdrop-blur-sm border border-white/30",children:r}),a.jsxs("div",{children:[t&&a.jsx("h3",{className:"text-lg font-semibold text-white dark:text-white mb-1 text-shadow-md",children:t}),i&&a.jsx("p",{className:"text-white/90 dark:text-white/80 text-sm text-shadow-sm",children:i})]})]}),a.jsx("div",{className:"text-shadow-sm",children:e})]}),R={}?.VITE_API_URL||"http://localhost:5001/api",M=g.create({baseURL:R,headers:{"Content-Type":"application/json"}});M.interceptors.request.use(e=>{const s=localStorage.getItem("accessToken");return s&&(e.headers.Authorization=`Bearer ${s}`),e});const $={getAll:e=>M.get("/vehicles",{params:e}),getById:e=>M.get(`/vehicles/${e}`),create:e=>M.post("/vehicles",e),update:(e,s)=>M.put(`/vehicles/${e}`,s),delete:e=>M.delete(`/vehicles/${e}`),search:e=>M.get("/vehicles/search",{params:e})},T={createPaymentIntent:(e,s)=>M.post("/payments/create-payment-intent",{bookingId:e,amount:s}),confirmPayment:e=>M.post("/payments/confirm-payment",{paymentIntentId:e}),refund:e=>M.post("/payments/refund",{paymentId:e}),createPayfastPayment:e=>M.post("/payments/create-payfast-payment",e),getPaymentMethods:()=>M.get("/payments/methods")},B={create:e=>M.post("/approval-requests",e),getMyRequests:e=>M.get("/approval-requests/my-requests",{params:e}),getAll:e=>M.get("/approval-requests",{params:e}),getPending:e=>M.get("/approval-requests/pending",{params:e}),update:(e,s)=>M.patch(`/approval-requests/${e}`,s),getById:e=>M.get(`/approval-requests/${e}`),getStats:()=>M.get("/approval-requests/stats/overview"),bulkUpdate:e=>M.patch("/approval-requests/bulk",e)};class D{static baseUrl="/api/admin";static async getStats(){try{const e=await fetch(`${this.baseUrl}/stats`);if(!e.ok)throw new Error("Failed to fetch admin stats");return(await e.json()).stats}catch(e){throw e}}static async getUsers(e=1,s=10,t,a){try{const i=new URLSearchParams({page:e.toString(),limit:s.toString(),...t&&{status:t},...a&&{role:a}}),r=await fetch(`${this.baseUrl}/users?${i}`);if(!r.ok)throw new Error("Failed to fetch users");return await r.json()}catch(i){throw i}}static async approveUser(e,s,t){try{const a=await fetch(`${this.baseUrl}/users/${e}/approve`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:s,reason:t})});if(!a.ok)throw new Error("Failed to update user status");return await a.json()}catch(a){throw a}}static async getVehicles(e=1,s=10,t){try{const a=new URLSearchParams({page:e.toString(),limit:s.toString(),...t&&{status:t}}),i=await fetch(`${this.baseUrl}/vehicles?${a}`,{headers:{}});if(!i.ok)throw new Error("Failed to fetch vehicles");return await i.json()}catch(a){throw a}}static async approveVehicle(e,s,t){try{const a=await fetch(`${this.baseUrl}/vehicles/${e}/approve`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:s,reason:t})});if(!a.ok)throw new Error("Failed to update vehicle status");return await a.json()}catch(a){throw a}}static async getBookings(e=1,s=10,t){try{const a=new URLSearchParams({page:e.toString(),limit:s.toString(),...t&&{status:t}}),i=await fetch(`${this.baseUrl}/bookings?${a}`,{headers:{}});if(!i.ok)throw new Error("Failed to fetch bookings");return await i.json()}catch(a){throw a}}static async getReviews(e=1,s=10){try{const t=new URLSearchParams({page:e.toString(),limit:s.toString()}),a=await fetch(`${this.baseUrl}/reviews?${t}`,{headers:{}});if(!a.ok)throw new Error("Failed to fetch reviews");return await a.json()}catch(t){throw t}}static async getDocuments(e=1,s=10,t){try{const a=new URLSearchParams({page:e.toString(),limit:s.toString(),...t&&{status:t}}),i=await fetch(`${this.baseUrl}/documents?${a}`,{headers:{}});if(!i.ok)throw new Error("Failed to fetch documents");return await i.json()}catch(a){throw a}}static async getDisputes(e=1,s=10,t){try{const a=new URLSearchParams({page:e.toString(),limit:s.toString(),...t&&{status:t}}),i=await fetch(`${this.baseUrl}/disputes?${a}`,{headers:{}});if(!i.ok)throw new Error("Failed to fetch disputes");return await i.json()}catch(a){throw a}}}const P=({status:e,className:s=""})=>{const t=(e=>{switch(e.toLowerCase()){case"approved":case"active":case"verified":return{bg:"bg-green-500/20",text:"text-green-400",border:"border-green-400/30",label:"Approved"};case"pending":case"waiting":return{bg:"bg-yellow-500/20",text:"text-yellow-400",border:"border-yellow-400/30",label:"Pending"};case"declined":case"rejected":case"inactive":return{bg:"bg-red-500/20",text:"text-red-400",border:"border-red-400/30",label:"Declined"};case"cancelled":return{bg:"bg-gray-500/20",text:"text-gray-400",border:"border-gray-400/30",label:"Cancelled"};default:return{bg:"bg-gray-500/20",text:"text-gray-400",border:"border-gray-400/30",label:e}}})(e);return a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${t.bg} ${t.text} ${t.border} ${s}`,children:t.label})},E=()=>{w();const[s,t]=e.useState([]),[i,r]=e.useState(!0),[n,l]=e.useState("pending"),[c,o]=e.useState(null),[d,x]=e.useState(!1),[m,h]=e.useState("approve"),[p,u]=e.useState("");e.useEffect(()=>{g()},[n]);const g=async()=>{try{const e=await fetch(`/api/admin/users?status=${n}&page=1&limit=50`,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}});if(e.ok){const s=await e.json();t(s.data.users||[])}}catch(e){}finally{r(!1)}},j=(e,s)=>{o(e),h(s),x(!0)};return i?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-white",children:"User Approvals"}),a.jsx("div",{className:"flex space-x-2",children:["all","pending","approved","rejected"].map(e=>a.jsx("button",{onClick:()=>l(e),className:"px-4 py-2 rounded-lg text-sm font-medium transition-all "+(n===e?"bg-white/20 text-white":"bg-white/10 text-white/70 hover:bg-white/20"),children:e.charAt(0).toUpperCase()+e.slice(1)},e))})]}),a.jsx("div",{className:"bg-white/10 backdrop-blur-md rounded-xl border border-white/20",children:a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"space-y-4",children:[s.map(e=>a.jsx("div",{className:"p-4 bg-white/5 rounded-lg border border-white/10",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:a.jsxs("span",{className:"text-white font-semibold text-sm",children:[e.firstName[0],e.lastName[0]]})}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-white font-semibold",children:[e.firstName," ",e.lastName]}),a.jsx("p",{className:"text-white/70 text-sm",children:e.email})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-white/70",children:"Role"}),a.jsx("p",{className:"text-white capitalize",children:e.role})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white/70",children:"Phone"}),a.jsx("p",{className:"text-white",children:e.phoneNumber||"Not provided"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white/70",children:"Joined"}),a.jsx("p",{className:"text-white",children:new Date(e.createdAt).toLocaleDateString()})]})]}),e.documents&&e.documents.length>0&&a.jsxs("div",{className:"mt-3",children:[a.jsx("p",{className:"text-white/70 text-sm mb-2",children:"Documents:"}),a.jsx("div",{className:"flex space-x-2",children:e.documents.map((e,s)=>a.jsx("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-200 rounded text-xs",children:e.type},s))})]}),e.rejectionReason&&a.jsx("div",{className:"mt-3 p-3 bg-red-500/10 border border-red-400/30 rounded-lg",children:a.jsxs("p",{className:"text-red-200 text-sm",children:[a.jsx("strong",{children:"Rejection Reason:"})," ",e.rejectionReason]})})]}),a.jsxs("div",{className:"flex flex-col space-y-2 ml-4",children:[a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(P,{status:e.approvalStatus}),a.jsx(P,{status:e.documentStatus})]}),"pending"===e.approvalStatus&&a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>j(e,"approve"),className:"px-3 py-1 bg-green-500/20 text-green-200 rounded-lg text-sm hover:bg-green-500/30 transition-colors",children:"Approve"}),a.jsx("button",{onClick:()=>j(e,"reject"),className:"px-3 py-1 bg-red-500/20 text-red-200 rounded-lg text-sm hover:bg-red-500/30 transition-colors",children:"Reject"})]})]})]})},e.id)),0===s.length&&a.jsxs("div",{className:"text-center py-8",children:[a.jsx(C,{name:"Users",size:"lg",className:"text-white/50 mx-auto mb-4"}),a.jsx("p",{className:"text-white/70",children:"No users found"})]})]})})}),d&&c&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-6 border border-white/20 max-w-md w-full mx-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"approve"===m?"Approve User":"Reject User"}),a.jsxs("div",{className:"mb-4",children:[a.jsx("p",{className:"text-white/70 mb-2",children:"approve"===m?`Are you sure you want to approve ${c.firstName} ${c.lastName}?`:`Are you sure you want to reject ${c.firstName} ${c.lastName}?`}),"reject"===m&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-white/70 text-sm font-medium mb-2",children:"Rejection Reason (Optional)"}),a.jsx("textarea",{value:p,onChange:e=>u(e.target.value),placeholder:"Enter reason for rejection...",className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3})]})]}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsx("button",{onClick:()=>{x(!1),o(null),u("")},className:"flex-1 px-4 py-2 bg-white/10 text-white/70 rounded-lg hover:bg-white/20 transition-colors",children:"Cancel"}),a.jsx("button",{onClick:()=>(async(e,s,a)=>{try{(await fetch(`/api/admin/users/${e}/approve`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("accessToken")}`},body:JSON.stringify({status:"approve"===s?"approved":"rejected",reason:a||void 0})})).ok?(t(t=>t.map(t=>t.id===e?{...t,approvalStatus:"approve"===s?"approved":"rejected",rejectionReason:a}:t)),x(!1),o(null),u(""),alert(`User ${"approve"===s?"approved":"rejected"} successfully`)):alert("Failed to update user status")}catch(i){alert("Error updating user status")}})(c.id,m,p),className:"flex-1 px-4 py-2 rounded-lg font-medium transition-colors "+("approve"===m?"bg-green-500 text-white hover:bg-green-600":"bg-red-500 text-white hover:bg-red-600"),children:"approve"===m?"Approve":"Reject"})]})]})})]})},U=()=>{w();const[s,t]=e.useState([]),[i,r]=e.useState(!0),[n,l]=e.useState("pending"),[c,o]=e.useState(null),[d,x]=e.useState(!1),[m,h]=e.useState("approve"),[p,u]=e.useState("");e.useEffect(()=>{g()},[n]);const g=async()=>{try{const e=await fetch(`/api/admin/vehicles?status=${n}&page=1&limit=50`,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}});if(e.ok){const s=await e.json();t(s.data.vehicles||[])}}catch(e){}finally{r(!1)}},j=(e,s)=>{o(e),h(s),x(!0)};return i?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-white",children:"Vehicle Approvals"}),a.jsx("div",{className:"flex space-x-2",children:["all","pending","approved","declined"].map(e=>a.jsx("button",{onClick:()=>l(e),className:"px-4 py-2 rounded-lg text-sm font-medium transition-all "+(n===e?"bg-white/20 text-white":"bg-white/10 text-white/70 hover:bg-white/20"),children:e.charAt(0).toUpperCase()+e.slice(1)},e))})]}),a.jsx("div",{className:"bg-white/10 backdrop-blur-md rounded-xl border border-white/20",children:a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"space-y-4",children:[s.map(e=>a.jsx("div",{className:"p-4 bg-white/5 rounded-lg border border-white/10",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"w-20 h-20 bg-gray-300 rounded-lg flex items-center justify-center",children:e.images&&e.images.length>0?a.jsx("img",{src:e.images[0],alt:e.title,className:"w-full h-full object-cover rounded-lg"}):a.jsx(C,{name:"Car",size:"lg",className:"text-gray-500"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-white font-semibold text-lg",children:e.title}),a.jsxs("p",{className:"text-white/70 text-sm mb-2",children:[e.make," ",e.model," (",e.year,") • ",e.type]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-white/70",children:"Price"}),a.jsxs("p",{className:"text-white font-semibold",children:["R",e.pricePerDay,"/day"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white/70",children:"Location"}),a.jsx("p",{className:"text-white",children:e.location})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white/70",children:"Host"}),a.jsxs("p",{className:"text-white",children:[e.host.firstName," ",e.host.lastName]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white/70",children:"Listed"}),a.jsx("p",{className:"text-white",children:new Date(e.createdAt).toLocaleDateString()})]})]}),e.features&&e.features.length>0&&a.jsxs("div",{className:"mt-3",children:[a.jsx("p",{className:"text-white/70 text-sm mb-2",children:"Features:"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:e.features.map((e,s)=>a.jsx("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-200 rounded text-xs",children:e},s))})]}),e.declineReason&&a.jsx("div",{className:"mt-3 p-3 bg-red-500/10 border border-red-400/30 rounded-lg",children:a.jsxs("p",{className:"text-red-200 text-sm",children:[a.jsx("strong",{children:"Decline Reason:"})," ",e.declineReason]})})]})]})}),a.jsxs("div",{className:"flex flex-col space-y-2 ml-4",children:[a.jsx(P,{status:e.status}),"pending"===e.status&&a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>j(e,"approve"),className:"px-3 py-1 bg-green-500/20 text-green-200 rounded-lg text-sm hover:bg-green-500/30 transition-colors",children:"Approve"}),a.jsx("button",{onClick:()=>j(e,"decline"),className:"px-3 py-1 bg-red-500/20 text-red-200 rounded-lg text-sm hover:bg-red-500/30 transition-colors",children:"Decline"})]})]})]})},e.id)),0===s.length&&a.jsxs("div",{className:"text-center py-8",children:[a.jsx(C,{name:"Car",size:"lg",className:"text-white/50 mx-auto mb-4"}),a.jsx("p",{className:"text-white/70",children:"No vehicles found"})]})]})})}),d&&c&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-6 border border-white/20 max-w-md w-full mx-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"approve"===m?"Approve Vehicle":"Decline Vehicle"}),a.jsxs("div",{className:"mb-4",children:[a.jsx("p",{className:"text-white/70 mb-2",children:"approve"===m?`Are you sure you want to approve "${c.title}"?`:`Are you sure you want to decline "${c.title}"?`}),"decline"===m&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-white/70 text-sm font-medium mb-2",children:"Decline Reason (Optional)"}),a.jsx("textarea",{value:p,onChange:e=>u(e.target.value),placeholder:"Enter reason for decline...",className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3})]})]}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsx("button",{onClick:()=>{x(!1),o(null),u("")},className:"flex-1 px-4 py-2 bg-white/10 text-white/70 rounded-lg hover:bg-white/20 transition-colors",children:"Cancel"}),a.jsx("button",{onClick:()=>(async(e,s,a)=>{try{(await fetch(`/api/admin/vehicles/${e}/approve`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("accessToken")}`},body:JSON.stringify({status:"approve"===s?"approved":"declined",reason:a||void 0})})).ok?(t(t=>t.map(t=>t.id===e?{...t,status:"approve"===s?"approved":"declined",declineReason:a}:t)),x(!1),o(null),u(""),alert(`Vehicle ${"approve"===s?"approved":"declined"} successfully`)):alert("Failed to update vehicle status")}catch(i){alert("Error updating vehicle status")}})(c.id,m,p),className:"flex-1 px-4 py-2 rounded-lg font-medium transition-colors "+("approve"===m?"bg-green-500 text-white hover:bg-green-600":"bg-red-500 text-white hover:bg-red-600"),children:"approve"===m?"Approve":"Decline"})]})]})})]})},V=()=>{w();const[s,t]=e.useState(null),[i,r]=e.useState(!0),[n,l]=e.useState("month"),[c,o]=e.useState("overview");e.useEffect(()=>{d()},[n]);const d=async()=>{try{const e=await fetch(`/api/analytics/platform?period=${n}`,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}});if(e.ok){const s=await e.json();t(s.analytics)}}catch(e){}finally{r(!1)}};return i?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):s?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-white",children:"Analytics Dashboard"}),a.jsx("div",{className:"flex space-x-2",children:a.jsxs("select",{value:n,onChange:e=>l(e.target.value),className:"px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white",children:[a.jsx("option",{value:"week",children:"This Week"}),a.jsx("option",{value:"month",children:"This Month"}),a.jsx("option",{value:"year",children:"This Year"})]})})]}),a.jsx("div",{className:"flex space-x-1 bg-white/10 backdrop-blur-md rounded-lg p-1 border border-white/20",children:[{id:"overview",label:"Overview",icon:"bar-chart"},{id:"users",label:"Users",icon:"users"},{id:"vehicles",label:"Vehicles",icon:"car"},{id:"revenue",label:"Revenue",icon:"dollar-sign"}].map(e=>a.jsxs("button",{onClick:()=>o(e.id),className:"flex items-center space-x-2 px-4 py-2 rounded-md transition-all "+(c===e.id?"bg-white/20 text-white":"text-gray-300 hover:text-white hover:bg-white/10"),children:[a.jsx(C,{name:e.icon,className:"h-4 w-4"}),a.jsx("span",{children:e.label})]},e.id))}),"overview"===c&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-lg p-6 border border-white/20",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-300 text-sm",children:"Total Users"}),a.jsx("p",{className:"text-2xl font-bold text-white",children:s.overview.totalUsers.toLocaleString()})]}),a.jsx(C,{name:"users",className:"h-8 w-8 text-blue-400"})]}),a.jsx("div",{className:"mt-2",children:a.jsxs("span",{className:"text-green-400 text-sm",children:["+",s.growth.users," this ",n]})})]}),a.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-lg p-6 border border-white/20",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-300 text-sm",children:"Total Vehicles"}),a.jsx("p",{className:"text-2xl font-bold text-white",children:s.overview.totalVehicles.toLocaleString()})]}),a.jsx(C,{name:"car",className:"h-8 w-8 text-green-400"})]}),a.jsx("div",{className:"mt-2",children:a.jsxs("span",{className:"text-green-400 text-sm",children:["+",s.growth.vehicles," this ",n]})})]}),a.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-lg p-6 border border-white/20",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-300 text-sm",children:"Total Bookings"}),a.jsx("p",{className:"text-2xl font-bold text-white",children:s.overview.totalBookings.toLocaleString()})]}),a.jsx(C,{name:"calendar",className:"h-8 w-8 text-purple-400"})]}),a.jsx("div",{className:"mt-2",children:a.jsxs("span",{className:"text-green-400 text-sm",children:["+",s.growth.bookings," this ",n]})})]}),a.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-lg p-6 border border-white/20",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-300 text-sm",children:"Total Revenue"}),a.jsxs("p",{className:"text-2xl font-bold text-white",children:["R",s.overview.totalRevenue.toLocaleString()]})]}),a.jsx(C,{name:"dollar-sign",className:"h-8 w-8 text-yellow-400"})]}),a.jsx("div",{className:"mt-2",children:a.jsxs("span",{className:"text-green-400 text-sm",children:["+R",s.growth.revenue.toLocaleString()," this ",n]})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-lg p-6 border border-white/20",children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Conversion Rates"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-white/70",children:"Renter to Booking"}),a.jsxs("span",{className:"text-white font-semibold",children:[s.conversionRates.renterToBooking.toFixed(1),"%"]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-white/70",children:"Host to Listing"}),a.jsxs("span",{className:"text-white font-semibold",children:[s.conversionRates.hostToListing.toFixed(1),"%"]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-white/70",children:"Average Booking Value"}),a.jsxs("span",{className:"text-white font-semibold",children:["R",s.averageBookingValue.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-white/70",children:"User Retention"}),a.jsxs("span",{className:"text-white font-semibold",children:[s.userRetention,"%"]})]})]})]}),a.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-lg p-6 border border-white/20",children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Booking Status"}),a.jsx("div",{className:"space-y-3",children:s.bookingStatusDistribution.map(e=>a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-white/70 capitalize",children:e.status}),a.jsx("span",{className:"text-white font-semibold",children:e.count})]},e.status))})]})]})]}),"users"===c&&a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-lg p-6 border border-white/20",children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"User Activity"}),a.jsx("div",{className:"space-y-3",children:s.userActivity.slice(0,10).map((e,s)=>a.jsxs("div",{className:"flex justify-between items-center p-3 bg-white/5 rounded-lg",children:[a.jsx("div",{children:a.jsx("p",{className:"text-white font-medium",children:new Date(e.date).toLocaleDateString()})}),a.jsxs("span",{className:"text-white font-semibold",children:[e.count," new users"]})]},s))})]})}),"vehicles"===c&&a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-lg p-6 border border-white/20",children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Top Performing Vehicles"}),a.jsx("div",{className:"space-y-3",children:s.topVehicles.map((e,s)=>a.jsxs("div",{className:"flex justify-between items-center p-3 bg-white/5 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-white font-medium",children:e.vehicle.title}),a.jsxs("p",{className:"text-white/70 text-sm",children:[e.vehicle.make," ",e.vehicle.model]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-white font-semibold",children:[e.bookingCount," bookings"]}),a.jsxs("p",{className:"text-white/70 text-sm",children:["R",parseFloat(e.totalRevenue).toLocaleString()]})]})]},s))})]})}),"revenue"===c&&a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-lg p-6 border border-white/20",children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Revenue by Month"}),a.jsx("div",{className:"space-y-3",children:s.revenueByMonth.map((e,s)=>a.jsxs("div",{className:"flex justify-between items-center p-3 bg-white/5 rounded-lg",children:[a.jsx("div",{children:a.jsx("p",{className:"text-white font-medium",children:new Date(e.month).toLocaleDateString("en-US",{month:"long",year:"numeric"})})}),a.jsxs("span",{className:"text-white font-semibold",children:["R",parseFloat(e.revenue).toLocaleString()]})]},s))})]})})]}):a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-white/70",children:"No analytics data available"})})},F=Object.freeze(Object.defineProperty({__proto__:null,default:V},Symbol.toStringTag,{value:"Module"})),I=()=>{const[s,t]=e.useState({platformName:"RideShare SA",maintenanceMode:!1,registrationEnabled:!0,emailNotifications:!0,smsNotifications:!0,maxFileSize:5,sessionTimeout:30,apiRateLimit:100}),[i,r]=e.useState({enableMessaging:!0,enablePayments:!0,enableAnalytics:!0,enableReviews:!0,enableNotifications:!0,enableMobileApp:!1}),[n,l]=e.useState("settings"),[c,o]=e.useState(!1);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-white",children:"System Administration"}),a.jsx("div",{className:"flex space-x-2",children:a.jsx("button",{onClick:()=>{s.maintenanceMode?confirm("Are you sure you want to disable maintenance mode? This will make the platform accessible to all users.")&&t(e=>({...e,maintenanceMode:!1})):confirm("Are you sure you want to enable maintenance mode? This will restrict access to the platform.")&&t(e=>({...e,maintenanceMode:!0}))},className:"px-4 py-2 rounded-lg font-medium transition-all "+(s.maintenanceMode?"bg-red-500/20 text-red-200 border border-red-400/30":"bg-green-500/20 text-green-200 border border-green-400/30"),children:s.maintenanceMode?"Disable Maintenance":"Enable Maintenance"})})]}),a.jsx("div",{className:"flex space-x-1 bg-white/10 backdrop-blur-md rounded-lg p-1 border border-white/20",children:[{id:"settings",label:"System Settings",icon:"Settings"},{id:"features",label:"Feature Flags",icon:"Flag"},{id:"security",label:"Security",icon:"Shield"},{id:"monitoring",label:"Monitoring",icon:"Activity"}].map(e=>a.jsxs("button",{onClick:()=>l(e.id),className:"flex items-center space-x-2 px-4 py-2 rounded-md transition-all "+(n===e.id?"bg-white/20 text-white":"text-gray-300 hover:text-white hover:bg-white/10"),children:[a.jsx(C,{name:e.icon,className:"h-4 w-4"}),a.jsx("span",{children:e.label})]},e.id))}),"settings"===n&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-6 border border-white/20",children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"General Settings"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-white/70 text-sm font-medium mb-2",children:"Platform Name"}),a.jsx("input",{type:"text",value:s.platformName,onChange:e=>t(s=>({...s,platformName:e.target.value})),className:"w-full px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-white/70 text-sm font-medium mb-2",children:"Max File Size (MB)"}),a.jsx("input",{type:"number",value:s.maxFileSize,onChange:e=>t(s=>({...s,maxFileSize:parseInt(e.target.value)})),className:"w-full px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-white/70 text-sm font-medium mb-2",children:"Session Timeout (minutes)"}),a.jsx("input",{type:"number",value:s.sessionTimeout,onChange:e=>t(s=>({...s,sessionTimeout:parseInt(e.target.value)})),className:"w-full px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-white/70 text-sm font-medium mb-2",children:"API Rate Limit (requests per 15min)"}),a.jsx("input",{type:"number",value:s.apiRateLimit,onChange:e=>t(s=>({...s,apiRateLimit:parseInt(e.target.value)})),className:"w-full px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),a.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-6 border border-white/20",children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Access Control"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-white font-medium",children:"Registration Enabled"}),a.jsx("p",{className:"text-white/70 text-sm",children:"Allow new user registrations"})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:s.registrationEnabled,onChange:e=>t(s=>({...s,registrationEnabled:e.target.checked})),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-gray-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-white font-medium",children:"Email Notifications"}),a.jsx("p",{className:"text-white/70 text-sm",children:"Send email notifications to users"})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:s.emailNotifications,onChange:e=>t(s=>({...s,emailNotifications:e.target.checked})),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-gray-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-white font-medium",children:"SMS Notifications"}),a.jsx("p",{className:"text-white/70 text-sm",children:"Send SMS notifications to users"})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:s.smsNotifications,onChange:e=>t(s=>({...s,smsNotifications:e.target.checked})),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-gray-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{onClick:async()=>{o(!0);try{alert("Settings saved successfully!")}catch(e){alert("Failed to save settings")}finally{o(!1)}},disabled:c,className:"px-6 py-2 bg-blue-500 text-white rounded-lg font-medium hover:bg-blue-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:c?"Saving...":"Save Settings"})})]}),"features"===n&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-6 border border-white/20",children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Feature Flags"}),a.jsx("div",{className:"space-y-4",children:Object.entries(i).map(([e,s])=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-white font-medium capitalize",children:e.replace(/([A-Z])/g," $1").replace(/^./,e=>e.toUpperCase())}),a.jsx("p",{className:"text-white/70 text-sm",children:s?"Feature is enabled":"Feature is disabled"})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:s,onChange:s=>r(t=>({...t,[e]:s.target.checked})),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-gray-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]},e))})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{onClick:async()=>{o(!0);try{alert("Feature flags updated successfully!")}catch(e){alert("Failed to save feature flags")}finally{o(!1)}},disabled:c,className:"px-6 py-2 bg-blue-500 text-white rounded-lg font-medium hover:bg-blue-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:c?"Saving...":"Save Feature Flags"})})]}),"security"===n&&a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-6 border border-white/20",children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Security Settings"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx("div",{className:"p-4 bg-green-500/10 border border-green-400/30 rounded-lg",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(C,{name:"Shield",size:"lg",className:"text-green-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white font-semibold",children:"SSL/TLS Enabled"}),a.jsx("p",{className:"text-white/70 text-sm",children:"All connections are encrypted"})]})]})}),a.jsx("div",{className:"p-4 bg-blue-500/10 border border-blue-400/30 rounded-lg",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(C,{name:"Lock",size:"lg",className:"text-blue-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white font-semibold",children:"JWT Authentication"}),a.jsx("p",{className:"text-white/70 text-sm",children:"Secure token-based auth"})]})]})})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center p-3 bg-white/5 rounded-lg",children:[a.jsx("span",{className:"text-white",children:"Password Requirements"}),a.jsx("span",{className:"text-green-400 text-sm",children:"Strong"})]}),a.jsxs("div",{className:"flex justify-between items-center p-3 bg-white/5 rounded-lg",children:[a.jsx("span",{className:"text-white",children:"Rate Limiting"}),a.jsx("span",{className:"text-green-400 text-sm",children:"Active"})]}),a.jsxs("div",{className:"flex justify-between items-center p-3 bg-white/5 rounded-lg",children:[a.jsx("span",{className:"text-white",children:"CORS Protection"}),a.jsx("span",{className:"text-green-400 text-sm",children:"Enabled"})]})]})]})]})}),"monitoring"===n&&a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-6 border border-white/20",children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"System Monitoring"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx("div",{className:"p-4 bg-green-500/10 border border-green-400/30 rounded-lg",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(C,{name:"Server",size:"lg",className:"text-green-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white font-semibold",children:"Server Status"}),a.jsx("p",{className:"text-green-400 text-sm",children:"Online"})]})]})}),a.jsx("div",{className:"p-4 bg-blue-500/10 border border-blue-400/30 rounded-lg",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(C,{name:"Database",size:"lg",className:"text-blue-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white font-semibold",children:"Database"}),a.jsx("p",{className:"text-blue-400 text-sm",children:"Connected"})]})]})}),a.jsx("div",{className:"p-4 bg-purple-500/10 border border-purple-400/30 rounded-lg",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(C,{name:"Activity",size:"lg",className:"text-purple-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white font-semibold",children:"API Health"}),a.jsx("p",{className:"text-purple-400 text-sm",children:"Healthy"})]})]})})]})]})})]})},z=new class{permission="default";registration=null;async initialize(){if(!("Notification"in window))return!1;if(!("serviceWorker"in navigator))return!1;try{return this.registration=await navigator.serviceWorker.register("/sw.js"),this.permission=await Notification.requestPermission(),"granted"===this.permission}catch(e){return!1}}async showNotification(e){if("granted"===this.permission)try{this.registration?await this.registration.showNotification(e.title,{body:e.body,icon:e.icon||"/android-chrome-192x192.png",badge:e.badge||"/favicon-32x32.png",tag:e.tag,data:e.data,requireInteraction:!0,silent:!1}):new Notification(e.title,{body:e.body,icon:e.icon||"/android-chrome-192x192.png",tag:e.tag})}catch(s){i(e.title,{duration:5e3})}}async showBookingNotification(e,s){const t={created:{title:"Booking Request Sent",body:`Your booking request for ${s.vehicleName} has been sent to the host.`,tag:"booking-created",data:{type:"booking",action:"view-booking",bookingId:s.id}},confirmed:{title:"Booking Confirmed! 🎉",body:`Your booking for ${s.vehicleName} has been confirmed. Pickup: ${s.pickupDate}`,tag:"booking-confirmed",data:{type:"booking",action:"view-booking",bookingId:s.id}},cancelled:{title:"Booking Cancelled",body:`Your booking for ${s.vehicleName} has been cancelled.`,tag:"booking-cancelled",data:{type:"booking",action:"view-bookings",bookingId:s.id}},reminder:{title:"Booking Reminder",body:`Don't forget! Your booking for ${s.vehicleName} starts tomorrow.`,tag:"booking-reminder",data:{type:"booking",action:"view-booking",bookingId:s.id}}}[e];await this.showNotification(t)}async showMessageNotification(e,s,t){await this.showNotification({title:`New message from ${e}`,body:s,tag:`message-${t}`,data:{type:"message",action:"open-conversation",conversationId:t},actions:[{action:"reply",title:"Reply"},{action:"view",title:"View Conversation"}]})}async showPaymentNotification(e,s,t="ZAR"){const a={success:{title:"Payment Successful",body:`Payment of ${t} ${s.toLocaleString()} has been processed successfully.`,tag:"payment-success"},failed:{title:"Payment Failed",body:`Payment of ${t} ${s.toLocaleString()} could not be processed. Please try again.`,tag:"payment-failed"},refund:{title:"Refund Processed",body:`Refund of ${t} ${s.toLocaleString()} has been processed.`,tag:"payment-refund"}}[e];await this.showNotification(a)}async showSystemNotification(e,s,t="info"){await this.showNotification({title:e,body:s,tag:`system-${t}`,data:{type:"system",notificationType:t}})}async scheduleBookingReminder(e,s,t){const a=new Date,i=t.getTime()-a.getTime();i>0&&setTimeout(async()=>{await this.showBookingNotification("reminder",{id:e,vehicleName:s})},i)}setupNotificationClickHandler(){this.registration&&this.registration.addEventListener("notificationclick",e=>{e.notification.close();const s=e.notification.data;"view-booking"===s?.action?window.open(`/dashboard?booking=${s.bookingId}`,"_blank"):"open-conversation"===s?.action?window.open(`/dashboard?messages=${s.conversationId}`,"_blank"):"view-bookings"===s?.action?window.open("/dashboard","_blank"):window.open("/","_blank")})}getPermission(){return this.permission}isSupported(){return"Notification"in window&&"serviceWorker"in navigator}async success(e){i.success(e)}async error(e){i.error(e)}async approvalSubmitted(e){i.success(e)}subscribe(e){}async markAsRead(e){}async markAllAsRead(){}async removeNotification(e){}},W=({selectedRequests:s,onBulkActionComplete:t,onClearSelection:i})=>{const[r,n]=e.useState(!1),[l,c]=e.useState(!1),[o,d]=e.useState(null),[x,m]=e.useState(""),h=e=>{d(e),c(!0)};return 0===s.length?null:a.jsxs(a.Fragment,{children:[a.jsx(A,{title:"Bulk Actions",icon:"Settings",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-white/70",children:[s.length," request",s.length>1?"s":""," selected"]}),a.jsx("button",{onClick:i,className:"text-blue-400 hover:text-blue-300 transition-colors text-sm",children:"Clear Selection"})]}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsxs("button",{onClick:()=>h("approve"),className:"flex-1 px-4 py-2 bg-green-500/20 text-green-200 rounded-lg hover:bg-green-500/30 transition-colors flex items-center justify-center space-x-2",children:[a.jsx(C,{name:"Check",size:"sm"}),a.jsx("span",{children:"Approve All"})]}),a.jsxs("button",{onClick:()=>h("decline"),className:"flex-1 px-4 py-2 bg-red-500/20 text-red-200 rounded-lg hover:bg-red-500/30 transition-colors flex items-center justify-center space-x-2",children:[a.jsx(C,{name:"X",size:"sm"}),a.jsx("span",{children:"Decline All"})]})]})]})}),l&&o&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:a.jsx("div",{className:"w-full max-w-md",children:a.jsx(A,{title:`Bulk ${"approve"===o?"Approve":"Decline"} Requests`,icon:"approve"===o?"Check":"X",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("p",{className:"text-white/70 text-sm",children:["You are about to ",o," ",s.length," request",s.length>1?"s":"",". This action cannot be undone."]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Review Notes (Optional)"}),a.jsx("textarea",{value:x,onChange:e=>m(e.target.value),placeholder:"Add notes for all requests...",className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",rows:3})]}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsx("button",{onClick:()=>(async e=>{if(0!==s.length)try{n(!0);const a=await B.bulkUpdate({requestIds:s,status:e,reviewNotes:x.trim()||void 0});a.data.success&&(z.success(`Bulk Action Completed - ${a.data.data.updatedCount} requests ${e.toLowerCase()} successfully`),t(),c(!1),m(""))}catch(a){z.error("Bulk Action Failed - Failed to process bulk action. Please try again.")}finally{n(!1)}})("approve"===o?"Approved":"Declined"),disabled:r,className:"flex-1 px-4 py-2 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2 "+("approve"===o?"bg-green-500 hover:bg-green-600":"bg-red-500 hover:bg-red-600"),children:r?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),a.jsx("span",{children:"Processing..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(C,{name:"approve"===o?"Check":"X",size:"sm"}),a.jsxs("span",{children:["approve"===o?"Approve":"Decline"," All"]})]})}),a.jsx("button",{onClick:()=>{c(!1),d(null),m("")},className:"px-4 py-2 bg-white/10 text-white/70 rounded-lg hover:bg-white/20 transition-colors",children:"Cancel"})]})]})})})})]})},H=({userRole:s,showActions:t=!1,limit:i=5})=>{const[r,n]=e.useState([]),[l,c]=e.useState(!0),[o,d]=e.useState(null),[x,m]=e.useState([]);e.useEffect(()=>{h()},[s]);const h=async()=>{try{let e;c(!0),e="admin"===s?await B.getPending({limit:i}):await B.getMyRequests({limit:i}),e.data.success?n(e.data.data.requests||[]):d("Failed to fetch approval requests")}catch(e){d("Failed to fetch approval requests")}finally{c(!1)}},p=e=>{switch(e){case"Pending":return"yellow";case"UnderReview":return"blue";case"Approved":return"green";case"Declined":return"red";case"RequiresMoreInfo":return"orange";default:return"gray"}};return l?a.jsx(A,{title:"Approval Requests",icon:"Clock",children:a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"})})}):o?a.jsx(A,{title:"Approval Requests",icon:"Clock",children:a.jsxs("div",{className:"text-center py-8",children:[a.jsx(C,{name:"AlertCircle",size:"lg",className:"text-red-400 mx-auto mb-4"}),a.jsx("p",{className:"text-red-400",children:o})]})}):a.jsxs("div",{className:"space-y-6",children:["admin"===s&&t&&a.jsx(W,{selectedRequests:x,onBulkActionComplete:()=>{m([]),h()},onClearSelection:()=>{m([])}}),a.jsx(A,{title:"admin"===s?"Pending Approvals":"My Approval Requests",icon:"Clock",children:a.jsx("div",{className:"space-y-4",children:0===r.length?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(C,{name:"CheckCircle",size:"lg",className:"text-green-400 mx-auto mb-4"}),a.jsx("p",{className:"text-white/70",children:"admin"===s?"No pending approvals":"No approval requests"})]}):r.map(e=>{return a.jsxs("div",{className:"p-4 bg-white/5 rounded-lg border border-white/10",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:["admin"===s&&t&&a.jsx("input",{type:"checkbox",checked:x.includes(e.id),onChange:()=>{return s=e.id,void m(e=>e.includes(s)?e.filter(e=>e!==s):[...e,s]);var s},className:"mr-3 mt-1"}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx("h4",{className:"text-white font-semibold",children:(i=e.requestType,{DocumentVerification:"Document Verification",VehicleListing:"Vehicle Listing",InsuranceVerification:"Insurance Verification",ProfileVerification:"Profile Verification",VehicleApproval:"Vehicle Approval"}[i]||i)}),a.jsx(P,{status:p(e.status)})]}),a.jsxs("p",{className:"text-white/70 text-sm",children:["Submitted by: ",e.submittedByUser.firstName," ",e.submittedByUser.lastName]}),a.jsx("p",{className:"text-white/70 text-sm",children:new Date(e.createdAt).toLocaleDateString()}),e.reviewedAt&&a.jsxs("p",{className:"text-white/70 text-sm",children:["Reviewed: ",new Date(e.reviewedAt).toLocaleDateString()]})]})]}),e.reviewNotes&&a.jsx("div",{className:"mb-3 p-3 bg-white/5 rounded-lg",children:a.jsxs("p",{className:"text-white/80 text-sm",children:[a.jsx("strong",{children:"Review Notes:"})," ",e.reviewNotes]})}),t&&"Pending"===e.status&&a.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2",children:[a.jsxs("button",{onClick:()=>(async e=>{try{(await B.update(e,{status:"Approved",reviewNotes:void 0})).data.success&&(z.success("Request Approved - The approval request has been approved successfully."),h())}catch(s){z.error("Approval Failed - Failed to approve the request. Please try again.")}})(e.id),className:"flex-1 px-3 py-2 bg-green-500/20 text-green-200 rounded-lg hover:bg-green-500/30 transition-colors flex items-center justify-center space-x-2",children:[a.jsx(C,{name:"Check",size:"sm"}),a.jsx("span",{className:"text-sm sm:text-base",children:"Approve"})]}),a.jsxs("button",{onClick:()=>(async e=>{try{(await B.update(e,{status:"Declined",reviewNotes:void 0})).data.success&&(z.success("Request Declined - The approval request has been declined."),h())}catch(s){z.error("Decline Failed - Failed to decline the request. Please try again.")}})(e.id),className:"flex-1 px-3 py-2 bg-red-500/20 text-red-200 rounded-lg hover:bg-red-500/30 transition-colors flex items-center justify-center space-x-2",children:[a.jsx(C,{name:"X",size:"sm"}),a.jsx("span",{className:"text-sm sm:text-base",children:"Decline"})]})]})]},e.id);var i})})})]})},q=Object.freeze(Object.defineProperty({__proto__:null,default:H},Symbol.toStringTag,{value:"Module"})),J=()=>{const[s,t]=e.useState(null),[i,r]=e.useState(!0);e.useEffect(()=>{n()},[]);const n=async()=>{try{const e=await B.getStats();e.data.success&&t(e.data.data)}catch(e){}finally{r(!1)}};return i?a.jsx(A,{title:"Approval Analytics",icon:"BarChart",children:a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"})})}):a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx(A,{title:"Status Distribution",icon:"PieChart",children:a.jsx("div",{className:"space-y-3",children:s?.statusStats.map(e=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-white/70 capitalize",children:e.status}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-20 bg-white/10 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:e.count/(s?.statusStats.reduce((e,s)=>e+s.count,0)||1)*100+"%"}})}),a.jsx("span",{className:"text-white font-semibold",children:e.count})]})]},e.status))})}),a.jsx(A,{title:"Request Types",icon:"FileText",children:a.jsx("div",{className:"space-y-3",children:s?.requestTypeStats.map(e=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-white/70",children:e.requestType}),a.jsx("span",{className:"text-white font-semibold",children:e.count})]},e.requestType))})})]})},_=()=>{const{user:t,logout:i}=w(),r=s(),[n,l]=e.useState(null),[c,o]=e.useState(!0),[d,x]=e.useState("overview");e.useEffect(()=>{m();const e=setInterval(m,3e4);return()=>clearInterval(e)},[]);const m=async()=>{try{const e=await D.getStats();l(e)}catch(e){}finally{o(!1)}};return c?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):a.jsx("div",{className:"min-h-screen p-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsx("div",{className:"mb-8",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Admin Dashboard"}),a.jsx("p",{className:"text-gray-300",children:"Real-time management of RideShare SA platform"}),a.jsxs("div",{className:"mt-4 text-sm text-gray-400",children:["Welcome, ",t?.firstName," ",t?.lastName]})]}),a.jsxs("button",{onClick:async()=>{try{await i(),r("/")}catch(e){}},className:"flex items-center space-x-2 px-4 py-2 bg-red-600/80 backdrop-blur-md rounded-lg border border-red-500/30 text-white hover:bg-red-600 transition-all",children:[a.jsx(C,{name:"log-out",className:"h-4 w-4"}),a.jsx("span",{children:"Exit Admin"})]})]})}),n&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[a.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-lg p-6 border border-white/20",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-300 text-sm",children:"Total Users"}),a.jsx("p",{className:"text-2xl font-bold text-white",children:n.overview.totalUsers})]}),a.jsx(C,{name:"users",className:"h-8 w-8 text-blue-400"})]}),a.jsx("div",{className:"mt-2",children:a.jsxs("span",{className:"text-red-400 text-sm",children:[n.overview.pendingUsers," pending approval"]})})]}),a.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-lg p-6 border border-white/20",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-300 text-sm",children:"Total Vehicles"}),a.jsx("p",{className:"text-2xl font-bold text-white",children:n.overview.totalVehicles})]}),a.jsx(C,{name:"car",className:"h-8 w-8 text-green-400"})]}),a.jsx("div",{className:"mt-2",children:a.jsxs("span",{className:"text-red-400 text-sm",children:[n.overview.pendingVehicles," pending approval"]})})]}),a.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-lg p-6 border border-white/20",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-300 text-sm",children:"Total Bookings"}),a.jsx("p",{className:"text-2xl font-bold text-white",children:n.overview.totalBookings})]}),a.jsx(C,{name:"calendar",className:"h-8 w-8 text-purple-400"})]}),a.jsx("div",{className:"mt-2",children:a.jsxs("span",{className:"text-yellow-400 text-sm",children:[n.overview.pendingBookings," pending"]})})]}),a.jsx("div",{className:"bg-white/10 backdrop-blur-md rounded-lg p-6 border border-white/20",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-300 text-sm",children:"Total Revenue"}),a.jsxs("p",{className:"text-2xl font-bold text-white",children:["R",n.overview.totalRevenue.toLocaleString()]})]}),a.jsx(C,{name:"dollar-sign",className:"h-8 w-8 text-yellow-400"})]})})]}),a.jsx("div",{className:"mb-6",children:a.jsx("div",{className:"flex space-x-1 bg-white/10 backdrop-blur-md rounded-lg p-1 border border-white/20",children:[{id:"overview",label:"Overview",icon:"bar-chart"},{id:"approvals",label:"Approval Queue",icon:"clock"},{id:"users",label:"User Approvals",icon:"users"},{id:"vehicles",label:"Vehicle Approvals",icon:"car"},{id:"analytics",label:"Analytics",icon:"trending-up"},{id:"system",label:"System Admin",icon:"settings"}].map(e=>a.jsxs("button",{onClick:()=>x(e.id),className:"flex items-center space-x-2 px-4 py-2 rounded-md transition-all "+(d===e.id?"bg-white/20 text-white":"text-gray-300 hover:text-white hover:bg-white/10"),children:[a.jsx(C,{name:e.icon,className:"h-4 w-4"}),a.jsx("span",{children:e.label})]},e.id))})}),a.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-lg border border-white/20",children:["overview"===d&&a.jsxs("div",{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"Platform Overview"}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-white mb-3",children:"Recent User Registrations"}),a.jsx("div",{className:"space-y-2",children:n?.recentActivity.recentUsers.slice(0,5).map(e=>a.jsxs("div",{className:"flex items-center justify-between bg-white/5 rounded-lg p-3",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-white font-medium",children:[e.firstName," ",e.lastName]}),a.jsx("p",{className:"text-gray-400 text-sm",children:e.email})]}),a.jsx("span",{className:"px-2 py-1 rounded-full text-xs "+("pending"===e.approvalStatus?"bg-yellow-500/20 text-yellow-400":"approved"===e.approvalStatus?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"),children:e.approvalStatus})]},e.id))})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-white mb-3",children:"Recent Vehicle Listings"}),a.jsx("div",{className:"space-y-2",children:n?.recentActivity.recentVehicles.slice(0,5).map(e=>a.jsxs("div",{className:"flex items-center justify-between bg-white/5 rounded-lg p-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-white font-medium",children:e.title}),a.jsxs("p",{className:"text-gray-400 text-sm",children:[e.make," ",e.model]})]}),a.jsx("span",{className:"px-2 py-1 rounded-full text-xs "+("pending"===e.status?"bg-yellow-500/20 text-yellow-400":"approved"===e.status?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"),children:e.status})]},e.id))})]})]})]}),"approvals"===d&&a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsx(J,{}),a.jsx(H,{userRole:"admin",showActions:!0})]}),"users"===d&&a.jsx("div",{className:"p-6",children:a.jsx(E,{})}),"vehicles"===d&&a.jsx("div",{className:"p-6",children:a.jsx(U,{})}),"analytics"===d&&a.jsx("div",{className:"p-6",children:a.jsx(V,{})}),"system"===d&&a.jsx("div",{className:"p-6",children:a.jsx(I,{})})]})]})})},O=Object.freeze(Object.defineProperty({__proto__:null,default:_},Symbol.toStringTag,{value:"Module"})),G=[{id:"1",title:"2022 Toyota Hilux Double Cab",make:"Toyota",model:"Hilux",year:2022,type:"Bakkie",pricePerDay:850,location:"Cape Town, Western Cape",status:"active",images:["/images/vehicles/hilux-1.jpg","/images/vehicles/hilux-2.jpg"],bookings:24,earnings:20400,createdAt:"2024-01-15",hostId:"2",hostName:"Sarah Johnson",rating:4.8,features:["4x4","Air Conditioning","Bluetooth","GPS"]},{id:"2",title:"2021 BMW X3 SUV",make:"BMW",model:"X3",year:2021,type:"SUV",pricePerDay:1200,location:"Johannesburg, Gauteng",status:"active",images:["/images/vehicles/x3-1.jpg","/images/vehicles/x3-2.jpg"],bookings:18,earnings:21600,createdAt:"2024-02-10",hostId:"4",hostName:"Lisa Brown",rating:4.9,features:["Leather Seats","Sunroof","Navigation","Backup Camera"]},{id:"3",title:"2023 Volkswagen Polo",make:"Volkswagen",model:"Polo",year:2023,type:"Hatchback",pricePerDay:450,location:"Durban, KwaZulu-Natal",status:"pending",images:["/images/vehicles/polo-1.jpg"],bookings:0,earnings:0,createdAt:"2024-12-18",hostId:"6",hostName:"Emma Davis",rating:0,features:["Manual Transmission","Air Conditioning","Radio"]},{id:"4",title:"2020 Ford Ranger Wildtrak",make:"Ford",model:"Ranger",year:2020,type:"Bakkie",pricePerDay:950,location:"Cape Town, Western Cape",status:"active",images:["/images/vehicles/ranger-1.jpg","/images/vehicles/ranger-2.jpg"],bookings:31,earnings:29450,createdAt:"2024-01-20",hostId:"2",hostName:"Sarah Johnson",rating:4.7,features:["4x4","Tonneau Cover","Tow Bar","Bluetooth"]}],X=[{id:"1",vehicleId:"1",vehicleTitle:"2022 Toyota Hilux Double Cab",vehicleImage:"/images/vehicles/hilux-1.jpg",hostId:"2",hostName:"Sarah Johnson",renterId:"1",renterName:"John Smith",startDate:"2024-12-25",endDate:"2024-12-28",totalPrice:2550,status:"confirmed",createdAt:"2024-12-20",paymentStatus:"paid",rating:5,review:"Excellent vehicle, very clean and well maintained!"},{id:"2",vehicleId:"2",vehicleTitle:"2021 BMW X3 SUV",vehicleImage:"/images/vehicles/x3-1.jpg",hostId:"4",hostName:"Lisa Brown",renterId:"5",renterName:"David Taylor",startDate:"2024-12-22",endDate:"2024-12-24",totalPrice:2400,status:"active",createdAt:"2024-12-19",paymentStatus:"paid"},{id:"3",vehicleId:"1",vehicleTitle:"2022 Toyota Hilux Double Cab",vehicleImage:"/images/vehicles/hilux-1.jpg",hostId:"2",hostName:"Sarah Johnson",renterId:"3",renterName:"Mike Wilson",startDate:"2024-12-30",endDate:"2025-01-02",totalPrice:2550,status:"pending",createdAt:"2024-12-20",paymentStatus:"pending"}],Y=[{id:"1",type:"booking",amount:2550,status:"completed",date:"2024-12-20",description:"Booking payment for Toyota Hilux",bookingId:"1"},{id:"2",type:"payout",amount:2040,status:"completed",date:"2024-12-19",description:"Host payout for completed bookings"},{id:"3",type:"commission",amount:255,status:"completed",date:"2024-12-20",description:"Platform commission",bookingId:"1"},{id:"4",type:"booking",amount:2400,status:"completed",date:"2024-12-19",description:"Booking payment for BMW X3",bookingId:"2"}],Z={overview:{totalUsers:1247,pendingUsers:23,totalVehicles:456,pendingVehicles:12,totalBookings:2891,pendingBookings:8,totalRevenue:2847500},recentActivity:{recentUsers:[{id:"1",firstName:"John",lastName:"Smith",email:"john.smith@email.com",phone:"+27 82 123 4567",role:"renter",approvalStatus:"approved",joinDate:"2024-01-15",lastActive:"2024-12-20",totalBookings:12,rating:4.8,profileImage:"/images/avatars/john.jpg"},{id:"2",firstName:"Sarah",lastName:"Johnson",email:"sarah.johnson@email.com",phone:"+27 83 234 5678",role:"host",approvalStatus:"approved",joinDate:"2024-02-20",lastActive:"2024-12-19",totalEarnings:45e3,rating:4.9,profileImage:"/images/avatars/sarah.jpg"},{id:"3",firstName:"Mike",lastName:"Wilson",email:"mike.wilson@email.com",phone:"+27 84 345 6789",role:"renter",approvalStatus:"pending",joinDate:"2024-12-18",lastActive:"2024-12-20",totalBookings:0,rating:0,profileImage:"/images/avatars/mike.jpg"},{id:"4",firstName:"Lisa",lastName:"Brown",email:"lisa.brown@email.com",phone:"+27 85 456 7890",role:"host",approvalStatus:"approved",joinDate:"2024-03-10",lastActive:"2024-12-19",totalEarnings:32e3,rating:4.7,profileImage:"/images/avatars/lisa.jpg"},{id:"5",firstName:"David",lastName:"Taylor",email:"david.taylor@email.com",phone:"+27 86 567 8901",role:"renter",approvalStatus:"approved",joinDate:"2024-04-05",lastActive:"2024-12-20",totalBookings:8,rating:4.6,profileImage:"/images/avatars/david.jpg"}].slice(0,5),recentVehicles:G.slice(0,5),recentBookings:X.slice(0,5)},financial:{monthlyRevenue:245e3,commission:24500,payouts:220500,transactions:Y}},Q={totalVehicles:3,activeVehicles:2,totalBookings:55,monthlyEarnings:18500,totalEarnings:45e3,averageRating:4.8,pendingApprovals:1,pendingBookings:3,activeBookings:2,completedBookings:50,totalRevenue:45e3,pendingPayouts:2500,nextPayoutDate:"2024-12-25",topPerformingVehicle:"Toyota Hilux Double Cab",recentReviews:[{id:"1",rating:5,comment:"Excellent vehicle, very clean and well maintained!",renterName:"John Smith",date:"2024-12-15"},{id:"2",rating:4,comment:"Great bakkie for weekend trips. Highly recommended!",renterName:"David Taylor",date:"2024-12-10"}],upcomingBookings:[{id:"1",vehicleTitle:"2022 Toyota Hilux Double Cab",renterName:"Mike Wilson",startDate:"2024-12-25",endDate:"2024-12-28",totalPrice:2550,status:"confirmed"}]},K={monthlyEarnings:[{month:"Jan",earnings:12e3},{month:"Feb",earnings:13500},{month:"Mar",earnings:15e3},{month:"Apr",earnings:16500},{month:"May",earnings:18e3},{month:"Jun",earnings:18500}],vehiclePerformance:[{vehicleId:"1",vehicleTitle:"2022 Toyota Hilux Double Cab",bookings:24,earnings:20400,averageRating:4.8,utilizationRate:85},{vehicleId:"4",vehicleTitle:"2020 Ford Ranger Wildtrak",bookings:31,earnings:29450,averageRating:4.7,utilizationRate:92}],bookingTrends:[{month:"Jan",bookings:8},{month:"Feb",bookings:9},{month:"Mar",bookings:10},{month:"Apr",bookings:11},{month:"May",bookings:12},{month:"Jun",bookings:13}],customerFeedback:{averageRating:4.8,totalReviews:45,recentReviews:[{rating:5,comment:"Perfect vehicle for our family trip!",date:"2024-12-15"},{rating:4,comment:"Great service, clean vehicle.",date:"2024-12-10"},{rating:5,comment:"Excellent host, highly recommended!",date:"2024-12-05"}]}},ee={payoutHistory:[{date:"2024-11-25",amount:8500,status:"completed"},{date:"2024-10-25",amount:9200,status:"completed"},{date:"2024-09-25",amount:7800,status:"completed"}],upcomingPayouts:[{date:"2024-12-25",amount:2500,status:"pending"}],transactionHistory:[{id:"1",type:"booking",amount:2550,date:"2024-12-20",status:"completed"},{id:"2",type:"booking",amount:2400,date:"2024-12-19",status:"completed"},{id:"3",type:"payout",amount:8500,date:"2024-11-25",status:"completed"}]},se={totalBookings:12,activeBookings:2,completedBookings:10,totalSpent:8450,averageRating:4.8,savedVehicles:5},te=()=>{const[s,t]=e.useState({loadTime:0,renderTime:0,memoryUsage:0,cls:0,fid:0,fcp:0,lcp:0,ttfb:0}),i=e.useCallback(e=>{t(s=>({...s,[e.name]:e.value}))},[]);e.useEffect(()=>{const e=new PerformanceObserver(e=>{e.getEntries().forEach(e=>{if("navigation"===e.entryType){const s=e;t(e=>({...e,loadTime:s.loadEventEnd-s.loadEventStart,ttfb:s.responseStart-s.requestStart}))}if("paint"===e.entryType){const s=e;"first-contentful-paint"===s.name&&t(e=>({...e,fcp:s.startTime}))}})});var s;e.observe({entryTypes:["navigation","paint"]}),(s=i)&&"function"==typeof s&&b(async()=>{const{getCLS:e,getFID:s,getFCP:t,getLCP:a,getTTFB:i}=await import("./vendor-eiHq4GmM.js").then(e=>e.w);return{getCLS:e,getFID:s,getFCP:t,getLCP:a,getTTFB:i}},__vite__mapDeps([0,1]),import.meta.url).then(({getCLS:e,getFID:t,getFCP:a,getLCP:i,getTTFB:r})=>{e(s),t(s),a(s),i(s),r(s)});const a=setInterval(()=>{if("memory"in performance){const e=performance.memory;t(s=>({...s,memoryUsage:e.usedJSHeapSize/1048576}))}},5e3);return()=>{e.disconnect(),clearInterval(a)}},[i]);const r=(e,s)=>e<=s.good?"text-green-400":e<=s.poor?"text-yellow-400":"text-red-400";return a.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-6 border border-white/20",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-white font-semibold text-lg",children:"Performance Metrics"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),a.jsx("span",{className:"text-white/70 text-sm",children:"Live"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-white/80 text-sm",children:"Load Time"}),a.jsxs("span",{className:`font-medium ${r(s.loadTime,{good:1e3,poor:3e3})}`,children:[s.loadTime.toFixed(0),"ms"]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-white/80 text-sm",children:"Memory Usage"}),a.jsxs("span",{className:`font-medium ${r(s.memoryUsage,{good:50,poor:100})}`,children:[s.memoryUsage.toFixed(1),"MB"]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-white/80 text-sm",children:"First Paint"}),a.jsxs("span",{className:`font-medium ${r(s.fcp,{good:1800,poor:3e3})}`,children:[s.fcp.toFixed(0),"ms"]})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-white/80 text-sm",children:"Largest Paint"}),a.jsxs("span",{className:`font-medium ${r(s.lcp,{good:2500,poor:4e3})}`,children:[s.lcp.toFixed(0),"ms"]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-white/80 text-sm",children:"Layout Shift"}),a.jsx("span",{className:`font-medium ${r(s.cls,{good:.1,poor:.25})}`,children:s.cls.toFixed(3)})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-white/80 text-sm",children:"Interaction"}),a.jsxs("span",{className:`font-medium ${r(s.fid,{good:100,poor:300})}`,children:[s.fid.toFixed(0),"ms"]})]})]})]}),a.jsx("div",{className:"mt-4 pt-4 border-t border-white/20",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-white/60 text-xs",children:"Performance Score"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-16 h-2 bg-white/20 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-gradient-to-r from-green-400 to-yellow-400 rounded-full transition-all duration-500",style:{width:`${Math.max(0,Math.min(100,100-s.loadTime/50))}%`}})}),a.jsxs("span",{className:"text-white/80 text-xs font-medium",children:[Math.max(0,Math.min(100,100-s.loadTime/50)).toFixed(0),"%"]})]})]})})]})},ae=({onRefresh:s})=>{const[t,i]=e.useState([]),[r,n]=e.useState(!0),[l,c]=e.useState({status:"all",role:"all",search:""}),[o,d]=e.useState([]),[x,m]=e.useState(!1);e.useEffect(()=>{h()},[l]);const h=async()=>{try{n(!0);const e=await D.getUsers(1,10,"all"!==l.status?l.status:void 0,"all"!==l.role?l.role:void 0);i(e.users||[])}catch(e){}finally{n(!1)}},p=async(e,t,a)=>{try{await D.approveUser(e,t,a),await h(),s()}catch(i){}},u=async e=>{try{const t=o.map(s=>D.approveUser(s,"approve"===e?"approved":"rejected"));await Promise.all(t),d([]),m(!1),await h(),s()}catch(t){}},g=t.filter(e=>{if(l.search){const s=l.search.toLowerCase();return e.firstName.toLowerCase().includes(s)||e.lastName.toLowerCase().includes(s)||e.email.toLowerCase().includes(s)}return!0});return r?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-white",children:"User Management"}),a.jsx("p",{className:"text-gray-300",children:"Manage user registrations and approvals"})]}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsxs("button",{onClick:()=>m(!x),className:"flex items-center space-x-2 px-4 py-2 bg-white/10 backdrop-blur-md rounded-lg border border-white/20 text-white hover:bg-white/20 transition-all",children:[a.jsx(C,{name:"check-square",className:"h-4 w-4"}),a.jsx("span",{children:"Bulk Actions"})]})})]}),a.jsx(A,{className:"p-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Search"}),a.jsx("input",{type:"text",placeholder:"Search users...",value:l.search,onChange:e=>c(s=>({...s,search:e.target.value})),className:"glass-input"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Status"}),a.jsxs("select",{value:l.status,onChange:e=>c(s=>({...s,status:e.target.value})),className:"glass-select",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"pending",children:"Pending"}),a.jsx("option",{value:"approved",children:"Approved"}),a.jsx("option",{value:"rejected",children:"Rejected"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Role"}),a.jsxs("select",{value:l.role,onChange:e=>c(s=>({...s,role:e.target.value})),className:"glass-select",children:[a.jsx("option",{value:"all",children:"All Roles"}),a.jsx("option",{value:"renter",children:"Renter"}),a.jsx("option",{value:"host",children:"Host"}),a.jsx("option",{value:"admin",children:"Admin"})]})]}),a.jsx("div",{className:"flex items-end",children:a.jsxs("button",{onClick:h,className:"w-full flex items-center justify-center space-x-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg text-white transition-all",children:[a.jsx(C,{name:"search",className:"h-4 w-4"}),a.jsx("span",{children:"Filter"})]})})]})}),x&&o.length>0&&a.jsx(A,{className:"p-4 bg-yellow-500/10 border-yellow-500/20",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-yellow-400",children:[o.length," user(s) selected"]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("button",{onClick:()=>u("approve"),className:"flex items-center space-x-2 px-3 py-1 bg-green-600 hover:bg-green-700 rounded text-white text-sm",children:[a.jsx(C,{name:"check",className:"h-4 w-4"}),a.jsx("span",{children:"Approve All"})]}),a.jsxs("button",{onClick:()=>u("reject"),className:"flex items-center space-x-2 px-3 py-1 bg-red-600 hover:bg-red-700 rounded text-white text-sm",children:[a.jsx(C,{name:"x",className:"h-4 w-4"}),a.jsx("span",{children:"Reject All"})]}),a.jsx("button",{onClick:()=>{d([]),m(!1)},className:"px-3 py-1 bg-gray-600 hover:bg-gray-700 rounded text-white text-sm",children:"Cancel"})]})]})}),a.jsx(A,{className:"overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-white/5",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:a.jsx("input",{type:"checkbox",checked:o.length===g.length&&g.length>0,onChange:e=>{e.target.checked?d(g.map(e=>e.id)):d([])},className:"rounded border-gray-300"})}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"User"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Role"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Documents"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Joined"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-white/10",children:g.map(e=>a.jsxs("tr",{className:"hover:bg-white/5",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("input",{type:"checkbox",checked:o.includes(e.id),onChange:()=>{return s=e.id,void d(e=>e.includes(s)?e.filter(e=>e!==s):[...e,s]);var s},className:"rounded border-gray-300"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:a.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center",children:a.jsxs("span",{className:"text-white font-medium",children:[e.firstName[0],e.lastName[0]]})})}),a.jsxs("div",{className:"ml-4",children:[a.jsxs("div",{className:"text-sm font-medium text-white",children:[e.firstName," ",e.lastName]}),a.jsx("div",{className:"text-sm text-gray-400",children:e.email}),e.phoneNumber&&a.jsx("div",{className:"text-sm text-gray-400",children:e.phoneNumber})]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full "+("admin"===e.role?"bg-purple-100 text-purple-800":"host"===e.role?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"),children:e.role})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx(P,{status:e.approvalStatus})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx(P,{status:"approved"===e.documentStatus?"approved":"rejected"===e.documentStatus?"rejected":"pending"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-400",children:new Date(e.createdAt).toLocaleDateString()}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsxs("div",{className:"flex items-center space-x-2",children:["pending"===e.approvalStatus&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>p(e.id,"approved"),className:"text-green-400 hover:text-green-300",children:a.jsx(C,{name:"check",className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>{const s=prompt("Rejection reason (optional):");p(e.id,"rejected",s||void 0)},className:"text-red-400 hover:text-red-300",children:a.jsx(C,{name:"x",className:"h-4 w-4"})})]}),a.jsx("button",{className:"text-blue-400 hover:text-blue-300",children:a.jsx(C,{name:"eye",className:"h-4 w-4"})})]})})]},e.id))})]})})}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"text-sm text-gray-400",children:["Showing ",g.length," of ",t.length," users"]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{className:"px-3 py-1 bg-white/10 rounded text-white hover:bg-white/20",children:"Previous"}),a.jsx("span",{className:"px-3 py-1 bg-white/20 rounded text-white",children:"1"}),a.jsx("button",{className:"px-3 py-1 bg-white/10 rounded text-white hover:bg-white/20",children:"Next"})]})]})]})},ie=({onRefresh:s})=>{const[t,i]=e.useState([]),[r,n]=e.useState(!0),[l,c]=e.useState({status:"all",search:""}),[o,d]=e.useState([]),[x,m]=e.useState(!1),[h,p]=e.useState(null);if(h&&h.includes("Failed to load vehicles"))return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-white",children:"Vehicle Management"}),a.jsx("p",{className:"text-gray-300",children:"Review and approve vehicle listings"})]})}),a.jsx("div",{className:"bg-red-500/10 border border-red-500/20 rounded-lg p-6",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(C,{name:"AlertTriangle",className:"h-6 w-6 text-red-400"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-red-400",children:"Unable to load vehicles"}),a.jsx("p",{className:"text-red-300 mt-1",children:"There was an error loading the vehicle data. This could be due to:"}),a.jsxs("ul",{className:"text-red-300 mt-2 list-disc list-inside space-y-1",children:[a.jsx("li",{children:"Network connection issues"}),a.jsx("li",{children:"Backend server not running"}),a.jsx("li",{children:"Authentication problems"})]}),a.jsx("button",{onClick:()=>{p(null),u()},className:"mt-4 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg transition-colors",children:"Try Again"})]})]})})]});e.useEffect(()=>{u()},[l]);const u=async()=>{try{n(!0),p(null);try{const e=await D.getVehicles(1,10,"all"!==l.status?l.status:void 0);i(e.vehicles||[])}catch(e){const s=[{id:1,title:"2020 Toyota Corolla",make:"Toyota",model:"Corolla",year:2020,status:"pending",location:"Cape Town",pricePerDay:450,images:["/api/placeholder/300/200"],owner:{firstName:"John",lastName:"Doe",email:"john@example.com"},createdAt:(new Date).toISOString()},{id:2,title:"2019 BMW 3 Series",make:"BMW",model:"3 Series",year:2019,status:"approved",location:"Johannesburg",pricePerDay:800,images:["/api/placeholder/300/200"],owner:{firstName:"Jane",lastName:"Smith",email:"jane@example.com"},createdAt:(new Date).toISOString()}];i(s)}}catch(s){p("Failed to load vehicles. Please try again."),i([])}finally{n(!1)}},g=async(e,t,a)=>{try{await D.approveVehicle(e,t,a),await u(),s()}catch(i){}},j=async e=>{try{const t=o.map(s=>D.approveVehicle(s,"approve"===e?"approved":"declined"));await Promise.all(t),d([]),m(!1),await u(),s()}catch(t){}},b=t.filter(e=>{if(l.search){const s=l.search.toLowerCase();return(e.title||"").toLowerCase().includes(s)||(e.make||"").toLowerCase().includes(s)||(e.model||"").toLowerCase().includes(s)||(e.location||"").toLowerCase().includes(s)}return!0});return r?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),a.jsx("p",{className:"text-white/70",children:"Loading vehicles..."})]})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-white",children:"Vehicle Management"}),a.jsx("p",{className:"text-gray-300",children:"Review and approve vehicle listings"})]}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsxs("button",{onClick:()=>m(!x),className:"flex items-center space-x-2 px-4 py-2 bg-white/10 backdrop-blur-md rounded-lg border border-white/20 text-white hover:bg-white/20 transition-all",children:[a.jsx(C,{name:"check-square",className:"h-4 w-4"}),a.jsx("span",{children:"Bulk Actions"})]})})]}),a.jsx(A,{className:"p-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Search"}),a.jsx("input",{type:"text",placeholder:"Search vehicles...",value:l.search,onChange:e=>c(s=>({...s,search:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Status"}),a.jsxs("select",{value:l.status,onChange:e=>c(s=>({...s,status:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"pending",children:"Pending"}),a.jsx("option",{value:"approved",children:"Approved"}),a.jsx("option",{value:"declined",children:"Declined"})]})]}),a.jsx("div",{className:"flex items-end",children:a.jsxs("button",{onClick:u,className:"w-full flex items-center justify-center space-x-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg text-white transition-all",children:[a.jsx(C,{name:"search",className:"h-4 w-4"}),a.jsx("span",{children:"Filter"})]})})]})}),x&&o.length>0&&a.jsx(A,{className:"p-4 bg-yellow-500/10 border-yellow-500/20",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-yellow-400",children:[o.length," vehicle(s) selected"]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("button",{onClick:()=>j("approve"),className:"flex items-center space-x-2 px-3 py-1 bg-green-600 hover:bg-green-700 rounded text-white text-sm",children:[a.jsx(C,{name:"check",className:"h-4 w-4"}),a.jsx("span",{children:"Approve All"})]}),a.jsxs("button",{onClick:()=>j("decline"),className:"flex items-center space-x-2 px-3 py-1 bg-red-600 hover:bg-red-700 rounded text-white text-sm",children:[a.jsx(C,{name:"x",className:"h-4 w-4"}),a.jsx("span",{children:"Decline All"})]}),a.jsx("button",{onClick:()=>{d([]),m(!1)},className:"px-3 py-1 bg-gray-600 hover:bg-gray-700 rounded text-white text-sm",children:"Cancel"})]})]})}),h&&a.jsx(A,{className:"p-4 bg-red-500/10 border-red-500/20",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(C,{name:"AlertTriangle",className:"h-5 w-5 text-red-400"}),a.jsx("span",{className:"text-red-400",children:h}),a.jsx("button",{onClick:u,className:"ml-auto text-red-400 hover:text-red-300 underline",children:"Retry"})]})}),0!==b.length||r||h?a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:b.map(e=>a.jsxs(A,{className:"p-6",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("input",{type:"checkbox",checked:o.includes(e.id),onChange:()=>{return s=e.id,void d(e=>e.includes(s)?e.filter(e=>e!==s):[...e,s]);var s},className:"rounded border-gray-300"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-white",children:e.title||"Untitled Vehicle"}),a.jsxs("p",{className:"text-gray-400",children:[e.make||"Unknown"," ",e.model||"Model"]})]})]}),a.jsx(P,{status:e.status})]}),a.jsxs("div",{className:"space-y-2 mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-300",children:[a.jsx(C,{name:"map-pin",className:"h-4 w-4"}),a.jsx("span",{children:e.location||"Location not specified"})]}),a.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-300",children:[a.jsx(C,{name:"dollar-sign",className:"h-4 w-4"}),a.jsxs("span",{children:["R",e.pricePerDay||0,"/day"]})]}),a.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-300",children:[a.jsx(C,{name:"user",className:"h-4 w-4"}),a.jsxs("span",{children:[e.owner?.firstName||"Unknown"," ",e.owner?.lastName||"User"]})]})]}),e.images&&e.images.length>0&&a.jsx("div",{className:"mb-4",children:a.jsx("img",{src:e.images[0],alt:e.title,className:"w-full h-32 object-cover rounded-lg"})}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"text-sm text-gray-400",children:["Listed ",e.createdAt?new Date(e.createdAt).toLocaleDateString():"Date unknown"]}),a.jsxs("div",{className:"flex items-center space-x-2",children:["pending"===e.status&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>g(e.id,"approved"),className:"flex items-center space-x-1 px-3 py-1 bg-green-600 hover:bg-green-700 rounded text-white text-sm",children:[a.jsx(C,{name:"check",className:"h-3 w-3"}),a.jsx("span",{children:"Approve"})]}),a.jsxs("button",{onClick:()=>{const s=prompt("Decline reason (optional):");g(e.id,"declined",s||void 0)},className:"flex items-center space-x-1 px-3 py-1 bg-red-600 hover:bg-red-700 rounded text-white text-sm",children:[a.jsx(C,{name:"x",className:"h-3 w-3"}),a.jsx("span",{children:"Decline"})]})]}),a.jsxs("button",{className:"flex items-center space-x-1 px-3 py-1 bg-blue-600 hover:bg-blue-700 rounded text-white text-sm",children:[a.jsx(C,{name:"eye",className:"h-3 w-3"}),a.jsx("span",{children:"View"})]})]})]})]},e.id))}):a.jsxs(A,{className:"p-8 text-center",children:[a.jsx(C,{name:"Car",size:"lg",className:"text-white/50 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"No vehicles found"}),a.jsx("p",{className:"text-white/70",children:"No vehicles match your current filters."})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"text-sm text-gray-400",children:["Showing ",b.length," of ",t.length," vehicles"]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{className:"px-3 py-1 bg-white/10 rounded text-white hover:bg-white/20",children:"Previous"}),a.jsx("span",{className:"px-3 py-1 bg-white/20 rounded text-white",children:"1"}),a.jsx("button",{className:"px-3 py-1 bg-white/10 rounded text-white hover:bg-white/20",children:"Next"})]})]})]})},re=()=>{const[s,t]=e.useState([]),[i,r]=e.useState(!0),[n,l]=e.useState({search:"",status:"all",startDate:"",endDate:""}),[c,o]=e.useState({page:1,limit:10,total:0});e.useEffect(()=>{d()},[n,c.page]),e.useEffect(()=>{const e=()=>{d()};return window.addEventListener("storage",e),window.addEventListener("bookingCreated",e),()=>{window.removeEventListener("storage",e),window.removeEventListener("bookingCreated",e)}},[]);const d=async()=>{try{r(!0);try{const e=await fetch("/api/admin/bookings",{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}});if(e.ok){const s=await e.json();return t(s.bookings||[]),void o(e=>({...e,total:s.bookings?.length||0}))}}catch(e){}const s=[...JSON.parse(localStorage.getItem("mockBookings")||"[]"),{id:"1",vehicle:{make:"Toyota",model:"Corolla",location:"Cape Town",images:["/images/toyota-corolla.jpg"]},renter:{name:"John Doe",email:"john@example.com"},host:{name:"Jane Smith",email:"jane@example.com",avatar:"/images/avatar.jpg"},startDate:"2024-01-15",totalDays:3,totalPrice:1050,status:"pending",paymentStatus:"pending"},{id:"2",vehicle:{make:"Ford",model:"Ranger",location:"Johannesburg",images:["/images/ford-ranger.jpg"]},renter:{name:"Mike Wilson",email:"mike@example.com"},host:{name:"Bob Johnson",email:"bob@example.com",avatar:"/images/avatar2.jpg"},startDate:"2024-01-20",totalDays:5,totalPrice:2250,status:"confirmed",paymentStatus:"paid"}];t(s),o(e=>({...e,total:s.length}))}catch(s){}finally{r(!1)}},x=async(e,s,t)=>{try{await d()}catch(a){}},m=(e,s)=>{l(t=>({...t,[e]:s}))},h=s.filter(e=>!(n.search&&!e.vehicle.make.toLowerCase().includes(n.search.toLowerCase())&&!e.vehicle.model.toLowerCase().includes(n.search.toLowerCase())&&!e.renter.name.toLowerCase().includes(n.search.toLowerCase())||"all"!==n.status&&e.status!==n.status)),p=e=>{switch(e){case"pending":return"text-yellow-400";case"confirmed":return"text-blue-400";case"active":return"text-green-400";case"completed":default:return"text-gray-400";case"cancelled":return"text-red-400"}},u=e=>{switch(e){case"paid":return"text-green-400";case"pending":return"text-yellow-400";case"refunded":return"text-blue-400";default:return"text-gray-400"}};return i?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-white",children:"Booking Management"}),a.jsx("p",{className:"text-gray-300",children:"Manage all bookings across the platform"})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-all",children:[a.jsx(C,{name:"Download",className:"h-4 w-4"}),a.jsx("span",{children:"Export"})]}),a.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-all",children:[a.jsx(C,{name:"Plus",className:"h-4 w-4"}),a.jsx("span",{children:"Add Booking"})]})]})]}),a.jsx(A,{className:"p-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Search"}),a.jsx("input",{type:"text",placeholder:"Search bookings...",value:n.search,onChange:e=>m("search",e.target.value),className:"glass-input"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Status"}),a.jsxs("select",{value:n.status,onChange:e=>m("status",e.target.value),className:"glass-select",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"pending",children:"Pending"}),a.jsx("option",{value:"confirmed",children:"Confirmed"}),a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"completed",children:"Completed"}),a.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Start Date"}),a.jsx("input",{type:"date",value:n.startDate,onChange:e=>m("startDate",e.target.value),className:"glass-input"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"End Date"}),a.jsx("input",{type:"date",value:n.endDate,onChange:e=>m("endDate",e.target.value),className:"glass-input"})]})]})}),a.jsxs(A,{className:"overflow-hidden",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-white/10",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-white",children:"Booking ID"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-white",children:"Vehicle"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-white",children:"Renter"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-white",children:"Host"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-white",children:"Dates"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-white",children:"Total"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-white",children:"Status"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-white",children:"Payment"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-white",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-white/10",children:h.map(e=>a.jsxs("tr",{className:"hover:bg-white/5",children:[a.jsxs("td",{className:"px-6 py-4 text-sm text-white",children:["#",String(e.id||"").slice(-8)]}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("img",{src:e.vehicle.images[0],alt:`${e.vehicle.make} ${e.vehicle.model}`,className:"w-10 h-10 object-cover rounded-lg"}),a.jsxs("div",{children:[a.jsxs("div",{className:"text-sm font-medium text-white",children:[e.vehicle.make," ",e.vehicle.model]}),a.jsx("div",{className:"text-xs text-gray-400",children:e.vehicle.location})]})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-xs font-medium text-white",children:e.renter.name.charAt(0)})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-white",children:e.renter.name}),a.jsx("div",{className:"text-xs text-gray-400",children:e.renter.email})]})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("img",{src:e.host.avatar,alt:e.host.name,className:"w-8 h-8 rounded-full"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-white",children:e.host.name}),a.jsx("div",{className:"text-xs text-gray-400",children:e.host.email})]})]})}),a.jsxs("td",{className:"px-6 py-4 text-sm text-white",children:[a.jsx("div",{children:new Date(e.startDate).toLocaleDateString()}),a.jsxs("div",{className:"text-xs text-gray-400",children:[e.totalDays," days"]})]}),a.jsxs("td",{className:"px-6 py-4 text-sm font-medium text-white",children:["R",e.totalPrice.toLocaleString()]}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`text-sm font-medium ${p(e.status)}`,children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`text-sm font-medium ${u(e.paymentStatus)}`,children:e.paymentStatus.charAt(0).toUpperCase()+e.paymentStatus.slice(1)})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:["pending"===e.status&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>x(String(e.id)),className:"px-2 py-1 bg-green-600 hover:bg-green-700 text-white text-xs rounded transition-all",children:"Confirm"}),a.jsx("button",{onClick:()=>x(String(e.id)),className:"px-2 py-1 bg-red-600 hover:bg-red-700 text-white text-xs rounded transition-all",children:"Cancel"})]}),a.jsx("button",{className:"px-2 py-1 bg-blue-600 hover:bg-blue-700 text-white text-xs rounded transition-all",children:"View"})]})})]},e.id))})]})}),0===h.length&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(C,{name:"Calendar",className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"No bookings found"}),a.jsx("p",{className:"text-gray-400",children:"Try adjusting your filters"})]})]}),h.length>0&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"text-sm text-gray-400",children:["Showing ",(c.page-1)*c.limit+1," to ",Math.min(c.page*c.limit,c.total)," of ",c.total," bookings"]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>o(e=>({...e,page:Math.max(1,e.page-1)})),disabled:1===c.page,className:"px-3 py-1 bg-white/10 hover:bg-white/20 text-white rounded-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),a.jsxs("span",{className:"px-3 py-1 text-white",children:["Page ",c.page]}),a.jsx("button",{onClick:()=>o(e=>({...e,page:e.page+1})),disabled:c.page*c.limit>=c.total,className:"px-3 py-1 bg-white/10 hover:bg-white/20 text-white rounded-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})},ne=({})=>{const[s,t]=e.useState(null),[i,r]=e.useState(!0),[n,l]=e.useState("month");e.useEffect(()=>{c()},[n]);const c=async()=>{try{r(!0),t({totalRevenue:125e3,monthlyRevenue:15e3,commissionEarned:18750,pendingPayouts:2500,completedTransactions:1250,refundedAmount:1200,revenueByMonth:[{month:"Jan",revenue:12e3},{month:"Feb",revenue:15e3},{month:"Mar",revenue:18e3},{month:"Apr",revenue:16e3},{month:"May",revenue:2e4},{month:"Jun",revenue:15e3}],topEarners:[{name:"John Smith",earnings:2500},{name:"Sarah Johnson",earnings:2200},{name:"Mike Wilson",earnings:1800},{name:"Lisa Brown",earnings:1600}],recentTransactions:[{id:"1",type:"booking",amount:500,description:"Vehicle rental - BMW X3",date:"2024-01-15"},{id:"2",type:"commission",amount:75,description:"Commission earned",date:"2024-01-15"},{id:"3",type:"booking",amount:300,description:"Vehicle rental - Toyota Corolla",date:"2024-01-14"},{id:"4",type:"refund",amount:-150,description:"Refund - Cancelled booking",date:"2024-01-14"}]})}catch(e){}finally{r(!1)}};return i?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):s?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-white",children:"Financial Dashboard"}),a.jsx("p",{className:"text-gray-300",children:"Platform revenue and financial overview"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("select",{value:n,onChange:e=>l(e.target.value),className:"px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"week",children:"This Week"}),a.jsx("option",{value:"month",children:"This Month"}),a.jsx("option",{value:"quarter",children:"This Quarter"}),a.jsx("option",{value:"year",children:"This Year"})]}),a.jsxs("button",{onClick:c,className:"flex items-center space-x-2 px-4 py-2 bg-white/10 backdrop-blur-md rounded-lg border border-white/20 text-white hover:bg-white/20 transition-all",children:[a.jsx(C,{name:"refresh-cw",className:"h-4 w-4"}),a.jsx("span",{children:"Refresh"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx(A,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-300 text-sm",children:"Total Revenue"}),a.jsxs("p",{className:"text-2xl font-bold text-white",children:["R",s.totalRevenue.toLocaleString()]}),a.jsx("p",{className:"text-green-400 text-sm mt-1",children:"+12% from last month"})]}),a.jsx(C,{name:"dollar-sign",className:"h-8 w-8 text-green-400"})]})}),a.jsx(A,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-300 text-sm",children:"Monthly Revenue"}),a.jsxs("p",{className:"text-2xl font-bold text-white",children:["R",s.monthlyRevenue.toLocaleString()]}),a.jsx("p",{className:"text-blue-400 text-sm mt-1",children:"Current month"})]}),a.jsx(C,{name:"trending-up",className:"h-8 w-8 text-blue-400"})]})}),a.jsx(A,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-300 text-sm",children:"Commission Earned"}),a.jsxs("p",{className:"text-2xl font-bold text-white",children:["R",s.commissionEarned.toLocaleString()]}),a.jsx("p",{className:"text-yellow-400 text-sm mt-1",children:"15% platform fee"})]}),a.jsx(C,{name:"percent",className:"h-8 w-8 text-yellow-400"})]})}),a.jsx(A,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-300 text-sm",children:"Pending Payouts"}),a.jsxs("p",{className:"text-2xl font-bold text-white",children:["R",s.pendingPayouts.toLocaleString()]}),a.jsx("p",{className:"text-orange-400 text-sm mt-1",children:"Awaiting processing"})]}),a.jsx(C,{name:"clock",className:"h-8 w-8 text-orange-400"})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(A,{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Revenue Trend"}),a.jsx("div",{className:"space-y-4",children:s.revenueByMonth.map((e,s)=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-300",children:e.month}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-32 bg-white/10 rounded-full h-2",children:a.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-2 rounded-full",style:{width:e.revenue/2e4*100+"%"}})}),a.jsxs("span",{className:"text-white font-medium",children:["R",e.revenue.toLocaleString()]})]})]},s))})]}),a.jsxs(A,{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Top Earners"}),a.jsx("div",{className:"space-y-3",children:s.topEarners.map((e,s)=>a.jsxs("div",{className:"flex items-center justify-between bg-white/5 rounded-lg p-3",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-white font-medium text-sm",children:s+1})}),a.jsx("span",{className:"text-white font-medium",children:e.name})]}),a.jsxs("span",{className:"text-green-400 font-semibold",children:["R",e.earnings.toLocaleString()]})]},s))})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs(A,{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Transaction Summary"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-300",children:"Completed Transactions"}),a.jsx("span",{className:"text-white font-semibold",children:s.completedTransactions})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-300",children:"Refunded Amount"}),a.jsxs("span",{className:"text-red-400 font-semibold",children:["R",s.refundedAmount.toLocaleString()]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-300",children:"Success Rate"}),a.jsx("span",{className:"text-green-400 font-semibold",children:"98.5%"})]})]})]}),a.jsxs(A,{className:"p-6 lg:col-span-2",children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Recent Transactions"}),a.jsx("div",{className:"space-y-3",children:s.recentTransactions.map(e=>a.jsxs("div",{className:"flex items-center justify-between bg-white/5 rounded-lg p-3",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center "+("booking"===e.type?"bg-green-500/20":"commission"===e.type?"bg-blue-500/20":"bg-red-500/20"),children:a.jsx(C,{name:"booking"===e.type?"car":"commission"===e.type?"percent":"refresh-cw",className:"h-4 w-4 "+("booking"===e.type?"text-green-400":"commission"===e.type?"text-blue-400":"text-red-400")})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white font-medium",children:e.description}),a.jsx("p",{className:"text-gray-400 text-sm",children:e.date})]})]}),a.jsxs("span",{className:"font-semibold "+(e.amount>0?"text-green-400":"text-red-400"),children:[e.amount>0?"+":"","R",e.amount.toLocaleString()]})]},e.id))})]})]}),a.jsxs(A,{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Financial Actions"}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("button",{className:"flex items-center space-x-2 p-4 bg-white/10 rounded-lg hover:bg-white/20 transition-all",children:[a.jsx(C,{name:"download",className:"h-5 w-5 text-blue-400"}),a.jsx("span",{className:"text-white",children:"Export Report"})]}),a.jsxs("button",{className:"flex items-center space-x-2 p-4 bg-white/10 rounded-lg hover:bg-white/20 transition-all",children:[a.jsx(C,{name:"credit-card",className:"h-5 w-5 text-green-400"}),a.jsx("span",{className:"text-white",children:"Process Payouts"})]}),a.jsxs("button",{className:"flex items-center space-x-2 p-4 bg-white/10 rounded-lg hover:bg-white/20 transition-all",children:[a.jsx(C,{name:"settings",className:"h-5 w-5 text-yellow-400"}),a.jsx("span",{className:"text-white",children:"Commission Settings"})]}),a.jsxs("button",{className:"flex items-center space-x-2 p-4 bg-white/10 rounded-lg hover:bg-white/20 transition-all",children:[a.jsx(C,{name:"alert-triangle",className:"h-5 w-5 text-red-400"}),a.jsx("span",{className:"text-white",children:"Handle Disputes"})]})]})]})]}):a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-gray-300",children:"No financial data available"})})},le=({onRefresh:s})=>{const[t,i]=e.useState([]),[r,n]=e.useState([]),[l,c]=e.useState(!0),[o,d]=e.useState("reviews"),[x,m]=e.useState({status:"all",search:""});e.useEffect(()=>{h()},[x,o]);const h=async()=>{try{c(!0);const e=[{id:1,type:"inappropriate_content",description:"This review contains offensive language and personal attacks.",reporter:{name:"Alice Brown",email:"alice@example.com"},reportedItem:{type:"review",id:2,title:"Review #2"},status:"pending",createdAt:"2024-01-15"},{id:2,type:"fake_review",description:"This appears to be a fake review written by the listing owner.",reporter:{name:"Charlie Davis",email:"charlie@example.com"},reportedItem:{type:"review",id:3,title:"Review #3"},status:"pending",createdAt:"2024-01-14"}];i([{id:1,rating:5,comment:"Excellent service! The car was clean and the owner was very helpful.",reviewer:{name:"John Doe",email:"john@example.com"},reviewee:{name:"Jane Smith",email:"jane@example.com"},status:"approved",createdAt:"2024-01-15"},{id:2,rating:1,comment:"Terrible experience. Car was dirty and had mechanical issues.",reviewer:{name:"Bob Wilson",email:"bob@example.com"},reviewee:{name:"Mike Johnson",email:"mike@example.com"},status:"flagged",reportedBy:["user1","user2"],createdAt:"2024-01-14"}]),n(e)}catch(e){}finally{c(!1)}},p=async(e,t)=>{try{await h(),s()}catch(a){}},u=async(e,t)=>{try{await h(),s()}catch(a){}},g=t.filter(e=>{if(x.search){const s=x.search.toLowerCase();return e.comment.toLowerCase().includes(s)||e.reviewer.name.toLowerCase().includes(s)||e.reviewee.name.toLowerCase().includes(s)}return"all"===x.status||e.status===x.status}),j=r.filter(e=>{if(x.search){const s=x.search.toLowerCase();return e.description.toLowerCase().includes(s)||e.reporter.name.toLowerCase().includes(s)||e.reportedItem.title.toLowerCase().includes(s)}return"all"===x.status||e.status===x.status});return l?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-white",children:"Content Moderation"}),a.jsx("p",{className:"text-gray-300",children:"Manage reviews, reports, and content safety"})]})}),a.jsx("div",{className:"flex space-x-1 bg-white/10 backdrop-blur-md rounded-lg p-1 border border-white/20",children:[{id:"reviews",label:"Reviews",icon:"star",count:t.length},{id:"reports",label:"Reports",icon:"flag",count:r.length}].map(e=>a.jsxs("button",{onClick:()=>d(e.id),className:"flex items-center space-x-2 px-4 py-2 rounded-md transition-all "+(o===e.id?"bg-white/20 text-white":"text-gray-300 hover:text-white hover:bg-white/10"),children:[a.jsx(C,{name:e.icon,className:"h-4 w-4"}),a.jsx("span",{children:e.label}),a.jsx("span",{className:"bg-white/20 px-2 py-1 rounded-full text-xs",children:e.count})]},e.id))}),a.jsx(A,{className:"p-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Search"}),a.jsx("input",{type:"text",placeholder:"Search content...",value:x.search,onChange:e=>m(s=>({...s,search:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Status"}),a.jsxs("select",{value:x.status,onChange:e=>m(s=>({...s,status:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"pending",children:"Pending"}),a.jsx("option",{value:"approved",children:"Approved"}),a.jsx("option",{value:"flagged",children:"Flagged"}),a.jsx("option",{value:"resolved",children:"Resolved"}),a.jsx("option",{value:"dismissed",children:"Dismissed"})]})]}),a.jsx("div",{className:"flex items-end",children:a.jsxs("button",{onClick:h,className:"w-full flex items-center justify-center space-x-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg text-white transition-all",children:[a.jsx(C,{name:"search",className:"h-4 w-4"}),a.jsx("span",{children:"Filter"})]})})]})}),"reviews"===o&&a.jsx("div",{className:"space-y-4",children:g.map(e=>a.jsxs(A,{className:"p-6",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"flex items-center space-x-1",children:[...Array(5)].map((s,t)=>a.jsx(C,{name:"star",className:"h-4 w-4 "+(t<e.rating?"text-yellow-400":"text-gray-400")},t))}),a.jsxs("div",{children:[a.jsxs("p",{className:"text-white font-medium",children:[e.reviewer.name," → ",e.reviewee.name]}),a.jsx("p",{className:"text-gray-400 text-sm",children:e.createdAt})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(P,{status:e.status}),e.reportedBy&&e.reportedBy.length>0&&a.jsxs("span",{className:"bg-red-500/20 text-red-400 px-2 py-1 rounded-full text-xs",children:[e.reportedBy.length," reports"]})]})]}),a.jsx("p",{className:"text-gray-300 mb-4",children:e.comment}),a.jsxs("div",{className:"flex items-center space-x-2",children:["pending"===e.status&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>p(e.id),className:"flex items-center space-x-1 px-3 py-1 bg-green-600 hover:bg-green-700 rounded text-white text-sm",children:[a.jsx(C,{name:"check",className:"h-3 w-3"}),a.jsx("span",{children:"Approve"})]}),a.jsxs("button",{onClick:()=>p(e.id),className:"flex items-center space-x-1 px-3 py-1 bg-yellow-600 hover:bg-yellow-700 rounded text-white text-sm",children:[a.jsx(C,{name:"flag",className:"h-3 w-3"}),a.jsx("span",{children:"Flag"})]})]}),a.jsxs("button",{onClick:()=>p(e.id),className:"flex items-center space-x-1 px-3 py-1 bg-red-600 hover:bg-red-700 rounded text-white text-sm",children:[a.jsx(C,{name:"trash",className:"h-3 w-3"}),a.jsx("span",{children:"Remove"})]}),a.jsxs("button",{className:"flex items-center space-x-1 px-3 py-1 bg-blue-600 hover:bg-blue-700 rounded text-white text-sm",children:[a.jsx(C,{name:"eye",className:"h-3 w-3"}),a.jsx("span",{children:"View Details"})]})]})]},e.id))}),"reports"===o&&a.jsx("div",{className:"space-y-4",children:j.map(e=>a.jsxs(A,{className:"p-6",children:[a.jsx("div",{className:"flex items-start justify-between mb-4",children:a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx("span",{className:"px-2 py-1 rounded-full text-xs "+("inappropriate_content"===e.type?"bg-red-500/20 text-red-400":"spam"===e.type?"bg-yellow-500/20 text-yellow-400":"harassment"===e.type?"bg-orange-500/20 text-orange-400":"fake_review"===e.type?"bg-purple-500/20 text-purple-400":"bg-gray-500/20 text-gray-400"),children:e.type.replace("_"," ")}),a.jsx(P,{status:e.status})]}),a.jsx("p",{className:"text-white font-medium",children:e.reportedItem.title}),a.jsxs("p",{className:"text-gray-400 text-sm",children:["Reported by ",e.reporter.name," on ",e.createdAt]})]})}),a.jsx("p",{className:"text-gray-300 mb-4",children:e.description}),a.jsxs("div",{className:"flex items-center space-x-2",children:["pending"===e.status&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>u(e.id),className:"flex items-center space-x-1 px-3 py-1 bg-green-600 hover:bg-green-700 rounded text-white text-sm",children:[a.jsx(C,{name:"check",className:"h-3 w-3"}),a.jsx("span",{children:"Resolve"})]}),a.jsxs("button",{onClick:()=>u(e.id),className:"flex items-center space-x-1 px-3 py-1 bg-gray-600 hover:bg-gray-700 rounded text-white text-sm",children:[a.jsx(C,{name:"x",className:"h-3 w-3"}),a.jsx("span",{children:"Dismiss"})]})]}),a.jsxs("button",{className:"flex items-center space-x-1 px-3 py-1 bg-blue-600 hover:bg-blue-700 rounded text-white text-sm",children:[a.jsx(C,{name:"eye",className:"h-3 w-3"}),a.jsx("span",{children:"View Details"})]})]})]},e.id))}),a.jsxs(A,{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Safety Statistics"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-white",children:t.length}),a.jsx("div",{className:"text-gray-400 text-sm",children:"Total Reviews"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-red-400",children:t.filter(e=>"flagged"===e.status).length}),a.jsx("div",{className:"text-gray-400 text-sm",children:"Flagged Reviews"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-yellow-400",children:r.filter(e=>"pending"===e.status).length}),a.jsx("div",{className:"text-gray-400 text-sm",children:"Pending Reports"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-green-400",children:r.filter(e=>"resolved"===e.status).length}),a.jsx("div",{className:"text-gray-400 text-sm",children:"Resolved Reports"})]})]})]})]})},ce=({})=>{const[s,t]=e.useState(null),[i,r]=e.useState(!0),[n,l]=e.useState("6months"),[c,o]=e.useState("users");e.useEffect(()=>{d()},[n]);const d=async()=>{try{r(!0),t({userGrowth:[{month:"Jan",users:1200,growth:15},{month:"Feb",users:1400,growth:17},{month:"Mar",users:1650,growth:18},{month:"Apr",users:1900,growth:15},{month:"May",users:2200,growth:16},{month:"Jun",users:2500,growth:14}],bookingTrends:[{month:"Jan",bookings:450,revenue:22500},{month:"Feb",bookings:520,revenue:26e3},{month:"Mar",bookings:680,revenue:34e3},{month:"Apr",bookings:750,revenue:37500},{month:"May",bookings:890,revenue:44500},{month:"Jun",bookings:950,revenue:47500}],vehicleStats:{total:1250,active:1100,pending:150,topTypes:[{type:"Sedan",count:450},{type:"SUV",count:380},{type:"Hatchback",count:320},{type:"Truck",count:100}]},platformMetrics:{averageBookingValue:250,userRetentionRate:78,conversionRate:12.5,customerSatisfaction:4.6},topLocations:[{location:"Cape Town",bookings:320,revenue:16e3},{location:"Johannesburg",bookings:280,revenue:14e3},{location:"Durban",bookings:180,revenue:9e3},{location:"Pretoria",bookings:150,revenue:7500}],systemPerformance:{uptime:99.8,responseTime:120,errorRate:.2,activeUsers:450}})}catch(e){}finally{r(!1)}};return i?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):s?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-white",children:"Analytics & Reporting"}),a.jsx("p",{className:"text-gray-300",children:"Platform performance and user insights"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("select",{value:n,onChange:e=>l(e.target.value),className:"px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"1month",children:"Last Month"}),a.jsx("option",{value:"3months",children:"Last 3 Months"}),a.jsx("option",{value:"6months",children:"Last 6 Months"}),a.jsx("option",{value:"1year",children:"Last Year"})]}),a.jsxs("button",{onClick:d,className:"flex items-center space-x-2 px-4 py-2 bg-white/10 backdrop-blur-md rounded-lg border border-white/20 text-white hover:bg-white/20 transition-all",children:[a.jsx(C,{name:"refresh-cw",className:"h-4 w-4"}),a.jsx("span",{children:"Refresh"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx(A,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-300 text-sm",children:"Total Users"}),a.jsx("p",{className:"text-2xl font-bold text-white",children:s.userGrowth[s.userGrowth.length-1].users.toLocaleString()}),a.jsxs("p",{className:"text-green-400 text-sm mt-1",children:["+",s.userGrowth[s.userGrowth.length-1].growth,"% this month"]})]}),a.jsx(C,{name:"users",className:"h-8 w-8 text-blue-400"})]})}),a.jsx(A,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-300 text-sm",children:"Monthly Bookings"}),a.jsx("p",{className:"text-2xl font-bold text-white",children:s.bookingTrends[s.bookingTrends.length-1].bookings}),a.jsxs("p",{className:"text-purple-400 text-sm mt-1",children:["R",s.bookingTrends[s.bookingTrends.length-1].revenue.toLocaleString()," revenue"]})]}),a.jsx(C,{name:"calendar",className:"h-8 w-8 text-purple-400"})]})}),a.jsx(A,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-300 text-sm",children:"Active Vehicles"}),a.jsx("p",{className:"text-2xl font-bold text-white",children:s.vehicleStats.active}),a.jsxs("p",{className:"text-yellow-400 text-sm mt-1",children:[s.vehicleStats.pending," pending approval"]})]}),a.jsx(C,{name:"car",className:"h-8 w-8 text-green-400"})]})}),a.jsx(A,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-300 text-sm",children:"Customer Satisfaction"}),a.jsxs("p",{className:"text-2xl font-bold text-white",children:[s.platformMetrics.customerSatisfaction,"/5"]}),a.jsxs("p",{className:"text-green-400 text-sm mt-1",children:[s.platformMetrics.userRetentionRate,"% retention rate"]})]}),a.jsx(C,{name:"star",className:"h-8 w-8 text-yellow-400"})]})})]}),a.jsx("div",{className:"flex space-x-1 bg-white/10 backdrop-blur-md rounded-lg p-1 border border-white/20",children:[{id:"users",label:"User Growth",icon:"users"},{id:"bookings",label:"Booking Trends",icon:"calendar"},{id:"vehicles",label:"Vehicle Stats",icon:"car"},{id:"locations",label:"Top Locations",icon:"map-pin"}].map(e=>a.jsxs("button",{onClick:()=>o(e.id),className:"flex items-center space-x-2 px-4 py-2 rounded-md transition-all "+(c===e.id?"bg-white/20 text-white":"text-gray-300 hover:text-white hover:bg-white/10"),children:[a.jsx(C,{name:e.icon,className:"h-4 w-4"}),a.jsx("span",{children:e.label})]},e.id))}),"users"===c&&a.jsxs(A,{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"User Growth"}),a.jsx("div",{className:"space-y-4",children:s.userGrowth.map((e,s)=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-300 w-16",children:e.month}),a.jsx("div",{className:"flex-1 mx-4",children:a.jsx("div",{className:"w-full bg-white/10 rounded-full h-3",children:a.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-3 rounded-full",style:{width:e.users/3e3*100+"%"}})})}),a.jsxs("div",{className:"text-right",children:[a.jsx("span",{className:"text-white font-medium",children:e.users.toLocaleString()}),a.jsxs("span",{className:"text-green-400 text-sm ml-2",children:["+",e.growth,"%"]})]})]},s))})]}),"bookings"===c&&a.jsxs(A,{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Booking Trends"}),a.jsx("div",{className:"space-y-4",children:s.bookingTrends.map((e,s)=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-300 w-16",children:e.month}),a.jsx("div",{className:"flex-1 mx-4",children:a.jsx("div",{className:"w-full bg-white/10 rounded-full h-3",children:a.jsx("div",{className:"bg-gradient-to-r from-green-500 to-blue-600 h-3 rounded-full",style:{width:e.bookings/1e3*100+"%"}})})}),a.jsxs("div",{className:"text-right",children:[a.jsxs("span",{className:"text-white font-medium",children:[e.bookings," bookings"]}),a.jsxs("span",{className:"text-green-400 text-sm ml-2",children:["R",e.revenue.toLocaleString()]})]})]},s))})]}),"vehicles"===c&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(A,{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Vehicle Overview"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-300",children:"Total Vehicles"}),a.jsx("span",{className:"text-white font-semibold",children:s.vehicleStats.total})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-300",children:"Active"}),a.jsx("span",{className:"text-green-400 font-semibold",children:s.vehicleStats.active})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-300",children:"Pending Approval"}),a.jsx("span",{className:"text-yellow-400 font-semibold",children:s.vehicleStats.pending})]})]})]}),a.jsxs(A,{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Popular Vehicle Types"}),a.jsx("div",{className:"space-y-3",children:s.vehicleStats.topTypes.map((e,s)=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-300",children:e.type}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-20 bg-white/10 rounded-full h-2",children:a.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-2 rounded-full",style:{width:e.count/500*100+"%"}})}),a.jsx("span",{className:"text-white font-medium",children:e.count})]})]},s))})]})]}),"locations"===c&&a.jsxs(A,{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Top Locations"}),a.jsx("div",{className:"space-y-4",children:s.topLocations.map((e,s)=>a.jsxs("div",{className:"flex items-center justify-between bg-white/5 rounded-lg p-3",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-white font-medium text-sm",children:s+1})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white font-medium",children:e.location}),a.jsxs("p",{className:"text-gray-400 text-sm",children:[e.bookings," bookings"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-white font-semibold",children:["R",e.revenue.toLocaleString()]}),a.jsx("p",{className:"text-gray-400 text-sm",children:"revenue"})]})]},s))})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(A,{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Platform Performance"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-300",children:"Average Booking Value"}),a.jsxs("span",{className:"text-white font-semibold",children:["R",s.platformMetrics.averageBookingValue]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-300",children:"User Retention Rate"}),a.jsxs("span",{className:"text-green-400 font-semibold",children:[s.platformMetrics.userRetentionRate,"%"]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-300",children:"Conversion Rate"}),a.jsxs("span",{className:"text-blue-400 font-semibold",children:[s.platformMetrics.conversionRate,"%"]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-300",children:"Customer Satisfaction"}),a.jsxs("span",{className:"text-yellow-400 font-semibold",children:[s.platformMetrics.customerSatisfaction,"/5"]})]})]})]}),a.jsxs(A,{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"System Performance"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-300",children:"Uptime"}),a.jsxs("span",{className:"text-green-400 font-semibold",children:[s.systemPerformance.uptime,"%"]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-300",children:"Response Time"}),a.jsxs("span",{className:"text-blue-400 font-semibold",children:[s.systemPerformance.responseTime,"ms"]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-300",children:"Error Rate"}),a.jsxs("span",{className:"text-red-400 font-semibold",children:[s.systemPerformance.errorRate,"%"]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-300",children:"Active Users"}),a.jsx("span",{className:"text-purple-400 font-semibold",children:s.systemPerformance.activeUsers})]})]})]})]}),a.jsxs(A,{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Export Reports"}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("button",{className:"flex items-center space-x-2 p-4 bg-white/10 rounded-lg hover:bg-white/20 transition-all",children:[a.jsx(C,{name:"download",className:"h-5 w-5 text-blue-400"}),a.jsx("span",{className:"text-white",children:"User Report"})]}),a.jsxs("button",{className:"flex items-center space-x-2 p-4 bg-white/10 rounded-lg hover:bg-white/20 transition-all",children:[a.jsx(C,{name:"download",className:"h-5 w-5 text-green-400"}),a.jsx("span",{className:"text-white",children:"Booking Report"})]}),a.jsxs("button",{className:"flex items-center space-x-2 p-4 bg-white/10 rounded-lg hover:bg-white/20 transition-all",children:[a.jsx(C,{name:"download",className:"h-5 w-5 text-purple-400"}),a.jsx("span",{className:"text-white",children:"Revenue Report"})]}),a.jsxs("button",{className:"flex items-center space-x-2 p-4 bg-white/10 rounded-lg hover:bg-white/20 transition-all",children:[a.jsx(C,{name:"download",className:"h-5 w-5 text-yellow-400"}),a.jsx("span",{className:"text-white",children:"Performance Report"})]})]})]})]}):a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-gray-300",children:"No analytics data available"})})},oe=({onRefresh:s})=>{const[t,i]=e.useState([]),[r,n]=e.useState({pending:0,approved:0,rejected:0,expiring:0}),[l,c]=e.useState(!0),[o,d]=e.useState({status:"all",documentType:"all",search:""}),[x,m]=e.useState([]),[h,p]=e.useState(!1);e.useEffect(()=>{u()},[o]);const u=async()=>{try{c(!0);const e=[{id:1,userId:101,userName:"John Doe",userEmail:"john@example.com",documentType:"license",fileName:"drivers_license.pdf",fileUrl:"/documents/drivers_license.pdf",status:"pending",uploadedAt:"2024-01-15",expiryDate:"2025-01-15"},{id:2,userId:102,userName:"Jane Smith",userEmail:"jane@example.com",documentType:"id",fileName:"id_card.pdf",fileUrl:"/documents/id_card.pdf",status:"approved",uploadedAt:"2024-01-14",reviewedAt:"2024-01-15",reviewedBy:"Admin User",expiryDate:"2029-01-14"},{id:3,userId:103,userName:"Bob Wilson",userEmail:"bob@example.com",documentType:"insurance",fileName:"insurance_cert.pdf",fileUrl:"/documents/insurance_cert.pdf",status:"rejected",rejectionReason:"Document is expired",uploadedAt:"2024-01-13",reviewedAt:"2024-01-14",reviewedBy:"Admin User"}];i(e),n({pending:e.filter(e=>"pending"===e.status).length,approved:e.filter(e=>"approved"===e.status).length,rejected:e.filter(e=>"rejected"===e.status).length,expiring:e.filter(e=>{if(!e.expiryDate)return!1;const s=new Date(e.expiryDate),t=new Date,a=Math.ceil((s.getTime()-t.getTime())/864e5);return a<=30&&a>0}).length})}catch(e){}finally{c(!1)}},g=async(e,t,a)=>{try{c(!0),await u(),s()}catch(i){}finally{c(!1)}},j=async e=>{try{c(!0);const e=x.map(e=>g());await Promise.all(e),m([]),p(!1)}catch(s){}finally{c(!1)}},b=t.filter(e=>{if(o.search){const s=o.search.toLowerCase();return e.userName.toLowerCase().includes(s)||e.userEmail.toLowerCase().includes(s)||e.fileName.toLowerCase().includes(s)}return"all"!==o.status?e.status===o.status:"all"===o.documentType||e.documentType===o.documentType});return l?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-white",children:"Document Management"}),a.jsx("p",{className:"text-gray-300",children:"Review and approve user documents"})]}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsxs("button",{onClick:()=>p(!h),className:"flex items-center space-x-2 px-4 py-2 bg-white/10 backdrop-blur-md rounded-lg border border-white/20 text-white hover:bg-white/20 transition-all",children:[a.jsx(C,{name:"check-square",className:"h-4 w-4"}),a.jsx("span",{children:"Bulk Actions"})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsx(A,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-300 text-sm",children:"Pending Review"}),a.jsx("p",{className:"text-2xl font-bold text-yellow-400",children:r.pending})]}),a.jsx(C,{name:"clock",className:"h-8 w-8 text-yellow-400"})]})}),a.jsx(A,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-300 text-sm",children:"Approved"}),a.jsx("p",{className:"text-2xl font-bold text-green-400",children:r.approved})]}),a.jsx(C,{name:"check-circle",className:"h-8 w-8 text-green-400"})]})}),a.jsx(A,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-300 text-sm",children:"Rejected"}),a.jsx("p",{className:"text-2xl font-bold text-red-400",children:r.rejected})]}),a.jsx(C,{name:"x-circle",className:"h-8 w-8 text-red-400"})]})}),a.jsx(A,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-300 text-sm",children:"Expiring Soon"}),a.jsx("p",{className:"text-2xl font-bold text-orange-400",children:r.expiring})]}),a.jsx(C,{name:"alert-triangle",className:"h-8 w-8 text-orange-400"})]})})]}),a.jsx(A,{className:"p-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Search"}),a.jsx("input",{type:"text",placeholder:"Search documents...",value:o.search,onChange:e=>d(s=>({...s,search:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Status"}),a.jsxs("select",{value:o.status,onChange:e=>d(s=>({...s,status:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"pending",children:"Pending"}),a.jsx("option",{value:"approved",children:"Approved"}),a.jsx("option",{value:"rejected",children:"Rejected"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Document Type"}),a.jsxs("select",{value:o.documentType,onChange:e=>d(s=>({...s,documentType:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"all",children:"All Types"}),a.jsx("option",{value:"license",children:"Driver's License"}),a.jsx("option",{value:"id",children:"ID Document"}),a.jsx("option",{value:"insurance",children:"Insurance"}),a.jsx("option",{value:"registration",children:"Registration"}),a.jsx("option",{value:"other",children:"Other"})]})]}),a.jsx("div",{className:"flex items-end",children:a.jsxs("button",{onClick:u,className:"w-full flex items-center justify-center space-x-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg text-white transition-all",children:[a.jsx(C,{name:"search",className:"h-4 w-4"}),a.jsx("span",{children:"Filter"})]})})]})}),h&&x.length>0&&a.jsx(A,{className:"p-4 bg-yellow-500/10 border-yellow-500/20",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-yellow-400",children:[x.length," document(s) selected"]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("button",{onClick:()=>j(),className:"flex items-center space-x-2 px-3 py-1 bg-green-600 hover:bg-green-700 rounded text-white text-sm",children:[a.jsx(C,{name:"check",className:"h-4 w-4"}),a.jsx("span",{children:"Approve All"})]}),a.jsxs("button",{onClick:()=>j(),className:"flex items-center space-x-2 px-3 py-1 bg-red-600 hover:bg-red-700 rounded text-white text-sm",children:[a.jsx(C,{name:"x",className:"h-4 w-4"}),a.jsx("span",{children:"Reject All"})]}),a.jsx("button",{onClick:()=>{m([]),p(!1)},className:"px-3 py-1 bg-gray-600 hover:bg-gray-700 rounded text-white text-sm",children:"Cancel"})]})]})}),a.jsx("div",{className:"space-y-4",children:b.map(e=>a.jsxs(A,{className:"p-6",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("input",{type:"checkbox",checked:x.includes(e.id),onChange:()=>{return s=e.id,void m(e=>e.includes(s)?e.filter(e=>e!==s):[...e,s]);var s},className:"rounded border-gray-300"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-white",children:e.userName}),a.jsx("p",{className:"text-gray-400",children:e.userEmail})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"px-2 py-1 rounded-full text-xs "+("license"===e.documentType?"bg-blue-500/20 text-blue-400":"id"===e.documentType?"bg-green-500/20 text-green-400":"insurance"===e.documentType?"bg-purple-500/20 text-purple-400":"registration"===e.documentType?"bg-orange-500/20 text-orange-400":"bg-gray-500/20 text-gray-400"),children:e.documentType.replace("_"," ")}),a.jsx(P,{status:e.status})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-300 text-sm",children:"File Name"}),a.jsx("p",{className:"text-white font-medium",children:e.fileName})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-300 text-sm",children:"Uploaded"}),a.jsx("p",{className:"text-white",children:new Date(e.uploadedAt).toLocaleDateString()})]}),e.expiryDate&&a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-300 text-sm",children:"Expiry Date"}),a.jsx("p",{className:"text-white",children:new Date(e.expiryDate).toLocaleDateString()})]}),e.reviewedBy&&a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-300 text-sm",children:"Reviewed By"}),a.jsx("p",{className:"text-white",children:e.reviewedBy})]})]}),e.rejectionReason&&a.jsx("div",{className:"mb-4 p-3 bg-red-500/10 border border-red-500/20 rounded-lg",children:a.jsxs("p",{className:"text-red-400 text-sm",children:[a.jsx("strong",{children:"Rejection Reason:"})," ",e.rejectionReason]})}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("button",{className:"flex items-center space-x-1 px-3 py-1 bg-blue-600 hover:bg-blue-700 rounded text-white text-sm",children:[a.jsx(C,{name:"eye",className:"h-3 w-3"}),a.jsx("span",{children:"View Document"})]}),a.jsxs("button",{className:"flex items-center space-x-1 px-3 py-1 bg-gray-600 hover:bg-gray-700 rounded text-white text-sm",children:[a.jsx(C,{name:"download",className:"h-3 w-3"}),a.jsx("span",{children:"Download"})]})]}),"pending"===e.status&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("button",{onClick:()=>g(e.id),className:"flex items-center space-x-1 px-3 py-1 bg-green-600 hover:bg-green-700 rounded text-white text-sm",children:[a.jsx(C,{name:"check",className:"h-3 w-3"}),a.jsx("span",{children:"Approve"})]}),a.jsxs("button",{onClick:()=>{prompt("Rejection reason:")&&g(e.id)},className:"flex items-center space-x-1 px-3 py-1 bg-red-600 hover:bg-red-700 rounded text-white text-sm",children:[a.jsx(C,{name:"x",className:"h-3 w-3"}),a.jsx("span",{children:"Reject"})]})]})]})]},e.id))}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"text-sm text-gray-400",children:["Showing ",b.length," of ",t.length," documents"]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{className:"px-3 py-1 bg-white/10 rounded text-white hover:bg-white/20",children:"Previous"}),a.jsx("span",{className:"px-3 py-1 bg-white/20 rounded text-white",children:"1"}),a.jsx("button",{className:"px-3 py-1 bg-white/10 rounded text-white hover:bg-white/20",children:"Next"})]})]})]})},de=({stats:e})=>e?a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx(A,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-300 text-sm",children:"Total Users"}),a.jsx("p",{className:"text-2xl font-bold text-white",children:e.overview.totalUsers}),a.jsxs("p",{className:"text-red-400 text-sm mt-1",children:[e.overview.pendingUsers," pending approval"]})]}),a.jsx(C,{name:"users",className:"h-8 w-8 text-blue-400"})]})}),a.jsx(A,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-300 text-sm",children:"Total Vehicles"}),a.jsx("p",{className:"text-2xl font-bold text-white",children:e.overview.totalVehicles}),a.jsxs("p",{className:"text-red-400 text-sm mt-1",children:[e.overview.pendingVehicles," pending approval"]})]}),a.jsx(C,{name:"car",className:"h-8 w-8 text-green-400"})]})}),a.jsx(A,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-300 text-sm",children:"Total Bookings"}),a.jsx("p",{className:"text-2xl font-bold text-white",children:e.overview.totalBookings}),a.jsxs("p",{className:"text-yellow-400 text-sm mt-1",children:[e.overview.pendingBookings," pending"]})]}),a.jsx(C,{name:"calendar",className:"h-8 w-8 text-purple-400"})]})}),a.jsx(A,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-300 text-sm",children:"Total Revenue"}),a.jsxs("p",{className:"text-2xl font-bold text-white",children:["R",e.overview.totalRevenue.toLocaleString()]}),a.jsx("p",{className:"text-green-400 text-sm mt-1",children:"+12% from last month"})]}),a.jsx(C,{name:"dollar-sign",className:"h-8 w-8 text-yellow-400"})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsx("div",{className:"lg:col-span-2",children:a.jsx(te,{})}),a.jsx("div",{className:"lg:col-span-1",children:a.jsxs(A,{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"System Health"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-300 text-sm",children:"Server Status"}),a.jsxs("span",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),a.jsx("span",{className:"text-green-400 text-sm font-medium",children:"Online"})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-300 text-sm",children:"Database"}),a.jsxs("span",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),a.jsx("span",{className:"text-green-400 text-sm font-medium",children:"Connected"})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-300 text-sm",children:"API Status"}),a.jsxs("span",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),a.jsx("span",{className:"text-green-400 text-sm font-medium",children:"Healthy"})]})]})]})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(A,{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Recent User Registrations"}),a.jsx("div",{className:"space-y-3",children:e.recentActivity.recentUsers.slice(0,5).map(e=>a.jsxs("div",{className:"flex items-center justify-between bg-white/5 rounded-lg p-3",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-white font-medium",children:[e.firstName," ",e.lastName]}),a.jsx("p",{className:"text-gray-400 text-sm",children:e.email})]}),a.jsx("span",{className:"px-2 py-1 rounded-full text-xs "+("pending"===e.approvalStatus?"bg-yellow-500/20 text-yellow-400":"approved"===e.approvalStatus?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"),children:e.approvalStatus})]},e.id))})]}),a.jsxs(A,{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Recent Vehicle Listings"}),a.jsx("div",{className:"space-y-3",children:e.recentActivity.recentVehicles.slice(0,5).map(e=>a.jsxs("div",{className:"flex items-center justify-between bg-white/5 rounded-lg p-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-white font-medium",children:e.title}),a.jsxs("p",{className:"text-gray-400 text-sm",children:[e.make," ",e.model]})]}),a.jsx("span",{className:"px-2 py-1 rounded-full text-xs "+("pending"===e.status?"bg-yellow-500/20 text-yellow-400":"approved"===e.status?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"),children:e.status})]},e.id))})]})]}),a.jsxs(A,{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Quick Actions"}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("button",{className:"flex items-center space-x-2 p-4 bg-white/10 rounded-lg hover:bg-white/20 transition-all",children:[a.jsx(C,{name:"user-plus",className:"h-5 w-5 text-blue-400"}),a.jsx("span",{className:"text-white",children:"Approve Users"})]}),a.jsxs("button",{className:"flex items-center space-x-2 p-4 bg-white/10 rounded-lg hover:bg-white/20 transition-all",children:[a.jsx(C,{name:"car",className:"h-5 w-5 text-green-400"}),a.jsx("span",{className:"text-white",children:"Review Vehicles"})]}),a.jsxs("button",{className:"flex items-center space-x-2 p-4 bg-white/10 rounded-lg hover:bg-white/20 transition-all",children:[a.jsx(C,{name:"alert-triangle",className:"h-5 w-5 text-yellow-400"}),a.jsx("span",{className:"text-white",children:"Handle Disputes"})]}),a.jsxs("button",{className:"flex items-center space-x-2 p-4 bg-white/10 rounded-lg hover:bg-white/20 transition-all",children:[a.jsx(C,{name:"file-text",className:"h-5 w-5 text-purple-400"}),a.jsx("span",{className:"text-white",children:"Review Documents"})]})]})]})]}):a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-gray-300",children:"Loading platform statistics..."})}),xe=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const{admin:t,logout:i}=k(),c=s(),[o,d]=e.useState(null),[x,m]=e.useState(!0),[h,p]=e.useState("overview");e.useEffect(()=>{if(!t)return void c("/");u();const e=setInterval(u,3e4);return()=>clearInterval(e)},[t,c]);const u=async()=>{try{d(Z)}catch(e){d(Z)}finally{m(!1)}},g=()=>{u()},j=async()=>{try{await i()}catch(e){}},b=[{id:"overview",label:"Overview",icon:"bar-chart",path:"/admin-dashboard"},{id:"users",label:"User Management",icon:"users",path:"/admin-dashboard/users"},{id:"vehicles",label:"Vehicle Management",icon:"car",path:"/admin-dashboard/vehicles"},{id:"bookings",label:"Booking Management",icon:"calendar",path:"/admin-dashboard/bookings"},{id:"financial",label:"Financial Dashboard",icon:"dollar-sign",path:"/admin-dashboard/financial"},{id:"content",label:"Content Moderation",icon:"shield",path:"/admin-dashboard/content"},{id:"analytics",label:"Analytics & Reports",icon:"trending-up",path:"/admin-dashboard/analytics"},{id:"system",label:"System Admin",icon:"settings",path:"/admin-dashboard/system"},{id:"documents",label:"Document Management",icon:"file-text",path:"/admin-dashboard/documents"}];return x||!t?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600 mx-auto mb-4"}),a.jsx("p",{className:"text-white text-lg",children:"Loading Admin Dashboard..."})]})}):a.jsx("div",{className:"min-h-screen",children:a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"w-64 bg-white/10 backdrop-blur-md border-r border-white/20 min-h-screen",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-8",children:[a.jsxs("div",{className:"bg-gradient-to-r from-blue-600/90 to-purple-600/90 backdrop-blur-sm rounded-lg p-3 shadow-xl border border-white/30",children:[a.jsx("div",{className:"text-white font-bold text-lg",children:"RideShare"}),a.jsx("div",{className:"text-white/80 text-xs",children:"South Africa"})]}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-bold text-white",children:"Admin Dashboard"}),a.jsx("p",{className:"text-white/70 text-sm",children:"RideShare SA Management"})]})]}),a.jsx("div",{className:"space-y-2 flex-1",children:b.map(e=>a.jsxs(r,{to:e.path,className:"flex items-center space-x-3 px-4 py-3 rounded-lg transition-all "+(h===e.id?"bg-white/20 text-white":"text-gray-300 hover:text-white hover:bg-white/10"),onClick:()=>p(e.id),children:[a.jsx(C,{name:e.icon,className:"h-5 w-5"}),a.jsx("span",{className:"font-medium",children:e.label})]},e.id))}),a.jsx("div",{className:"mt-8 pt-4 border-t border-white/20",children:a.jsxs("button",{onClick:j,className:"w-full flex items-center space-x-3 px-4 py-3 rounded-lg transition-all text-red-400 hover:text-white hover:bg-red-600/20",children:[a.jsx(C,{name:"log-out",className:"h-5 w-5"}),a.jsx("span",{className:"font-medium",children:"Exit Admin Dashboard"})]})})]})}),a.jsx("div",{className:"flex-1 p-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsx("div",{className:"mb-8",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:b.find(e=>e.id===h)?.label||"Admin Dashboard"}),a.jsxs("p",{className:"text-gray-300",children:["Welcome back, ",t?.firstName," ",t?.lastName]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("button",{onClick:g,className:"flex items-center space-x-2 px-4 py-2 bg-white/10 backdrop-blur-md rounded-lg border border-white/20 text-white hover:bg-white/20 transition-all",children:[a.jsx(C,{name:"refresh-cw",className:"h-4 w-4"}),a.jsx("span",{children:"Refresh"})]}),a.jsxs("button",{onClick:j,className:"flex items-center space-x-2 px-4 py-2 bg-red-600/80 backdrop-blur-md rounded-lg border border-red-500/30 text-white hover:bg-red-600 transition-all",children:[a.jsx(C,{name:"log-out",className:"h-4 w-4"}),a.jsx("span",{children:"Exit Admin"})]})]})]})}),a.jsxs(n,{children:[a.jsx(l,{path:"/",element:a.jsx(de,{stats:o})}),a.jsx(l,{path:"/users",element:a.jsx(ae,{onRefresh:g})}),a.jsx(l,{path:"/vehicles",element:a.jsx(ie,{onRefresh:g})}),a.jsx(l,{path:"/bookings",element:a.jsx(re,{})}),a.jsx(l,{path:"/financial",element:a.jsx(ne,{onRefresh:g})}),a.jsx(l,{path:"/content",element:a.jsx(le,{onRefresh:g})}),a.jsx(l,{path:"/analytics",element:a.jsx(ce,{onRefresh:g})}),a.jsx(l,{path:"/system",element:a.jsx(I,{})}),a.jsx(l,{path:"/documents",element:a.jsx(oe,{onRefresh:g})})]})]})})]})})}},Symbol.toStringTag,{value:"Module"}));export{V as A,A as G,C as I,_ as R,P as S,b as _,Y as a,se as b,B as c,K as d,ee as e,G as f,Q as g,H as h,S as i,k as j,f as k,L as l,X as m,z as n,N as o,T as p,F as q,q as r,O as s,xe as t,w as u,$ as v};
