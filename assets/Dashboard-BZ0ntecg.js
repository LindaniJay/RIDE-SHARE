import{r as e,j as s}from"./react-vendor-DFf_48ct.js";import{u as t,I as i,R as n}from"./admin-pages-CpfzzoOP.js";import{R as r,H as a}from"./dashboard-pages-CvdDs3Ce.js";import"./vendor-eiHq4GmM.js";import"./firebase-B6ibEfTD.js";import"./utils-Bi8vyz5k.js";const l=()=>{t();const[n,r]=e.useState({pendingUsers:0,pendingVehicles:0,pendingBookings:0,totalRevenue:0,activeUsers:0}),[a,l]=e.useState(!0);e.useEffect(()=>{d()},[]);const d=async()=>{try{const e=await fetch("/api/admin/stats",{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}});if(e.ok){const s=await e.json();r({pendingUsers:s.data.overview.pendingUsers||0,pendingVehicles:s.data.overview.pendingVehicles||0,pendingBookings:s.data.overview.pendingBookings||0,totalRevenue:s.data.overview.totalRevenue||0,activeUsers:s.data.overview.totalUsers||0})}}catch(e){}finally{l(!1)}},c=[{id:"approve-users",title:"Approve Users",description:"Review and approve pending user registrations",icon:"UserCheck",color:"blue",count:n.pendingUsers,action:()=>{}},{id:"approve-vehicles",title:"Approve Vehicles",description:"Review and approve pending vehicle listings",icon:"Car",color:"green",count:n.pendingVehicles,action:()=>{}},{id:"manage-bookings",title:"Manage Bookings",description:"Monitor and manage booking requests",icon:"Calendar",color:"purple",count:n.pendingBookings,action:()=>{}},{id:"view-analytics",title:"View Analytics",description:"Access platform analytics and reports",icon:"BarChart",color:"yellow",count:null,action:()=>{}},{id:"system-settings",title:"System Settings",description:"Configure platform settings and features",icon:"Settings",color:"gray",count:null,action:()=>{}},{id:"support-tickets",title:"Support Tickets",description:"Handle user support requests",icon:"MessageCircle",color:"red",count:null,action:()=>{}}];return a?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx("div",{className:"bg-white/10 backdrop-blur-md rounded-lg p-4 border border-white/20",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-white/70 text-sm",children:"Pending Users"}),s.jsx("p",{className:"text-2xl font-bold text-white",children:n.pendingUsers})]}),s.jsx(i,{name:"Users",className:"h-8 w-8 text-blue-400"})]})}),s.jsx("div",{className:"bg-white/10 backdrop-blur-md rounded-lg p-4 border border-white/20",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-white/70 text-sm",children:"Pending Vehicles"}),s.jsx("p",{className:"text-2xl font-bold text-white",children:n.pendingVehicles})]}),s.jsx(i,{name:"Car",className:"h-8 w-8 text-green-400"})]})}),s.jsx("div",{className:"bg-white/10 backdrop-blur-md rounded-lg p-4 border border-white/20",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-white/70 text-sm",children:"Pending Bookings"}),s.jsx("p",{className:"text-2xl font-bold text-white",children:n.pendingBookings})]}),s.jsx(i,{name:"Calendar",className:"h-8 w-8 text-purple-400"})]})}),s.jsx("div",{className:"bg-white/10 backdrop-blur-md rounded-lg p-4 border border-white/20",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-white/70 text-sm",children:"Total Revenue"}),s.jsxs("p",{className:"text-2xl font-bold text-white",children:["R",n.totalRevenue.toLocaleString()]})]}),s.jsx(i,{name:"DollarSign",className:"h-8 w-8 text-yellow-400"})]})})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map(e=>s.jsx("button",{onClick:e.action,className:"p-4 bg-white/10 backdrop-blur-md rounded-lg border border-white/20 hover:bg-white/20 transition-all duration-300 text-left group",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:`p-2 rounded-lg bg-${e.color}-500/20`,children:s.jsx(i,{name:e.icon,className:`h-6 w-6 text-${e.color}-400`})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"text-white font-semibold group-hover:text-white transition-colors",children:e.title}),null!==e.count&&s.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium "+(e.count>0?"bg-red-500/20 text-red-200 border border-red-400/30":"bg-green-500/20 text-green-200 border border-green-400/30"),children:e.count})]}),s.jsx("p",{className:"text-white/70 text-sm",children:e.description})]})]})},e.id))}),s.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-lg p-6 border border-white/20",children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Recent Activity"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-white/5 rounded-lg",children:[s.jsx(i,{name:"UserPlus",className:"h-5 w-5 text-green-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-white text-sm",children:"New user registration"}),s.jsx("p",{className:"text-white/70 text-xs",children:"2 minutes ago"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-white/5 rounded-lg",children:[s.jsx(i,{name:"Car",className:"h-5 w-5 text-blue-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-white text-sm",children:"New vehicle listing submitted"}),s.jsx("p",{className:"text-white/70 text-xs",children:"5 minutes ago"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-white/5 rounded-lg",children:[s.jsx(i,{name:"Calendar",className:"h-5 w-5 text-purple-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-white text-sm",children:"New booking request"}),s.jsx("p",{className:"text-white/70 text-xs",children:"10 minutes ago"})]})]})]})]})]})},d=()=>{const{user:i}=t(),[d,c]=e.useState("renter"),o=i?.role?.toLowerCase(),x="admin"===o,h=e=>{c(e)};return s.jsx("div",{className:"page-background",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Dashboard"}),s.jsx("p",{className:"text-gray-300",children:"Welcome to your dashboard!"}),x&&s.jsxs("div",{className:"mt-4 flex space-x-2",children:[s.jsx("button",{onClick:()=>h("renter"),className:"px-4 py-2 rounded-lg text-sm font-medium transition-all "+("renter"===d?"bg-white/20 text-white":"bg-white/10 text-white/70 hover:bg-white/20"),children:"Renter View"}),s.jsx("button",{onClick:()=>h("host"),className:"px-4 py-2 rounded-lg text-sm font-medium transition-all "+("host"===d?"bg-white/20 text-white":"bg-white/10 text-white/70 hover:bg-white/20"),children:"Host View"}),s.jsx("button",{onClick:()=>h("admin"),className:"px-4 py-2 rounded-lg text-sm font-medium transition-all "+("admin"===d?"bg-white/20 text-white":"bg-white/10 text-white/70 hover:bg-white/20"),children:"Admin Panel"})]})]}),s.jsx("div",{className:"space-y-6",children:x?s.jsxs(s.Fragment,{children:["renter"===d&&s.jsx(r,{}),"host"===d&&s.jsx(a,{}),"admin"===d&&s.jsxs("div",{className:"space-y-6",children:[s.jsx(l,{}),s.jsx(n,{})]})]}):s.jsxs(s.Fragment,{children:["renter"===o&&s.jsx(r,{}),"host"===o&&s.jsx(a,{})]})})]})})};export{d as default};
