import{j as e}from"./query-CSyQ0w5Y.js";import{r as i}from"./vendor-CBH9K-97.js";import{c as w,L as b}from"./router-BWB2dKYR.js";import{u as j}from"./index-DVD4qWsO.js";import{G as v}from"./GlassForm-H9qvmeAC.js";import{G as u,a as y}from"./GlassButton-BfRB-w5d.js";import"./ui-qr7cu0yN.js";import"./Glassmorphism-B6x2MkMT.js";const D=()=>{const[a,x]=i.useState({email:"",password:""}),[o,l]=i.useState(!1),[n,m]=i.useState(""),r=w(),{login:p}=j(),d=t=>{x({...a,[t.target.name]:t.target.value})},f=async t=>{var c,h;t.preventDefault(),l(!0),m("");try{await p(a.email,a.password);const s=localStorage.getItem("userRole");r(s==="admin"?"/dashboard/admin":s==="host"?"/dashboard/host":"/dashboard")}catch(s){const g=s instanceof Error&&"response"in s?(h=(c=s.response)==null?void 0:c.data)==null?void 0:h.error:"Login failed. Please try again.";m(g||"Login failed. Please try again.")}finally{l(!1)}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"max-w-md w-full space-y-8",children:e.jsxs(v,{title:"Welcome Back",subtitle:"Sign in to your RideShare SA account",onSubmit:f,className:"w-full",children:[n&&e.jsx("div",{className:"bg-red-500/20 border border-red-400/30 rounded-xl p-4 backdrop-blur-md",children:e.jsx("p",{className:"text-sm text-red-200",children:n})}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(u,{label:"Email address",name:"email",type:"email",autoComplete:"email",required:!0,value:a.email,onChange:d,placeholder:"Enter your email",icon:"‚úâÔ∏è"}),e.jsx(u,{label:"Password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:a.password,onChange:d,placeholder:"Enter your password",icon:"üîí",variant:"password"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-white/60 focus:ring-white/20 border-white/30 rounded bg-white/10"}),e.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-white/80",children:"Remember me"})]}),e.jsx("div",{className:"text-sm",children:e.jsx("a",{href:"#",className:"font-medium text-white/80 hover:text-white",children:"Forgot password?"})})]}),e.jsx(y,{type:"submit",disabled:o,className:"w-full",gradient:!0,icon:"üöó",children:o?"Signing in...":"Sign in"}),e.jsx("div",{className:"text-center",children:e.jsxs("p",{className:"text-white/70 text-sm",children:["Don't have an account?"," ",e.jsx(b,{to:"/register",className:"font-medium text-white hover:text-white/80 transition-colors",children:"Create one here"})]})})]})})})};export{D as default};
