const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["/assets/admin-pages-CLn31zMV.js","/assets/react-vendor-R_lWSjNG.js","/assets/vendor-BDlGQTAF.js","/assets/firebase-OlRJkiMA.js","/assets/utils-Bi8vyz5k.js","/assets/ui-libs-BTnp6TS4.js","/assets/Chatbot-CcBuy_GD.js","/assets/Home-ChP6M_B5.js","/assets/useAnalytics-CIzsJjl7.js","/assets/Search-Cvisgqrw.js","/assets/dashboard-pages-BSp87bHe.js","/assets/VehicleDetail-CnMIGWi9.js","/assets/About-BbR9e1lo.js","/assets/Contact-DTCtN4-u.js","/assets/FAQ-Dn1Uy7z_.js","/assets/Pricing-C_5iOOsH.js","/assets/Login-RKebPZac.js","/assets/Signup-CzvouDhM.js","/assets/Unauthorized-C_6GezeD.js","/assets/NotFound--kyf4hvI.js"])))=>i.map(i=>d[i]);
import{r as e,j as s,a as t,L as a,N as i,u as l,n as r,X as n,e as c,k as o,l as d,m,D as x,o as h,p as u,q as p,I as g,F as j,b,U as w,S as f,P as v,E as N,g as y,C as k,T as C,s as S,t as R,v as P,w as _,x as L,y as A,z as D,G as V,H as E,J as T,c as z,h as F,R as I,d as M,A as B,K as U,O as $,Q as O,V as H,W as q,Y as W,Z as G}from"./react-vendor-R_lWSjNG.js";import{I as Y,u as X,w as J,_ as Q,G as Z,b as K,f as ee,g as se,m as te,h as ae,R as ie,j as le,k as re}from"./admin-pages-CLn31zMV.js";import{Q as ne}from"./vendor-BDlGQTAF.js";import{D as ce,a as oe,R as de}from"./dashboard-pages-BSp87bHe.js";import{m as me,A as xe}from"./ui-libs-BTnp6TS4.js";import{t as he,c as ue}from"./utils-Bi8vyz5k.js";import"./firebase-OlRJkiMA.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const t of e)if("childList"===t.type)for(const e of t.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&s(e)}).observe(document,{childList:!0,subtree:!0})}function s(e){if(e.ep)return;e.ep=!0;const s=function(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?s.credentials="include":"anonymous"===e.crossOrigin?s.credentials="omit":s.credentials="same-origin",s}(e);fetch(e.href,s)}}();const pe=e.createContext(void 0),ge=({children:t})=>{const[a,i]=e.useState(!1);e.useEffect(()=>{const e=localStorage.getItem("theme");i(e?"dark"===e:window.matchMedia("(prefers-color-scheme: dark)").matches)},[]),e.useEffect(()=>{localStorage.setItem("theme",a?"dark":"light"),a?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[a]);const l={isDark:a,toggleTheme:()=>{i(!a)}};return s.jsx(pe.Provider,{value:l,children:t})},je=({message:t,type:a,duration:i=5e3,onClose:l})=>{const[r,n]=e.useState(!0);return e.useEffect(()=>{const e=setTimeout(()=>{n(!1),setTimeout(()=>l?.(),300)},i);return()=>clearTimeout(e)},[i,l]),r?s.jsx("div",{className:`fixed top-4 right-4 z-50 p-4 rounded-lg border backdrop-blur-md transition-all duration-300 ${{success:"bg-green-500/90 border-green-400 text-white",error:"bg-red-500/90 border-red-400 text-white",warning:"bg-yellow-500/90 border-yellow-400 text-white",info:"bg-blue-500/90 border-blue-400 text-white"}[a]}`,children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Y,{name:{success:"CheckCircle",error:"XCircle",warning:"AlertTriangle",info:"Info"}[a],className:"h-5 w-5"}),s.jsx("span",{className:"font-medium",children:t}),s.jsx("button",{onClick:()=>{n(!1),setTimeout(()=>l?.(),300)},className:"ml-2 hover:bg-white/20 rounded p-1",children:s.jsx(Y,{name:"X",className:"h-4 w-4"})})]})}):null},be=e.createContext(void 0),we=({children:t})=>{const[a,i]=e.useState([]),l=e.useCallback((e,s,t=5e3)=>{const a=Math.random().toString(36).substr(2,9);i(i=>[...i,{id:a,message:e,type:s,duration:t}])},[]),r=e.useCallback(e=>{i(s=>s.filter(s=>s.id!==e))},[]);return s.jsxs(be.Provider,{value:{showToast:l,hideToast:r},children:[t,a.map(e=>s.jsx(je,{message:e.message,type:e.type,duration:e.duration,onClose:()=>r(e.id)},e.id))]})},fe=({userId:t,userRole:a})=>{const[i,l]=e.useState([]),[r,n]=e.useState(0),[c,o]=e.useState(!1),[d,m]=e.useState(!1),{showToast:x}=(()=>{const s=e.useContext(be);if(!s)throw new Error("useToast must be used within a ToastProvider");return s})(),{user:h}=X();return e.useEffect(()=>{const e=setTimeout(()=>{(async()=>{try{const{apiClient:e}=await Q(async()=>{const{apiClient:e}=await import("./admin-pages-CLn31zMV.js").then(e=>e.o);return{apiClient:e}},__vite__mapDeps([0,1,2,3,4,5]),import.meta.url),s=await e.get("notifications");s.data.success&&(l(s.data.notifications||[]),n(s.data.pagination?.total||0))}catch(e){}})()},1e3);return()=>clearTimeout(e)},[t]),e.useEffect(()=>{if(!h)return;const e=localStorage.getItem("authToken");if(!e)return;J.connect(e),J.subscribeToNotifications(e=>{const s={id:e.id||Math.random().toString(36).substr(2,9),title:e.title,message:e.message,type:e.type||"info",timestamp:new Date(e.timestamp||Date.now()),read:!1};l(e=>[s,...e.slice(0,19)]),n(e=>e+1),x(s.message,s.type)}),"admin"===a&&J.subscribeToAdminUpdates(e=>{const s={id:`admin_${Date.now()}`,title:e.title||"Admin Update",message:e.message||"System update received",type:"info",timestamp:new Date,read:!1};l(e=>[s,...e.slice(0,19)]),n(e=>e+1),x(s.message,s.type)});const s=()=>{m(J.socket?.connected||!1)};s();const t=setInterval(s,5e3);return()=>{clearInterval(t)}},[h,a,x]),s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>o(!c),className:"relative p-2 bg-white/10 rounded-lg hover:bg-white/20 transition-colors",children:[s.jsx(Y,{name:"Bell",className:"h-5 w-5 text-white"}),r>0&&s.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:r>9?"9+":r}),!d&&s.jsx("span",{className:"absolute -bottom-1 -right-1 bg-yellow-500 text-white text-xs rounded-full h-3 w-3",title:"Disconnected"})]}),c&&s.jsxs("div",{className:"absolute right-0 top-12 w-80 bg-white/10 backdrop-blur-md rounded-lg border border-white/20 shadow-xl z-50",children:[s.jsx("div",{className:"p-4 border-b border-white/20",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-white font-semibold",children:"Notifications"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:async()=>{try{const{apiClient:e}=await Q(async()=>{const{apiClient:e}=await import("./admin-pages-CLn31zMV.js").then(e=>e.o);return{apiClient:e}},__vite__mapDeps([0,1,2,3,4,5]),import.meta.url);await e.put("notifications/mark-all-read"),l(e=>e.map(e=>({...e,read:!0}))),n(0)}catch(e){}},className:"text-xs text-white/70 hover:text-white transition-colors",children:"Mark all read"}),s.jsx("button",{onClick:()=>o(!1),className:"text-white/70 hover:text-white transition-colors",children:s.jsx(Y,{name:"X",className:"h-4 w-4"})})]})]})}),s.jsx("div",{className:"max-h-96 overflow-y-auto",children:0===i.length?s.jsxs("div",{className:"p-4 text-center text-white/70",children:[s.jsx(Y,{name:"Bell",className:"h-8 w-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"No notifications yet"})]}):i.map(e=>s.jsx("div",{onClick:()=>(async e=>{try{const{apiClient:s}=await Q(async()=>{const{apiClient:e}=await import("./admin-pages-CLn31zMV.js").then(e=>e.o);return{apiClient:e}},__vite__mapDeps([0,1,2,3,4,5]),import.meta.url);await s.put("notifications/mark-read",{notification_ids:[e]}),l(s=>s.map(s=>s.id===e?{...s,read:!0}:s)),n(e=>Math.max(0,e-1))}catch(s){}})(e.id),className:"p-4 border-b border-white/10 hover:bg-white/5 transition-colors cursor-pointer "+(e.read?"":"bg-blue-500/10"),children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"p-1 rounded-full "+("success"===e.type?"bg-green-500/20":"error"===e.type?"bg-red-500/20":"warning"===e.type?"bg-yellow-500/20":"bg-blue-500/20"),children:s.jsx(Y,{name:"success"===e.type?"CheckCircle":"error"===e.type?"XCircle":"warning"===e.type?"AlertTriangle":"Info",className:"h-4 w-4 text-white"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"text-white font-medium text-sm",children:e.title}),s.jsx("p",{className:"text-white/70 text-xs mt-1",children:e.message}),s.jsx("p",{className:"text-white/50 text-xs mt-1",children:e.timestamp.toLocaleTimeString()})]}),!e.read&&s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})]})},e.id))})]})]})},ve=({isOpen:t,onClose:a,initialMode:i="login"})=>{const{login:l,signup:r,loading:n}=X(),[c,o]=e.useState(i),[d,m]=e.useState(""),[x,h]=e.useState(!1),[u,p]=e.useState({email:"",password:""}),[g,j]=e.useState({email:"",password:"",confirmPassword:"",firstName:"",lastName:"",phone:"",role:"Renter"}),[b,w]=e.useState({idDocument:null,driverLicense:null,proofOfAddress:null});e.useEffect(()=>{t&&(o(i),m(""),h(!1))},[t,i]);const f=e=>{const{name:s,value:t}=e.target;p(e=>({...e,[s]:t})),m("")},v=e=>{const{name:s,value:t}=e.target;j(e=>({...e,[s]:t})),m("")},N=(e,s)=>{w(t=>({...t,[e]:s}))},y=()=>{m(""),h(!1),p({email:"",password:""}),j({email:"",password:"",confirmPassword:"",firstName:"",lastName:"",phone:"",role:"Renter"}),w({idDocument:null,driverLicense:null,proofOfAddress:null}),a()};return e.useEffect(()=>{const e=e=>{"Escape"===e.key&&t&&y()};return t&&(document.addEventListener("keydown",e),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",e),document.body.style.overflow="unset"}},[t]),t?s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:y}),s.jsx("div",{className:"relative w-full max-w-md max-h-[90vh] overflow-y-auto",children:s.jsxs(Z,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"h-10 w-10 bg-gradient-to-r from-blue-600 to-purple-600 rounded-full flex items-center justify-center",children:s.jsx(Y,{name:"Car",size:"sm",className:"text-white"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:"login"===c?"Welcome back":"Join RideShare SA"}),s.jsx("p",{className:"text-sm text-white/70",children:"login"===c?"Sign in to your account":"Create your account"})]})]}),s.jsx("button",{onClick:y,className:"glass-button p-2 text-white/70 hover:text-white transition-colors",children:s.jsx(Y,{name:"X",size:"sm"})})]}),s.jsxs("div",{className:"flex bg-white/10 rounded-lg p-1 mb-6",children:[s.jsx("button",{onClick:()=>o("login"),className:"flex-1 py-2 px-4 rounded-md text-sm font-medium transition-all duration-200 "+("login"===c?"bg-white/20 text-white shadow-sm":"text-white/70 hover:text-white"),children:"Sign In"}),s.jsx("button",{onClick:()=>o("signup"),className:"flex-1 py-2 px-4 rounded-md text-sm font-medium transition-all duration-200 "+("signup"===c?"bg-white/20 text-white shadow-sm":"text-white/70 hover:text-white"),children:"Sign Up"})]}),d&&s.jsx("div",{className:"bg-red-500/20 border border-red-500/30 rounded-lg p-4 text-red-200 text-sm mb-6",children:d}),"login"===c&&s.jsxs("form",{onSubmit:async e=>{e.preventDefault(),m(""),h(!0);try{await l(u.email,u.password),a()}catch(s){m(s.message)}finally{h(!1)}},className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"login-email",className:"block text-sm font-medium text-white/70 mb-2",children:"Email address"}),s.jsx("input",{id:"login-email",name:"email",type:"email",autoComplete:"email",required:!0,value:u.email,onChange:f,className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500/50 transition-all",placeholder:"Enter your email"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"login-password",className:"block text-sm font-medium text-white/70 mb-2",children:"Password"}),s.jsx("input",{id:"login-password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:u.password,onChange:f,className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500/50 transition-all",placeholder:"Enter your password"})]}),s.jsx(K,{type:"submit",disabled:x||n,className:"w-full flex justify-center items-center space-x-2",children:x||n?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),s.jsx("span",{children:"Signing in..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(Y,{name:"Login",size:"sm"}),s.jsx("span",{children:"Sign in"})]})})]}),"signup"===c&&s.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),m(""),h(!0),g.password!==g.confirmPassword)return m("Passwords do not match"),void h(!1);if(g.password.length<6)return m("Password must be at least 6 characters long"),void h(!1);if(!("Host"!==g.role||b.idDocument&&b.driverLicense))return m("Please upload required documents to complete your registration"),void h(!1);if("Renter"===g.role&&!b.driverLicense)return m("Please upload your driver's license to complete your registration"),void h(!1);try{await r(g.email,g.password,g.firstName,g.lastName,g.phone,g.role),a()}catch(s){m(s.message)}finally{h(!1)}},className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"signup-firstName",className:"block text-sm font-medium text-white/70 mb-2",children:"First name"}),s.jsx("input",{id:"signup-firstName",name:"firstName",type:"text",autoComplete:"given-name",required:!0,value:g.firstName,onChange:v,className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500/50 transition-all",placeholder:"First name"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"signup-lastName",className:"block text-sm font-medium text-white/70 mb-2",children:"Last name"}),s.jsx("input",{id:"signup-lastName",name:"lastName",type:"text",autoComplete:"family-name",required:!0,value:g.lastName,onChange:v,className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500/50 transition-all",placeholder:"Last name"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"signup-email",className:"block text-sm font-medium text-white/70 mb-2",children:"Email address"}),s.jsx("input",{id:"signup-email",name:"email",type:"email",autoComplete:"email",required:!0,value:g.email,onChange:v,className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500/50 transition-all",placeholder:"Enter your email"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"signup-phone",className:"block text-sm font-medium text-white/70 mb-2",children:"Phone number (optional)"}),s.jsx("input",{id:"signup-phone",name:"phone",type:"tel",autoComplete:"tel",value:g.phone,onChange:v,className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500/50 transition-all",placeholder:"Enter your phone number"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"signup-role",className:"block text-sm font-medium text-white/70 mb-2",children:"I want to"}),s.jsxs("select",{id:"signup-role",name:"role",required:!0,value:g.role,onChange:v,className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500/50 transition-all",children:[s.jsx("option",{value:"Renter",className:"bg-gray-800 text-white",children:"Rent vehicles from others"}),s.jsx("option",{value:"Host",className:"bg-gray-800 text-white",children:"Rent out my vehicles"})]})]}),"Host"===g.role&&s.jsxs("div",{className:"mt-6 p-6 bg-white/5 rounded-xl border border-white/10",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx(Y,{name:"FileText",size:"md",className:"text-blue-400"}),s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Required Documents"})]}),s.jsx("p",{className:"text-white/70 text-sm mb-6",children:"Please upload the required documents to complete your registration. These documents help us verify your identity and ensure platform safety."}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"ID Document *"}),s.jsx("p",{className:"text-white/60 text-xs mb-3",children:"South African ID, passport, or driver's license"}),s.jsx(ce,{label:"",name:"idDocument",onChange:e=>N("idDocument",e),acceptedTypes:["image/*","application/pdf"],maxSize:5})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Driver's License *"}),s.jsx("p",{className:"text-white/60 text-xs mb-3",children:"Valid South African driver's license"}),s.jsx(ce,{label:"",name:"driverLicense",onChange:e=>N("driverLicense",e),acceptedTypes:["image/*","application/pdf"],maxSize:5})]})]})]}),"Renter"===g.role&&s.jsxs("div",{className:"mt-6 p-6 bg-white/5 rounded-xl border border-white/10",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx(Y,{name:"FileText",size:"md",className:"text-green-400"}),s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Driver Verification"})]}),s.jsx("p",{className:"text-white/70 text-sm mb-6",children:"Please upload your driver's license to verify your driving eligibility. This helps ensure a safe and secure rental experience."}),s.jsx("div",{className:"grid grid-cols-1 gap-6",children:s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Driver's License *"}),s.jsx("p",{className:"text-white/60 text-xs mb-3",children:"Valid South African driver's license (front and back)"}),s.jsx(ce,{label:"",name:"driverLicense",onChange:e=>N("driverLicense",e),acceptedTypes:["image/*","application/pdf"],maxSize:5})]})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"signup-password",className:"block text-sm font-medium text-white/70 mb-2",children:"Password"}),s.jsx("input",{id:"signup-password",name:"password",type:"password",autoComplete:"new-password",required:!0,value:g.password,onChange:v,className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500/50 transition-all",placeholder:"Create password"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"signup-confirmPassword",className:"block text-sm font-medium text-white/70 mb-2",children:"Confirm password"}),s.jsx("input",{id:"signup-confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",required:!0,value:g.confirmPassword,onChange:v,className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500/50 transition-all",placeholder:"Confirm password"})]})]}),s.jsx(K,{type:"submit",disabled:x||n,className:"w-full flex justify-center items-center space-x-2",children:x||n?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),s.jsx("span",{children:"Creating account..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(Y,{name:"Plus",size:"sm"}),s.jsx("span",{children:"Create account"})]})})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsxs("p",{className:"text-white/60 text-sm",children:["login"===c?"Don't have an account? ":"Already have an account? ",s.jsx("button",{onClick:()=>o("login"===c?"signup":"login"),className:"text-blue-400 hover:text-blue-300 font-medium transition-colors",children:"login"===c?"Sign up here":"Sign in here"})]})})]})})]}):null},Ne=e.lazy(()=>Q(()=>import("./Chatbot-CcBuy_GD.js"),__vite__mapDeps([6,1,2,0,3,4,5]),import.meta.url)),ye=({children:i})=>{const{user:l,logout:r}=X(),[n,c]=e.useState(!1),[o,d]=e.useState(!1),[m,x]=e.useState("login"),h=t(),u=e=>h.pathname===e,p=e=>{x(e),d(!0)},g=[{name:"Home",path:"/",icon:"Home"},{name:"Browse",path:"/search",icon:"Search"},{name:"Pricing",path:"/pricing",icon:"DollarSign"},{name:"Host",path:"/dashboard/host",icon:"Car"},{name:"About",path:"/about",icon:"Info"},{name:"Contact",path:"/contact",icon:"Phone"}];return s.jsxs("div",{className:"min-h-screen",children:[s.jsx(me.header,{className:"fixed top-2 sm:top-4 left-0 right-0 z-50 w-full px-2 sm:px-4",variants:ee,initial:"hidden",animate:"visible",children:s.jsxs("div",{className:"flex items-center justify-between max-w-6xl mx-auto h-14 sm:h-16 relative",children:[s.jsx(me.div,{whileHover:{scale:1.05},whileTap:{scale:.95},transition:{duration:.2},children:s.jsx(a,{to:"/",className:"flex items-center h-full z-10",children:s.jsxs("div",{className:"flex items-center glass-3 rounded-xl h-full px-2 sm:px-3 lg:px-6 shadow-glass border border-white/20 hover:shadow-glass-lg hover:border-white/30 transition-all duration-300 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 -top-2 -left-2 w-full h-full bg-gradient-to-r from-transparent via-white/10 to-transparent opacity-0 hover:opacity-100 transition-opacity duration-500 transform -skew-x-12 -translate-x-full hover:translate-x-full"}),s.jsxs("div",{className:"ml-1 sm:ml-2 lg:ml-3 relative z-10",children:[s.jsx("div",{className:"text-white font-bold text-xs sm:text-sm lg:text-lg transition-all duration-300 font-heading text-shadow-sm",children:"RideShare"}),s.jsx("div",{className:"text-white/80 text-xs font-medium font-body text-shadow-sm",children:"South Africa"})]}),s.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-transparent via-white/30 to-transparent opacity-50"})]})})}),s.jsx("nav",{className:"hidden md:flex items-center absolute left-1/2 transform -translate-x-1/2",children:s.jsxs("div",{className:"glass-4 rounded-full shadow-glass px-2 lg:px-4 py-2 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 -top-2 -left-2 w-full h-full bg-gradient-to-r from-transparent via-white/10 to-transparent opacity-0 hover:opacity-100 transition-opacity duration-500 transform -skew-x-12 -translate-x-full hover:translate-x-full"}),s.jsx("div",{className:"flex items-center justify-center h-[40px] px-2 lg:px-4 relative z-10",children:s.jsx("div",{className:"flex items-center space-x-1",children:g.map((e,t)=>"Host"!==e.name||l?s.jsx(me.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.1*t},children:s.jsxs(a,{to:e.path,className:"flex items-center space-x-1 px-3 py-1.5 rounded-lg text-sm font-medium transition-all duration-300 font-body "+(u(e.path)?"bg-primary-500/20 text-white border border-primary-500/30 shadow-glow":"text-white/80 hover:text-white hover:bg-white/10"),children:[s.jsx(Y,{name:e.icon,size:"sm"}),s.jsx("span",{children:e.name})]})},e.path):s.jsxs(me.button,{onClick:()=>p("signup"),className:"flex items-center space-x-1 px-3 py-1.5 rounded-lg text-sm font-medium transition-all duration-300 text-white/80 hover:text-white hover:bg-white/10 font-body",whileHover:{scale:1.05},whileTap:{scale:.95},initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.1*t},children:[s.jsx(Y,{name:e.icon,size:"sm"}),s.jsx("span",{children:e.name})]},e.path))})}),s.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-transparent via-white/30 to-transparent opacity-50"})]})}),s.jsx("div",{className:"hidden md:flex items-center space-x-2",children:l?s.jsxs(me.div,{className:"flex items-center space-x-2",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3},children:[s.jsx(fe,{userId:l.id,userRole:"Renter"===l.role?"renter":"Host"===l.role?"host":"admin"}),s.jsx(K,{onClick:()=>window.location.href="/dashboard",variant:u("/dashboard")||h.pathname.startsWith("/dashboard")?"primary":"secondary",size:"sm",icon:s.jsx(Y,{name:"User",size:"sm"}),className:"hidden sm:flex",children:s.jsx("span",{className:"hidden sm:block",children:"Dashboard"})}),s.jsx(K,{onClick:r,variant:"ghost",size:"sm",icon:s.jsx(Y,{name:"Logout",size:"sm"}),className:"hidden sm:flex",children:s.jsx("span",{className:"hidden sm:block",children:"Logout"})})]}):s.jsx(me.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3},children:s.jsx(K,{onClick:()=>p("signup"),variant:"primary",size:"sm",icon:s.jsx(Y,{name:"Plus",size:"sm"}),glow:!0,children:s.jsx("span",{className:"hidden sm:block",children:"Get Started"})})})}),s.jsxs("div",{className:"md:hidden flex items-center space-x-2",children:[l?s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(a,{to:"/dashboard",className:"flex items-center space-x-1 px-2 py-1.5 rounded-lg text-xs font-medium transition-all duration-300 "+(u("/dashboard")||h.pathname.startsWith("/dashboard")?"glass-button-primary text-white":"glass-button text-white/80 hover:text-white"),children:s.jsx(Y,{name:"User",size:"sm"})}),s.jsx("button",{onClick:r,className:"glass-button flex items-center space-x-1 px-2 py-1.5 text-white/80 hover:text-white transition-all duration-300",children:s.jsx(Y,{name:"Logout",size:"sm"})})]}):s.jsxs("button",{onClick:()=>p("signup"),className:"glass-button-primary flex items-center space-x-1 px-2 py-1.5 rounded-lg text-xs font-medium transition-all duration-300",children:[s.jsx(Y,{name:"Plus",size:"sm"}),s.jsx("span",{className:"hidden xs:block",children:"Start"})]}),s.jsx("button",{onClick:()=>c(!n),className:"glass-button p-1.5 text-white/80 hover:text-white transition-all duration-300",children:s.jsx(Y,{name:"Menu",size:"sm"})})]})]})}),s.jsx(xe,{children:n&&s.jsxs(s.Fragment,{children:[s.jsx(me.div,{className:"md:hidden fixed inset-0 bg-black/50 backdrop-blur-sm z-40",onClick:()=>c(!1),variants:se,initial:"hidden",animate:"visible",exit:"exit"}),s.jsxs(me.div,{className:"md:hidden fixed top-16 sm:top-18 left-2 right-2 sm:left-4 sm:right-4 z-50 glass-4 rounded-2xl shadow-glass-lg px-3 sm:px-4 py-4 max-h-[75vh] overflow-y-auto relative overflow-hidden",variants:te,initial:"closed",animate:"open",exit:"closed",children:[s.jsx("div",{className:"absolute inset-0 -top-2 -left-2 w-full h-full bg-gradient-to-r from-transparent via-white/10 to-transparent opacity-0 hover:opacity-100 transition-opacity duration-500 transform -skew-x-12 -translate-x-full hover:translate-x-full"}),s.jsxs("div",{className:"flex items-center justify-between mb-4 pb-3 border-b border-white/20 relative z-10",children:[s.jsx("h3",{className:"text-white font-semibold text-base sm:text-lg font-heading text-shadow-sm",children:"Menu"}),s.jsx(me.button,{onClick:()=>c(!1),className:"glass-2 p-1.5 sm:p-2 text-white/80 hover:text-white transition-all duration-300 rounded-lg",whileHover:{scale:1.1},whileTap:{scale:.9},children:s.jsx(Y,{name:"X",size:"sm"})})]}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-black/10 via-transparent to-black/5 rounded-inherit pointer-events-none"}),s.jsxs("div",{className:"space-y-2 relative z-10",children:[s.jsx("div",{className:"space-y-1",children:g.map(e=>"Host"!==e.name||l?s.jsxs(a,{to:e.path,onClick:()=>c(!1),className:"flex items-center space-x-3 px-3 sm:px-4 py-2.5 sm:py-3 rounded-lg text-sm font-medium transition-all duration-300 w-full "+(u(e.path)?"glass-button-primary text-white":"glass-button text-white/80 hover:text-white"),children:[s.jsx(Y,{name:e.icon,size:"sm"}),s.jsx("span",{children:e.name})]},e.path):s.jsxs("button",{onClick:()=>{p("signup"),c(!1)},className:"flex items-center space-x-3 px-3 sm:px-4 py-2.5 sm:py-3 rounded-lg text-sm font-medium transition-all duration-300 w-full glass-button text-white/80 hover:text-white",children:[s.jsx(Y,{name:e.icon,size:"sm"}),s.jsx("span",{children:e.name})]},e.path))}),s.jsx("div",{className:"pt-3 border-t border-white/20",children:l?s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"px-3 sm:px-4 py-2 text-white/70 text-xs font-medium truncate",children:["Welcome, ",l.email]}),s.jsxs("div",{className:"px-3 sm:px-4 py-1 text-white/50 text-xs",children:["Role: ",l.role]}),s.jsxs(a,{to:"/dashboard",onClick:()=>c(!1),className:"flex items-center space-x-3 px-3 sm:px-4 py-2.5 sm:py-3 rounded-lg text-sm font-medium transition-all duration-300 w-full "+(u("/dashboard")||h.pathname.startsWith("/dashboard")?"glass-button-primary text-white":"glass-button text-white/80 hover:text-white"),children:[s.jsx(Y,{name:"User",size:"sm"}),s.jsx("span",{children:"Dashboard"})]}),s.jsxs("button",{onClick:()=>{r(),c(!1)},className:"glass-button flex items-center space-x-3 w-full px-3 sm:px-4 py-2.5 sm:py-3 text-white/80 hover:text-white transition-all duration-300",children:[s.jsx(Y,{name:"Logout",size:"sm"}),s.jsx("span",{children:"Logout"})]})]}):s.jsxs("div",{className:"space-y-1",children:[s.jsxs("button",{onClick:()=>{p("login"),c(!1)},className:"glass-button flex items-center space-x-3 px-3 sm:px-4 py-2.5 sm:py-3 rounded-lg text-sm font-medium transition-all duration-300 w-full text-white/80 hover:text-white",children:[s.jsx(Y,{name:"Login",size:"sm"}),s.jsx("span",{children:"Login"})]}),s.jsxs("button",{onClick:()=>{p("signup"),c(!1)},className:"glass-button-primary flex items-center space-x-3 px-3 sm:px-4 py-2.5 sm:py-3 w-full",children:[s.jsx(Y,{name:"Plus",size:"sm"}),s.jsx("span",{children:"Sign Up"})]})]})})]}),s.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-transparent via-white/30 to-transparent opacity-50"})]})]})}),s.jsx("main",{className:"pt-16 sm:pt-20",children:i}),s.jsx("footer",{className:"bg-black/50 backdrop-blur-sm border-t border-white/10 py-4",children:s.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-center space-y-4 lg:space-y-0",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"logo-footer bg-white/20 backdrop-blur-md rounded-lg p-3 shadow-lg border border-white/40",children:[s.jsx("div",{className:"text-white font-bold text-lg",children:"RideShare"}),s.jsx("div",{className:"text-white/80 text-xs",children:"South Africa"})]}),s.jsx("p",{className:"text-gray-400 text-xs",children:"© 2025 RideShare SA. Cape Town, South Africa"})]}),s.jsxs("div",{className:"flex items-center flex-wrap gap-2 sm:gap-4 lg:gap-6 justify-center",children:[s.jsx(a,{to:"/",className:"text-gray-400 hover:text-white transition-colors text-xs",children:"Home"}),s.jsx(a,{to:"/search",className:"text-gray-400 hover:text-white transition-colors text-xs",children:"Browse"}),s.jsx(a,{to:"/about",className:"text-gray-400 hover:text-white transition-colors text-xs",children:"About"}),s.jsx(a,{to:"/contact",className:"text-gray-400 hover:text-white transition-colors text-xs",children:"Contact"}),s.jsx(a,{to:"/faq",className:"text-gray-400 hover:text-white transition-colors text-xs",children:"FAQ"})]}),s.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4 flex-wrap gap-2 justify-center lg:justify-end",children:[s.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors","aria-label":"Facebook",children:s.jsx("svg",{className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})})}),s.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors","aria-label":"Twitter",children:s.jsx("svg",{className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"})})}),s.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors","aria-label":"LinkedIn",children:s.jsx("svg",{className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})})})]})]})})}),s.jsx(e.Suspense,{fallback:null,children:s.jsx(Ne,{})}),s.jsx(ve,{isOpen:o,onClose:()=>{d(!1)},initialMode:m})]})},ke=({children:e,requiredRole:a})=>{const{user:l,loading:r}=X(),n=t();return r?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):l?a&&l.role?.toLowerCase()!==a.toLowerCase()?s.jsx(i,{to:"/unauthorized",replace:!0}):s.jsx(s.Fragment,{children:e}):s.jsx(i,{to:"/",state:{from:n},replace:!0})},Ce=({children:t})=>{const{user:a}=X(),i=l(),[n,c]=e.useState(null),[o,d]=e.useState(!0);return e.useEffect(()=>{(async()=>{try{if(d(!0),!a)return void i("/login");if("admin"!==a.role?.toLowerCase())return r.error("Admin privileges required"),void i("/login");c(!0)}catch(e){r.error("Failed to verify admin access"),i("/login")}finally{d(!1)}})()},[a,i]),o?s.jsx(oe,{}):n?s.jsx(s.Fragment,{children:t}):s.jsxs("div",{className:"page-background",children:[s.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-red-900/20 via-purple-900/20 to-indigo-900/20 backdrop-blur-sm"}),s.jsx("div",{className:"flex items-center justify-center min-h-screen p-4",children:s.jsxs(Z,{level:3,className:"text-center p-8 max-w-md",children:[s.jsx(Y,{name:"Shield",size:"lg",className:"text-red-400 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Access Denied"}),s.jsx("p",{className:"text-white/70 mb-4",children:"Admin privileges required"}),s.jsx("button",{onClick:()=>i("/login"),className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:"Login"})]})})]})};function Se(...e){return he(ue(e))}const Re={sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12"},Pe=({size:e="md",variant:t="spinner",className:a,text:i})=>s.jsxs("div",{className:"flex flex-col items-center justify-center space-y-2",children:[(()=>{switch(t){case"dots":return s.jsx("div",{className:Se("flex space-x-1",a),children:[0,1,2].map(t=>s.jsx("div",{className:Se("rounded-full bg-current animate-pulse","sm"===e?"h-2 w-2":"md"===e?"h-3 w-3":"h-4 w-4"),style:{animationDelay:.2*t+"s",animationDuration:"1s"}},t))});case"pulse":return s.jsx("div",{className:Se("rounded-full bg-current animate-pulse",Re[e],a)});case"skeleton":return s.jsxs("div",{className:Se("animate-pulse",a),children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]});default:return s.jsxs("svg",{className:Se("animate-spin",Re[e],a),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}})(),i&&s.jsx("p",{className:"text-sm text-gray-500 animate-pulse",children:i})]}),_e=({text:e="Loading..."})=>s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-white/80 backdrop-blur-sm",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Pe,{size:"lg"}),s.jsx("p",{className:"mt-4 text-lg text-gray-600",children:e})]})});class Le extends e.Component{state={hasError:!1};static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,s){}render(){return this.state.hasError?this.props.fallback?this.props.fallback:s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-900",children:s.jsx("div",{className:"max-w-md w-full mx-auto p-6",children:s.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-8 text-center border border-white/20",children:[s.jsx("div",{className:"w-16 h-16 mx-auto mb-6 bg-red-500/20 rounded-full flex items-center justify-center",children:s.jsx(Y,{name:"AlertTriangle",size:"lg",className:"text-red-400"})}),s.jsx("h1",{className:"text-2xl font-bold text-white mb-4",children:"Oops! Something went wrong"}),s.jsx("p",{className:"text-white/70 mb-6",children:"We're sorry, but something unexpected happened. Please try refreshing the page."}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded-lg transition-colors",children:"Refresh Page"}),s.jsx("button",{onClick:()=>window.history.back(),className:"w-full bg-white/10 hover:bg-white/20 text-white font-semibold py-3 px-6 rounded-lg transition-colors",children:"Go Back"})]}),!1]})})}):this.props.children}}const Ae=[{id:"car",label:"Car",icon:"Car",color:"blue",description:"Sedan, Hatchback, Coupe"},{id:"suv",label:"SUV",icon:"Car",color:"green",description:"Sports Utility Vehicle"},{id:"truck",label:"Truck",icon:"Car",color:"orange",description:"Pickup, Commercial"},{id:"van",label:"Van",icon:"Car",color:"purple",description:"Minivan, Cargo Van"},{id:"motorcycle",label:"Motorcycle",icon:"Car",color:"red",description:"Bike, Scooter"},{id:"luxury",label:"Luxury",icon:"Star",color:"yellow",description:"Premium Vehicles"},{id:"electric",label:"Electric",icon:"Zap",color:"emerald",description:"EV, Hybrid"}],De=[{category:"Comfort",items:["Air Conditioning","Heated Seats","Leather Seats","Sunroof","Power Windows","Central Locking"]},{category:"Technology",items:["Bluetooth","USB Port","GPS Navigation","Backup Camera","Touchscreen","Wireless Charging"]},{category:"Safety",items:["ABS","Airbags","Stability Control","Blind Spot Monitor","Lane Departure Warning","Parking Sensors"]},{category:"Entertainment",items:["AM/FM Radio","CD Player","Premium Sound","Apple CarPlay","Android Auto","Satellite Radio"]}],Ve=({isOpen:t,onClose:a,onSuccess:i,initialData:l})=>{const[_,L]=e.useState(1),[A,D]=e.useState(!1),[V,E]=e.useState({make:"",model:"",year:(new Date).getFullYear(),type:"car",color:"",mileage:0,transmission:"automatic",fuelType:"petrol",seats:5,doors:4,engineSize:"",vin:"",pricePerDay:0,pricePerWeek:0,pricePerMonth:0,minimumRentalDays:1,maximumRentalDays:30,location:{address:"",city:"",state:"",country:"South Africa",postalCode:"",coordinates:{latitude:0,longitude:0}},features:[],amenities:[],safetyFeatures:[],entertainmentFeatures:[],coverImage:null,images:[],documents:{license:[],registration:[],insurance:[]},description:"",status:"draft",...l}),T=e.useRef({}),z=[{id:1,title:"Vehicle Info",icon:"Car",description:"Basic vehicle details"},{id:2,title:"Pricing",icon:"DollarSign",description:"Set your rates"},{id:3,title:"Location",icon:"MapPin",description:"Where is your vehicle"},{id:4,title:"Features",icon:"Star",description:"What makes it special"},{id:5,title:"Photos",icon:"Camera",description:"Show off your vehicle"},{id:6,title:"Documents",icon:"FileText",description:"Required paperwork"},{id:7,title:"Review",icon:"CheckCircle",description:"Final review"}];return t?s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:s.jsxs(me.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"w-full max-w-5xl max-h-[95vh] bg-white/10 backdrop-blur-xl rounded-3xl border border-white/20 overflow-hidden shadow-2xl flex flex-col",children:[s.jsxs("div",{className:"bg-gradient-to-r from-blue-600/30 to-purple-600/30 border-b border-white/20 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-white",children:"Add New Vehicle"}),s.jsxs("p",{className:"text-white/70",children:["Step ",_," of ",z.length,": ",z[_-1]?.title]})]}),s.jsx("button",{onClick:a,className:"w-12 h-12 bg-white/10 hover:bg-white/20 rounded-2xl flex items-center justify-center transition-all hover:scale-105",children:s.jsx(n,{className:"w-6 h-6 text-white"})})]}),s.jsx("div",{className:"mt-6",children:s.jsx("div",{className:"flex items-center space-x-3",children:z.map((e,t)=>s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center text-sm font-medium transition-all "+(t+1<=_?"bg-blue-500 text-white shadow-lg":"bg-white/20 text-white/60"),children:t+1<_?s.jsx(c,{className:"w-5 h-5"}):t+1}),t<z.length-1&&s.jsx("div",{className:"w-12 h-1 rounded-full transition-all "+(t+1<_?"bg-blue-500":"bg-white/20")})]},e.id))})})]}),s.jsx("div",{className:"p-8 overflow-y-auto flex-1",children:s.jsx(xe,{mode:"wait",children:(()=>{switch(_){case 1:return s.jsxs(me.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg",children:s.jsx(m,{className:"w-10 h-10 text-white"})}),s.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Vehicle Information"}),s.jsx("p",{className:"text-white/70",children:"Tell us about your vehicle"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-xl font-semibold text-white",children:"Vehicle Type"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Ae.map(e=>s.jsxs("button",{onClick:()=>E(s=>({...s,type:e.id})),className:"group p-6 rounded-2xl border-2 transition-all duration-300 "+(V.type===e.id?`border-${e.color}-500 bg-${e.color}-500/20 shadow-lg scale-105`:"border-white/20 bg-white/5 hover:border-white/40 hover:bg-white/10 hover:scale-105"),children:[s.jsx("div",{className:`w-12 h-12 rounded-xl bg-gradient-to-br from-${e.color}-500 to-${e.color}-600 flex items-center justify-center mx-auto mb-3 group-hover:scale-110 transition-transform`,children:s.jsx(Y,{name:e.icon,className:"w-6 h-6 text-white"})}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"font-semibold text-white mb-1",children:e.label}),s.jsx("div",{className:"text-xs text-white/60",children:e.description})]})]},e.id))})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx(ae,{label:"Make",value:V.make,onChange:e=>E(s=>({...s,make:e})),placeholder:"e.g., Toyota",required:!0}),s.jsx(ae,{label:"Model",value:V.model,onChange:e=>E(s=>({...s,model:e})),placeholder:"e.g., Corolla",required:!0}),s.jsx(ae,{label:"Year",type:"number",value:V.year.toString(),onChange:e=>E(s=>({...s,year:parseInt(e)||(new Date).getFullYear()})),min:"1990",max:(new Date).getFullYear().toString(),required:!0}),s.jsx(ae,{label:"Color",value:V.color,onChange:e=>E(s=>({...s,color:e})),placeholder:"e.g., White",required:!0}),s.jsx(ae,{label:"Mileage (km)",type:"number",value:V.mileage.toString(),onChange:e=>E(s=>({...s,mileage:parseInt(e)||0})),placeholder:"0"}),s.jsx(ae,{label:"Engine Size",value:V.engineSize,onChange:e=>E(s=>({...s,engineSize:e})),placeholder:"e.g., 1.8L"}),s.jsx(ae,{label:"VIN",value:V.vin,onChange:e=>E(s=>({...s,vin:e})),placeholder:"17-character VIN"}),s.jsx(ae,{label:"Seats",type:"number",value:V.seats.toString(),onChange:e=>E(s=>({...s,seats:parseInt(e)||5})),min:"1",max:"9"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx("label",{className:"text-white font-medium",children:"Transmission"}),s.jsx("div",{className:"grid grid-cols-2 gap-3",children:["manual","automatic","cvt","semi-automatic"].map(e=>s.jsx("button",{onClick:()=>E(s=>({...s,transmission:e})),className:"p-4 rounded-xl border-2 transition-all "+(V.transmission===e?"border-blue-500 bg-blue-500/20 text-blue-300":"border-white/20 bg-white/5 text-white/70 hover:border-white/40 hover:bg-white/10"),children:s.jsxs("div",{className:"text-center",children:[s.jsx(R,{className:"w-6 h-6 mx-auto mb-2"}),s.jsx("div",{className:"text-sm font-medium capitalize",children:e})]})},e))})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("label",{className:"text-white font-medium",children:"Fuel Type"}),s.jsx("div",{className:"grid grid-cols-2 gap-3",children:["petrol","diesel","electric","hybrid","lpg"].map(e=>s.jsx("button",{onClick:()=>E(s=>({...s,fuelType:e})),className:"p-4 rounded-xl border-2 transition-all "+(V.fuelType===e?"border-green-500 bg-green-500/20 text-green-300":"border-white/20 bg-white/5 text-white/70 hover:border-white/40 hover:bg-white/10"),children:s.jsxs("div",{className:"text-center",children:[s.jsx(P,{className:"w-6 h-6 mx-auto mb-2"}),s.jsx("div",{className:"text-sm font-medium capitalize",children:e})]})},e))})]})]})]});case 2:return s.jsxs(me.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-green-500 to-emerald-600 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg",children:s.jsx(x,{className:"w-10 h-10 text-white"})}),s.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Pricing & Availability"}),s.jsx("p",{className:"text-white/70",children:"Set competitive rates for your vehicle"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsx(Z,{className:"p-6 border-2 border-blue-500/30 bg-blue-500/10",children:s.jsxs("div",{className:"text-center",children:[s.jsx(k,{className:"w-8 h-8 text-blue-400 mx-auto mb-3"}),s.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Daily Rate"}),s.jsx(ae,{label:"Price per Day (R)",type:"number",value:V.pricePerDay.toString(),onChange:e=>E(s=>({...s,pricePerDay:parseInt(e)||0})),placeholder:"250",required:!0}),s.jsx("p",{className:"text-blue-300 text-sm mt-2",children:"Most popular option"})]})}),s.jsx(Z,{className:"p-6 border-2 border-purple-500/30 bg-purple-500/10",children:s.jsxs("div",{className:"text-center",children:[s.jsx(C,{className:"w-8 h-8 text-purple-400 mx-auto mb-3"}),s.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Weekly Rate"}),s.jsx(ae,{label:"Price per Week (R)",type:"number",value:V.pricePerWeek?.toString()||"",onChange:e=>E(s=>({...s,pricePerWeek:parseInt(e)||0})),placeholder:"1500"}),s.jsx("p",{className:"text-purple-300 text-sm mt-2",children:"Save 15% vs daily"})]})}),s.jsx(Z,{className:"p-6 border-2 border-emerald-500/30 bg-emerald-500/10",children:s.jsxs("div",{className:"text-center",children:[s.jsx(u,{className:"w-8 h-8 text-emerald-400 mx-auto mb-3"}),s.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Monthly Rate"}),s.jsx(ae,{label:"Price per Month (R)",type:"number",value:V.pricePerMonth?.toString()||"",onChange:e=>E(s=>({...s,pricePerMonth:parseInt(e)||0})),placeholder:"5000"}),s.jsx("p",{className:"text-emerald-300 text-sm mt-2",children:"Save 25% vs daily"})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx(ae,{label:"Minimum Rental Days",type:"number",value:V.minimumRentalDays.toString(),onChange:e=>E(s=>({...s,minimumRentalDays:parseInt(e)||1})),min:"1",placeholder:"1"}),s.jsx(ae,{label:"Maximum Rental Days",type:"number",value:V.maximumRentalDays?.toString()||"",onChange:e=>E(s=>({...s,maximumRentalDays:parseInt(e)||30})),min:"1",placeholder:"30"})]}),s.jsx(Z,{className:"p-6 bg-gradient-to-r from-blue-500/20 to-purple-500/20 border-blue-500/30",children:s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-500/20 rounded-xl flex items-center justify-center",children:s.jsx(S,{className:"w-6 h-6 text-blue-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Pricing Tips"}),s.jsxs("ul",{className:"space-y-2 text-white/80 text-sm",children:[s.jsx("li",{children:"• Research similar vehicles in your area for competitive pricing"}),s.jsx("li",{children:"• Consider offering weekly and monthly discounts to attract longer rentals"}),s.jsx("li",{children:"• Factor in maintenance, insurance, and depreciation costs"}),s.jsx("li",{children:"• Start with competitive rates to build reviews and ratings"})]})]})]})})]});case 3:return s.jsxs(me.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-orange-500 to-red-600 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg",children:s.jsx(h,{className:"w-10 h-10 text-white"})}),s.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Location Details"}),s.jsx("p",{className:"text-white/70",children:"Where is your vehicle located?"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx(ae,{label:"Street Address",value:V.location.address,onChange:e=>E(s=>({...s,location:{...s.location,address:e}})),placeholder:"123 Main Street",required:!0}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx(ae,{label:"City",value:V.location.city,onChange:e=>E(s=>({...s,location:{...s.location,city:e}})),placeholder:"Cape Town",required:!0}),s.jsx(ae,{label:"State/Province",value:V.location.state,onChange:e=>E(s=>({...s,location:{...s.location,state:e}})),placeholder:"Western Cape",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx(ae,{label:"Postal Code",value:V.location.postalCode,onChange:e=>E(s=>({...s,location:{...s.location,postalCode:e}})),placeholder:"8001",required:!0}),s.jsx(ae,{label:"Country",value:V.location.country,onChange:e=>E(s=>({...s,location:{...s.location,country:e}})),placeholder:"South Africa",required:!0})]})]}),s.jsx(Z,{className:"p-6 bg-gradient-to-r from-orange-500/20 to-red-500/20 border-orange-500/30",children:s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"w-12 h-12 bg-orange-500/20 rounded-xl flex items-center justify-center",children:s.jsx(y,{className:"w-6 h-6 text-orange-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Location Tips"}),s.jsxs("ul",{className:"space-y-2 text-white/80 text-sm",children:[s.jsx("li",{children:"• Be specific about pickup and drop-off locations"}),s.jsx("li",{children:"• Mention nearby landmarks for easy finding"}),s.jsx("li",{children:"• Ensure the location is safe and accessible 24/7"}),s.jsx("li",{children:"• Consider parking availability and restrictions"})]})]})]})})]});case 4:return s.jsxs(me.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-purple-500 to-pink-600 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg",children:s.jsx(u,{className:"w-10 h-10 text-white"})}),s.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Features & Amenities"}),s.jsx("p",{className:"text-white/70",children:"What makes your vehicle special?"})]}),s.jsx("div",{className:"space-y-8",children:De.map((e,t)=>s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`w-10 h-10 rounded-xl bg-gradient-to-br ${0===t?"from-blue-500 to-blue-600":1===t?"from-purple-500 to-purple-600":2===t?"from-red-500 to-red-600":"from-green-500 to-green-600"} flex items-center justify-center`,children:s.jsx(Y,{name:0===t?"Zap":1===t?"Settings":2===t?"Shield":"Heart",className:"w-5 h-5 text-white"})}),s.jsx("h3",{className:"text-xl font-semibold text-white",children:e.category})]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:e.items.map(e=>s.jsx("button",{onClick:()=>{((e,s)=>{E(t=>({...t,[e]:t[e].includes(s)?t[e].filter(e=>e!==s):[...t[e],s]}))})(0===t?"features":1===t?"amenities":2===t?"safetyFeatures":"entertainmentFeatures",e)},className:"p-4 rounded-xl border-2 transition-all text-left "+((0===t?V.features.includes(e):1===t?V.amenities.includes(e):2===t?V.safetyFeatures.includes(e):V.entertainmentFeatures.includes(e))?`border-${0===t?"blue":1===t?"purple":2===t?"red":"green"}-500 bg-${0===t?"blue":1===t?"purple":2===t?"red":"green"}-500/20 text-${0===t?"blue":1===t?"purple":2===t?"red":"green"}-300`:"border-white/20 bg-white/5 text-white/70 hover:border-white/40 hover:bg-white/10"),children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-6 h-6 rounded-lg border-2 flex items-center justify-center "+((0===t?V.features.includes(e):1===t?V.amenities.includes(e):2===t?V.safetyFeatures.includes(e):V.entertainmentFeatures.includes(e))?`border-${0===t?"blue":1===t?"purple":2===t?"red":"green"}-500 bg-${0===t?"blue":1===t?"purple":2===t?"red":"green"}-500`:"border-white/30"),children:(0===t?V.features.includes(e):1===t?V.amenities.includes(e):2===t?V.safetyFeatures.includes(e):V.entertainmentFeatures.includes(e))&&s.jsx(c,{className:"w-4 h-4 text-white"})}),s.jsx("span",{className:"text-sm font-medium",children:e})]})},e))})]},e.category))})]});case 5:return s.jsxs(me.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-pink-500 to-rose-600 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg",children:s.jsx(p,{className:"w-10 h-10 text-white"})}),s.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Vehicle Photos"}),s.jsx("p",{className:"text-white/70",children:"Show off your vehicle with great photos"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-xl font-semibold text-white",children:"Cover Photo"}),s.jsxs("div",{className:"relative",children:[V.coverImage?s.jsxs("div",{className:"relative group",children:[s.jsx("img",{src:URL.createObjectURL(V.coverImage),alt:"Cover photo",className:"w-full h-64 object-cover rounded-2xl"}),s.jsx("button",{onClick:()=>E(e=>({...e,coverImage:null})),className:"absolute top-4 right-4 w-8 h-8 bg-red-500 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(n,{className:"w-4 h-4 text-white"})})]}):s.jsx("div",{className:"w-full h-64 border-2 border-dashed border-white/30 rounded-2xl flex items-center justify-center hover:border-white/50 transition-colors cursor-pointer",onClick:()=>T.current.coverImage?.click(),children:s.jsxs("div",{className:"text-center",children:[s.jsx(w,{className:"w-12 h-12 text-white/60 mx-auto mb-3"}),s.jsx("p",{className:"text-white/60",children:"Click to upload cover photo"}),s.jsx("p",{className:"text-white/40 text-sm",children:"Recommended: 16:9 aspect ratio"})]})}),s.jsx("input",{ref:e=>T.current.coverImage=e,type:"file",accept:"image/*",onChange:e=>e.target.files?.[0]&&E(s=>({...s,coverImage:e.target.files[0]})),className:"hidden"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-xl font-semibold text-white",children:"Additional Photos"}),s.jsxs("span",{className:"text-white/60 text-sm",children:[V.images.length," / 10 photos"]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[V.images.map((e,t)=>s.jsxs("div",{className:"relative group",children:[s.jsx("img",{src:URL.createObjectURL(e),alt:`Photo ${t+1}`,className:"w-full h-24 object-cover rounded-xl"}),s.jsx("button",{onClick:()=>((e,s)=>{E(t=>{const a=t[e].filter((e,t)=>t!==s);return{...t,[e]:a}})})("images",t),className:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(n,{className:"w-4 h-4 text-white"})})]},t)),V.images.length<10&&s.jsx("button",{onClick:()=>T.current.images?.click(),className:"w-full h-24 border-2 border-dashed border-white/30 rounded-xl flex items-center justify-center text-white/60 hover:border-white/50 hover:text-white/80 transition-colors",children:s.jsx(v,{className:"w-6 h-6"})})]}),s.jsx("input",{ref:e=>T.current.images=e,type:"file",multiple:!0,accept:"image/*",onChange:e=>e.target.files&&((e,s)=>{const t=Array.from(e);E(e=>({...e,[s]:t}))})(e.target.files,"images"),className:"hidden"})]}),s.jsx(Z,{className:"p-6 bg-gradient-to-r from-pink-500/20 to-rose-500/20 border-pink-500/30",children:s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"w-12 h-12 bg-pink-500/20 rounded-xl flex items-center justify-center",children:s.jsx(N,{className:"w-6 h-6 text-pink-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Photo Tips"}),s.jsxs("ul",{className:"space-y-2 text-white/80 text-sm",children:[s.jsx("li",{children:"• Use good lighting (natural light is best)"}),s.jsx("li",{children:"• Take photos from multiple angles"}),s.jsx("li",{children:"• Show both interior and exterior details"}),s.jsx("li",{children:"• Include close-ups of important features"}),s.jsx("li",{children:"• Keep photos clear and well-framed"})]})]})]})})]});case 6:return s.jsxs(me.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-indigo-500 to-blue-600 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg",children:s.jsx(j,{className:"w-10 h-10 text-white"})}),s.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Required Documents"}),s.jsx("p",{className:"text-white/70",children:"Upload necessary paperwork"})]}),s.jsx("div",{className:"space-y-6",children:[{key:"license",label:"Driver's License",description:"Valid driver's license",icon:"Shield"},{key:"registration",label:"Vehicle Registration",description:"Current registration certificate",icon:"FileText"},{key:"insurance",label:"Insurance Certificate",description:"Valid insurance documentation",icon:"Shield"}].map(e=>s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-indigo-500/20 rounded-xl flex items-center justify-center",children:s.jsx(Y,{name:e.icon,className:"w-5 h-5 text-indigo-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:e.label}),s.jsx("p",{className:"text-white/60 text-sm",children:e.description})]}),s.jsxs("span",{className:"text-white/60 text-sm ml-auto",children:[V.documents[e.key].length," files"]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[V.documents[e.key].map((t,a)=>s.jsxs("div",{className:"relative group",children:[s.jsx("div",{className:"w-full h-24 bg-white/10 border border-white/20 rounded-xl flex items-center justify-center",children:s.jsx(j,{className:"w-8 h-8 text-white/60"})}),s.jsx("button",{onClick:()=>((e,s)=>{E(t=>({...t,documents:{...t.documents,[e]:t.documents[e].filter((e,t)=>t!==s)}}))})(e.key,a),className:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(n,{className:"w-4 h-4 text-white"})}),s.jsx("p",{className:"text-xs text-white/60 mt-2 truncate",children:t.name})]},a)),s.jsx("button",{onClick:()=>T.current[e.key]?.click(),className:"w-full h-24 border-2 border-dashed border-white/30 rounded-xl flex items-center justify-center text-white/60 hover:border-white/50 hover:text-white/80 transition-colors",children:s.jsx(w,{className:"w-6 h-6"})})]}),s.jsx("input",{ref:s=>T.current[e.key]=s,type:"file",multiple:!0,accept:"image/*,.pdf",onChange:s=>s.target.files&&((e,s)=>{const t=Array.from(e);E(e=>({...e,documents:{...e.documents,[s]:t}}))})(s.target.files,e.key),className:"hidden"})]},e.key))}),s.jsx(Z,{className:"p-6 bg-gradient-to-r from-indigo-500/20 to-blue-500/20 border-indigo-500/30",children:s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"w-12 h-12 bg-indigo-500/20 rounded-xl flex items-center justify-center",children:s.jsx(f,{className:"w-6 h-6 text-indigo-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Document Requirements"}),s.jsxs("ul",{className:"space-y-2 text-white/80 text-sm",children:[s.jsx("li",{children:"• All documents must be current and valid"}),s.jsx("li",{children:"• Photos should be clear and readable"}),s.jsx("li",{children:"• PDF files are preferred for documents"}),s.jsx("li",{children:"• Ensure all personal information is visible"})]})]})]})})]});case 7:return s.jsxs(me.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-emerald-500 to-green-600 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg",children:s.jsx(c,{className:"w-10 h-10 text-white"})}),s.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Review & Submit"}),s.jsx("p",{className:"text-white/70",children:"Review your listing before submitting"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(Z,{className:"p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:[s.jsx(m,{className:"w-5 h-5 mr-2"}),"Vehicle Information"]}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-white/60",children:"Make & Model:"}),s.jsxs("span",{className:"text-white",children:[V.make," ",V.model]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-white/60",children:"Year:"}),s.jsx("span",{className:"text-white",children:V.year})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-white/60",children:"Type:"}),s.jsx("span",{className:"text-white capitalize",children:V.type})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-white/60",children:"Color:"}),s.jsx("span",{className:"text-white",children:V.color})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-white/60",children:"Mileage:"}),s.jsxs("span",{className:"text-white",children:[V.mileage.toLocaleString()," km"]})]})]})]}),s.jsxs(Z,{className:"p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:[s.jsx(x,{className:"w-5 h-5 mr-2"}),"Pricing"]}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-white/60",children:"Per Day:"}),s.jsxs("span",{className:"text-white font-semibold",children:["R",V.pricePerDay]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-white/60",children:"Per Week:"}),s.jsxs("span",{className:"text-white",children:["R",V.pricePerWeek||"N/A"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-white/60",children:"Per Month:"}),s.jsxs("span",{className:"text-white",children:["R",V.pricePerMonth||"N/A"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-white/60",children:"Min Rental:"}),s.jsxs("span",{className:"text-white",children:[V.minimumRentalDays," days"]})]})]})]}),s.jsxs(Z,{className:"p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:[s.jsx(h,{className:"w-5 h-5 mr-2"}),"Location"]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsx("div",{className:"text-white",children:V.location.address}),s.jsxs("div",{className:"text-white/60",children:[V.location.city,", ",V.location.state]}),s.jsxs("div",{className:"text-white/60",children:[V.location.postalCode,", ",V.location.country]})]})]}),s.jsxs(Z,{className:"p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:[s.jsx(u,{className:"w-5 h-5 mr-2"}),"Features"]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-white/60 text-sm",children:"Comfort Features:"}),s.jsxs("div",{className:"flex flex-wrap gap-1 mt-1",children:[V.features.slice(0,3).map(e=>s.jsx("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-300 rounded text-xs",children:e},e)),V.features.length>3&&s.jsxs("span",{className:"px-2 py-1 bg-white/10 text-white/60 rounded text-xs",children:["+",V.features.length-3," more"]})]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-white/60 text-sm",children:"Safety Features:"}),s.jsxs("div",{className:"flex flex-wrap gap-1 mt-1",children:[V.safetyFeatures.slice(0,3).map(e=>s.jsx("span",{className:"px-2 py-1 bg-red-500/20 text-red-300 rounded text-xs",children:e},e)),V.safetyFeatures.length>3&&s.jsxs("span",{className:"px-2 py-1 bg-white/10 text-white/60 rounded text-xs",children:["+",V.safetyFeatures.length-3," more"]})]})]})]})]})]}),s.jsxs(Z,{className:"p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:[s.jsx(p,{className:"w-5 h-5 mr-2"}),"Media & Documents"]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-green-500/20 rounded-xl flex items-center justify-center mx-auto mb-2",children:s.jsx(g,{className:"w-6 h-6 text-green-400"})}),s.jsx("div",{className:"text-white font-medium",children:V.coverImage?"✓":"✗"}),s.jsx("div",{className:"text-white/60",children:"Cover Photo"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-500/20 rounded-xl flex items-center justify-center mx-auto mb-2",children:s.jsx(p,{className:"w-6 h-6 text-blue-400"})}),s.jsx("div",{className:"text-white font-medium",children:V.images.length}),s.jsx("div",{className:"text-white/60",children:"Photos"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-purple-500/20 rounded-xl flex items-center justify-center mx-auto mb-2",children:s.jsx(j,{className:"w-6 h-6 text-purple-400"})}),s.jsx("div",{className:"text-white font-medium",children:V.documents.license.length+V.documents.registration.length+V.documents.insurance.length}),s.jsx("div",{className:"text-white/60",children:"Documents"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-emerald-500/20 rounded-xl flex items-center justify-center mx-auto mb-2",children:s.jsx(c,{className:"w-6 h-6 text-emerald-400"})}),s.jsx("div",{className:"text-white font-medium",children:"Ready"}),s.jsx("div",{className:"text-white/60",children:"Status"})]})]})]}),s.jsx(Z,{className:"p-6 bg-gradient-to-r from-emerald-500/20 to-green-500/20 border-emerald-500/30",children:s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"w-12 h-12 bg-emerald-500/20 rounded-xl flex items-center justify-center",children:s.jsx(b,{className:"w-6 h-6 text-emerald-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"What Happens Next?"}),s.jsxs("ul",{className:"space-y-2 text-white/80 text-sm",children:[s.jsx("li",{children:"• Your listing will be reviewed by our admin team"}),s.jsx("li",{children:"• You'll receive an email notification once approved"}),s.jsx("li",{children:"• Approved listings become visible to renters"}),s.jsx("li",{children:"• You can manage your listing from your dashboard"})]})]})]})})]});default:return null}})()})}),s.jsx("div",{className:"bg-white/5 border-t border-white/20 p-6 flex-shrink-0",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("button",{onClick:()=>{_>1&&L(_-1)},disabled:1===_,className:"px-8 py-4 rounded-2xl font-medium transition-all flex items-center "+(1===_?"bg-white/10 text-white/50 cursor-not-allowed":"bg-white/20 text-white hover:bg-white/30 hover:scale-105"),children:[s.jsx(o,{className:"w-5 h-5 mr-2"}),"Previous"]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("button",{onClick:a,className:"px-8 py-4 bg-white/10 text-white rounded-2xl font-medium hover:bg-white/20 transition-all hover:scale-105",children:"Cancel"}),_<z.length?s.jsxs("button",{onClick:()=>{_<z.length&&L(_+1)},className:"px-8 py-4 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-2xl font-medium hover:from-blue-600 hover:to-purple-700 transition-all hover:scale-105 shadow-lg flex items-center",children:["Next",s.jsx(d,{className:"w-5 h-5 ml-2"})]}):s.jsx("button",{onClick:async()=>{D(!0);try{const e=new FormData;e.append("title",`${V.year} ${V.make} ${V.model}`),e.append("description",V.description||`${V.year} ${V.make} ${V.model} - ${V.type}`),e.append("make",V.make),e.append("model",V.model),e.append("year",V.year.toString()),e.append("vehicle_type",V.type),e.append("category",V.type),e.append("price_per_day",V.pricePerDay.toString()),V.pricePerWeek&&e.append("price_per_week",V.pricePerWeek.toString()),V.pricePerMonth&&e.append("price_per_month",V.pricePerMonth.toString()),e.append("location",JSON.stringify(V.location)),e.append("fuel_type",V.fuelType),e.append("transmission",V.transmission),e.append("seats",V.seats.toString()),e.append("mileage",V.mileage.toString()),e.append("minimum_rental_days",V.minimumRentalDays.toString()),e.append("features",JSON.stringify([...V.features,...V.amenities,...V.safetyFeatures,...V.entertainmentFeatures])),V.coverImage&&e.append("images",V.coverImage),V.images.forEach(s=>{e.append("images",s)});const s=localStorage.getItem("accessToken")||localStorage.getItem("token"),t=await fetch("/api/vehicles",{method:"POST",headers:{Authorization:`Bearer ${s}`},body:e});if(!t.ok){const e=await t.json();throw new Error(e.error||"Failed to create vehicle listing")}const l=await t.json();i(l.vehicle||V),r.success("Vehicle listing created successfully! It will be reviewed by admin before going live."),a()}catch(e){r.error(e instanceof Error?e.message:"Failed to create listing. Please try again.")}finally{D(!1)}},disabled:A,className:"px-8 py-4 rounded-2xl font-medium transition-all shadow-lg "+(A?"bg-white/20 text-white/50 cursor-not-allowed":"bg-gradient-to-r from-green-500 to-emerald-600 text-white hover:from-green-600 hover:to-emerald-700 hover:scale-105"),children:A?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin inline mr-2"}),"Submitting..."]}):s.jsxs(s.Fragment,{children:["Submit for Approval",s.jsx(c,{className:"w-5 h-5 inline ml-2"})]})})]})]})})]})}):null},Ee=({className:t=""})=>{const[a,i]=e.useState(!1),[l,n]=e.useState([{id:"1",make:"Toyota",model:"Corolla",year:2022,type:"car",color:"White",pricePerDay:250,location:{city:"Cape Town",state:"Western Cape"},status:"approved",images:["/api/placeholder/300/200"],features:["Air Conditioning","Bluetooth","GPS"],createdAt:"2024-01-15",views:156,bookings:12,rating:4.8,earnings:3600,lastUpdated:"2024-01-20"},{id:"2",make:"BMW",model:"X3",year:2021,type:"suv",color:"Black",pricePerDay:450,location:{city:"Johannesburg",state:"Gauteng"},status:"pending",images:["/api/placeholder/300/200"],features:["Leather Seats","Sunroof","Premium Sound"],createdAt:"2024-01-20",views:89,bookings:0,rating:0,earnings:0,lastUpdated:"2024-01-20"},{id:"3",make:"Mercedes",model:"C-Class",year:2023,type:"luxury",color:"Silver",pricePerDay:650,location:{city:"Durban",state:"KwaZulu-Natal"},status:"approved",images:["/api/placeholder/300/200"],features:["Leather Seats","Premium Sound","Navigation"],createdAt:"2024-01-10",views:234,bookings:18,rating:4.9,earnings:11700,lastUpdated:"2024-01-22"}]),[c,o]=e.useState("all"),[d,p]=e.useState(""),[g,j]=e.useState("grid"),b=l.filter(e=>{const s="all"===c||e.status===c,t=""===d||`${e.make} ${e.model}`.toLowerCase().includes(d.toLowerCase())||e.location.city.toLowerCase().includes(d.toLowerCase());return s&&t}),w={totalListings:l.length,activeListings:l.filter(e=>"approved"===e.status).length,pendingListings:l.filter(e=>"pending"===e.status).length,totalEarnings:l.reduce((e,s)=>e+s.earnings,0),totalViews:l.reduce((e,s)=>e+s.views,0),totalBookings:l.reduce((e,s)=>e+s.bookings,0),averageRating:l.length>0?l.reduce((e,s)=>e+s.rating,0)/l.length:0,monthlyEarnings:.8*l.reduce((e,s)=>e+s.earnings,0),weeklyEarnings:.2*l.reduce((e,s)=>e+s.earnings,0)},f=e=>{switch(e){case"approved":return"text-green-400 bg-green-500/20 border-green-500/30";case"pending":return"text-yellow-400 bg-yellow-500/20 border-yellow-500/30";case"rejected":return"text-red-400 bg-red-500/20 border-red-500/30";case"draft":case"inactive":default:return"text-gray-400 bg-gray-500/20 border-gray-500/30";case"active":return"text-blue-400 bg-blue-500/20 border-blue-500/30"}},y=e=>{switch(e){case"approved":return"CheckCircle";case"pending":return"Clock";case"rejected":return"XCircle";case"draft":return"Edit";case"active":return"Zap";default:return"AlertCircle"}};return s.jsxs("div",{className:`space-y-8 ${t}`,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Host Dashboard"}),s.jsx("p",{className:"text-white/70 text-lg",children:"Manage your vehicle listings and earnings"})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs(K,{onClick:()=>i(!0),className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 shadow-lg hover:scale-105 transition-all",children:[s.jsx(v,{className:"w-5 h-5 mr-2"}),"Add New Vehicle"]}),s.jsxs(K,{variant:"outline",className:"hover:scale-105 transition-all",children:[s.jsx(_,{className:"w-5 h-5 mr-2"}),"Export Data"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx(Z,{className:"p-6 hover:scale-105 transition-transform",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-white/60 text-sm font-medium",children:"Total Listings"}),s.jsx("p",{className:"text-3xl font-bold text-white mt-1",children:w.totalListings}),s.jsxs("div",{className:"flex items-center mt-2 text-sm",children:[s.jsxs("span",{className:"text-green-400",children:[w.activeListings," active"]}),s.jsx("span",{className:"text-white/40 mx-2",children:"•"}),s.jsxs("span",{className:"text-yellow-400",children:[w.pendingListings," pending"]})]})]}),s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl flex items-center justify-center shadow-lg",children:s.jsx(m,{className:"w-8 h-8 text-white"})})]})}),s.jsx(Z,{className:"p-6 hover:scale-105 transition-transform",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-white/60 text-sm font-medium",children:"Total Earnings"}),s.jsxs("p",{className:"text-3xl font-bold text-white mt-1",children:["R",w.totalEarnings.toLocaleString()]}),s.jsxs("div",{className:"flex items-center mt-2 text-sm",children:[s.jsx(C,{className:"w-4 h-4 text-green-400 mr-1"}),s.jsx("span",{className:"text-green-400",children:"+12% this month"})]})]}),s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-500 to-green-600 rounded-2xl flex items-center justify-center shadow-lg",children:s.jsx(x,{className:"w-8 h-8 text-white"})})]})}),s.jsx(Z,{className:"p-6 hover:scale-105 transition-transform",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-white/60 text-sm font-medium",children:"Total Views"}),s.jsx("p",{className:"text-3xl font-bold text-white mt-1",children:w.totalViews}),s.jsxs("div",{className:"flex items-center mt-2 text-sm",children:[s.jsx(L,{className:"w-4 h-4 text-purple-400 mr-1"}),s.jsxs("span",{className:"text-purple-400",children:[w.totalBookings," bookings"]})]})]}),s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 to-purple-600 rounded-2xl flex items-center justify-center shadow-lg",children:s.jsx(N,{className:"w-8 h-8 text-white"})})]})}),s.jsx(Z,{className:"p-6 hover:scale-105 transition-transform",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-white/60 text-sm font-medium",children:"Average Rating"}),s.jsx("p",{className:"text-3xl font-bold text-white mt-1",children:w.averageRating.toFixed(1)}),s.jsxs("div",{className:"flex items-center mt-2 text-sm",children:[s.jsx(u,{className:"w-4 h-4 text-yellow-400 mr-1"}),s.jsxs("span",{className:"text-yellow-400",children:["Based on ",w.totalBookings," reviews"]})]})]}),s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-2xl flex items-center justify-center shadow-lg",children:s.jsx(u,{className:"w-8 h-8 text-white"})})]})})]}),s.jsxs(Z,{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"Quick Actions"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("button",{className:"p-4 bg-gradient-to-br from-blue-500/20 to-blue-600/20 border border-blue-500/30 rounded-xl hover:scale-105 transition-all group",children:[s.jsx(A,{className:"w-8 h-8 text-blue-400 mx-auto mb-2 group-hover:scale-110 transition-transform"}),s.jsx("div",{className:"text-white font-medium text-sm",children:"Analytics"})]}),s.jsxs("button",{className:"p-4 bg-gradient-to-br from-green-500/20 to-green-600/20 border border-green-500/30 rounded-xl hover:scale-105 transition-all group",children:[s.jsx(k,{className:"w-8 h-8 text-green-400 mx-auto mb-2 group-hover:scale-110 transition-transform"}),s.jsx("div",{className:"text-white font-medium text-sm",children:"Bookings"})]}),s.jsxs("button",{className:"p-4 bg-gradient-to-br from-purple-500/20 to-purple-600/20 border border-purple-500/30 rounded-xl hover:scale-105 transition-all group",children:[s.jsx(D,{className:"w-8 h-8 text-purple-400 mx-auto mb-2 group-hover:scale-110 transition-transform"}),s.jsx("div",{className:"text-white font-medium text-sm",children:"Reports"})]}),s.jsxs("button",{className:"p-4 bg-gradient-to-br from-orange-500/20 to-orange-600/20 border border-orange-500/30 rounded-xl hover:scale-105 transition-all group",children:[s.jsx(R,{className:"w-8 h-8 text-orange-400 mx-auto mb-2 group-hover:scale-110 transition-transform"}),s.jsx("div",{className:"text-white font-medium text-sm",children:"Settings"})]})]})]}),s.jsx(Z,{className:"p-6",children:s.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsx(ae,{placeholder:"Search vehicles...",value:d,onChange:e=>p(e),icon:"Search"})}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("select",{value:c,onChange:e=>o(e.target.value),className:"px-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"all",className:"bg-gray-800",children:"All Status"}),s.jsx("option",{value:"approved",className:"bg-gray-800",children:"Approved"}),s.jsx("option",{value:"pending",className:"bg-gray-800",children:"Pending"}),s.jsx("option",{value:"rejected",className:"bg-gray-800",children:"Rejected"}),s.jsx("option",{value:"draft",className:"bg-gray-800",children:"Draft"})]}),s.jsxs("div",{className:"flex bg-white/10 rounded-xl p-1",children:[s.jsx("button",{onClick:()=>j("grid"),className:"p-2 rounded-lg transition-all "+("grid"===g?"bg-white/20":"hover:bg-white/10"),children:s.jsx(A,{className:"w-4 h-4 text-white"})}),s.jsx("button",{onClick:()=>j("list"),className:"p-2 rounded-lg transition-all "+("list"===g?"bg-white/20":"hover:bg-white/10"),children:s.jsx(V,{className:"w-4 h-4 text-white"})})]}),s.jsx("button",{className:"px-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white hover:bg-white/20 transition-colors",children:s.jsx(E,{className:"w-4 h-4"})})]})]})}),s.jsx("div",{className:"grid gap-6 "+("grid"===g?"grid-cols-1 md:grid-cols-2 lg:grid-cols-3":"grid-cols-1"),children:b.map(e=>s.jsx(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"group",children:s.jsxs(Z,{className:"p-0 overflow-hidden hover:scale-105 transition-all duration-300 "+("list"===g?"flex":""),children:[s.jsxs("div",{className:"relative bg-gradient-to-br from-gray-600 to-gray-800 "+("list"===g?"w-80 h-48":"h-48"),children:[e.images.length>0?s.jsx("img",{src:e.images[0],alt:`${e.make} ${e.model}`,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center",children:s.jsx(m,{className:"w-16 h-16 text-white/40"})}),s.jsxs("div",{className:`absolute top-4 left-4 px-3 py-1 rounded-full text-xs font-medium border ${f(e.status)}`,children:[s.jsx(Y,{name:y(e.status),className:"w-3 h-3 inline mr-1"}),e.status.charAt(0).toUpperCase()+e.status.slice(1)]}),s.jsx("div",{className:"absolute top-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:"w-8 h-8 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center hover:bg-white/30 transition-colors",children:s.jsx(T,{className:"w-4 h-4 text-white"})}),s.jsx("button",{className:"w-8 h-8 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center hover:bg-white/30 transition-colors",children:s.jsx(z,{className:"w-4 h-4 text-white"})})]})}),s.jsxs("div",{className:"absolute bottom-4 left-4 bg-black/50 backdrop-blur-sm rounded-xl px-3 py-2",children:[s.jsxs("p",{className:"text-white font-bold text-lg",children:["R",e.pricePerDay]}),s.jsx("p",{className:"text-white/60 text-xs",children:"per day"})]})]}),s.jsxs("div",{className:"p-6 "+("list"===g?"flex-1":""),children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-xl font-semibold text-white mb-1",children:[e.make," ",e.model]}),s.jsxs("p",{className:"text-white/60 text-sm",children:[e.year," • ",e.color]})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(u,{className:"w-4 h-4 text-yellow-400 fill-current"}),s.jsx("span",{className:"text-white font-medium",children:e.rating}),s.jsxs("span",{className:"text-white/60 text-sm",children:["(",e.bookings,")"]})]})]}),s.jsxs("div",{className:"flex items-center text-white/60 text-sm mb-4",children:[s.jsx(h,{className:"w-4 h-4 mr-2"}),e.location.city,", ",e.location.state]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm mb-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-white font-semibold",children:e.views}),s.jsx("div",{className:"text-white/60 text-xs",children:"Views"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-white font-semibold",children:e.bookings}),s.jsx("div",{className:"text-white/60 text-xs",children:"Bookings"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-green-400 font-semibold",children:["R",e.earnings.toLocaleString()]}),s.jsx("div",{className:"text-white/60 text-xs",children:"Earnings"})]})]}),e.features.length>0&&s.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[e.features.slice(0,3).map(e=>s.jsx("span",{className:"px-2 py-1 bg-white/10 text-white/80 rounded-lg text-xs",children:e},e)),e.features.length>3&&s.jsxs("span",{className:"px-2 py-1 bg-white/10 text-white/80 rounded-lg text-xs",children:["+",e.features.length-3," more"]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(K,{className:"flex-1 bg-blue-500/20 text-blue-300 border-blue-500/30 hover:bg-blue-500/30",children:[s.jsx(N,{className:"w-4 h-4 mr-2"}),"View"]}),s.jsxs(K,{className:"flex-1 bg-green-500/20 text-green-300 border-green-500/30 hover:bg-green-500/30",children:[s.jsx(T,{className:"w-4 h-4 mr-2"}),"Edit"]})]})]})]})},e.id))}),0===b.length&&s.jsxs(Z,{className:"p-12 text-center",children:[s.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-gray-500 to-gray-600 rounded-3xl flex items-center justify-center mx-auto mb-6",children:s.jsx(m,{className:"w-12 h-12 text-white/60"})}),s.jsx("h3",{className:"text-2xl font-semibold text-white mb-3",children:"No vehicles found"}),s.jsx("p",{className:"text-white/60 mb-8 text-lg",children:d||"all"!==c?"Try adjusting your search or filter criteria":"Get started by listing your first vehicle"}),!d&&"all"===c&&s.jsxs(K,{onClick:()=>i(!0),className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 shadow-lg hover:scale-105 transition-all",children:[s.jsx(v,{className:"w-5 h-5 mr-2"}),"List Your First Vehicle"]})]}),s.jsx(Ve,{isOpen:a,onClose:()=>i(!1),onSuccess:e=>{const s={id:Date.now().toString(),make:e.make,model:e.model,year:e.year,type:e.type,color:e.color,pricePerDay:e.pricePerDay,location:e.location,status:"pending",images:e.coverImage?[URL.createObjectURL(e.coverImage)]:[],features:e.features,createdAt:(new Date).toISOString().split("T")[0],views:0,bookings:0,rating:0,earnings:0,lastUpdated:(new Date).toISOString().split("T")[0]};n(e=>[s,...e]),r.success("Vehicle listing created successfully!")}})]})},Te=()=>{const{user:t}=X(),[a,i]=e.useState({pendingUsers:0,pendingVehicles:0,pendingBookings:0,totalRevenue:0,activeUsers:0}),[l,r]=e.useState(!0);e.useEffect(()=>{n()},[]);const n=async()=>{try{const e=await fetch("/api/admin/stats",{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}});if(e.ok){const s=await e.json();i({pendingUsers:s.data.overview.pendingUsers||0,pendingVehicles:s.data.overview.pendingVehicles||0,pendingBookings:s.data.overview.pendingBookings||0,totalRevenue:s.data.overview.totalRevenue||0,activeUsers:s.data.overview.totalUsers||0})}}catch(e){}finally{r(!1)}},c=[{id:"approve-users",title:"Approve Users",description:"Review and approve pending user registrations",icon:"UserCheck",color:"blue",count:a.pendingUsers,action:()=>{}},{id:"approve-vehicles",title:"Approve Vehicles",description:"Review and approve pending vehicle listings",icon:"Car",color:"green",count:a.pendingVehicles,action:()=>{}},{id:"manage-bookings",title:"Manage Bookings",description:"Monitor and manage booking requests",icon:"Calendar",color:"purple",count:a.pendingBookings,action:()=>{}},{id:"view-analytics",title:"View Analytics",description:"Access platform analytics and reports",icon:"BarChart",color:"yellow",count:null,action:()=>{}},{id:"system-settings",title:"System Settings",description:"Configure platform settings and features",icon:"Settings",color:"gray",count:null,action:()=>{}},{id:"support-tickets",title:"Support Tickets",description:"Handle user support requests",icon:"MessageCircle",color:"red",count:null,action:()=>{}}];return l?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx("div",{className:"bg-white/10 backdrop-blur-md rounded-lg p-4 border border-white/20",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-white/70 text-sm",children:"Pending Users"}),s.jsx("p",{className:"text-2xl font-bold text-white",children:a.pendingUsers})]}),s.jsx(Y,{name:"Users",className:"h-8 w-8 text-blue-400"})]})}),s.jsx("div",{className:"bg-white/10 backdrop-blur-md rounded-lg p-4 border border-white/20",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-white/70 text-sm",children:"Pending Vehicles"}),s.jsx("p",{className:"text-2xl font-bold text-white",children:a.pendingVehicles})]}),s.jsx(Y,{name:"Car",className:"h-8 w-8 text-green-400"})]})}),s.jsx("div",{className:"bg-white/10 backdrop-blur-md rounded-lg p-4 border border-white/20",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-white/70 text-sm",children:"Pending Bookings"}),s.jsx("p",{className:"text-2xl font-bold text-white",children:a.pendingBookings})]}),s.jsx(Y,{name:"Calendar",className:"h-8 w-8 text-purple-400"})]})}),s.jsx("div",{className:"bg-white/10 backdrop-blur-md rounded-lg p-4 border border-white/20",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-white/70 text-sm",children:"Total Revenue"}),s.jsxs("p",{className:"text-2xl font-bold text-white",children:["R",a.totalRevenue.toLocaleString()]})]}),s.jsx(Y,{name:"DollarSign",className:"h-8 w-8 text-yellow-400"})]})})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map(e=>s.jsx("button",{onClick:e.action,className:"p-4 bg-white/10 backdrop-blur-md rounded-lg border border-white/20 hover:bg-white/20 transition-all duration-300 text-left group",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:`p-2 rounded-lg bg-${e.color}-500/20`,children:s.jsx(Y,{name:e.icon,className:`h-6 w-6 text-${e.color}-400`})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"text-white font-semibold group-hover:text-white transition-colors",children:e.title}),null!==e.count&&s.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium "+(e.count>0?"bg-red-500/20 text-red-200 border border-red-400/30":"bg-green-500/20 text-green-200 border border-green-400/30"),children:e.count})]}),s.jsx("p",{className:"text-white/70 text-sm",children:e.description})]})]})},e.id))}),s.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-lg p-6 border border-white/20",children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Recent Activity"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-white/5 rounded-lg",children:[s.jsx(Y,{name:"UserPlus",className:"h-5 w-5 text-green-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-white text-sm",children:"New user registration"}),s.jsx("p",{className:"text-white/70 text-xs",children:"2 minutes ago"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-white/5 rounded-lg",children:[s.jsx(Y,{name:"Car",className:"h-5 w-5 text-blue-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-white text-sm",children:"New vehicle listing submitted"}),s.jsx("p",{className:"text-white/70 text-xs",children:"5 minutes ago"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-white/5 rounded-lg",children:[s.jsx(Y,{name:"Calendar",className:"h-5 w-5 text-purple-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-white text-sm",children:"New booking request"}),s.jsx("p",{className:"text-white/70 text-xs",children:"10 minutes ago"})]})]})]})]})]})},ze=()=>{const{user:a}=X(),i=t(),r=l(),[n,c]=e.useState("renter"),[o,d]=e.useState(!1),m=a?.role?.toLowerCase(),x="admin"===m||"admin"===a?.role?.toLowerCase(),h=(()=>{const e=i.pathname;return e.includes("/host")?"host":e.includes("/renter")?"renter":e.includes("/admin")?"admin":m||"renter"})();if(F.useEffect(()=>{if(x){const e=i.pathname;e.includes("/admin")?c("admin"):e.includes("/host")?c("host"):e.includes("/renter")?c("renter"):c(m||"renter")}else i.pathname.includes("/admin")&&r("/dashboard",{replace:!0})},[i.pathname,x,m,r]),!a)return s.jsx("div",{className:"page-background",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s.jsxs("div",{className:"flex items-center justify-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"}),s.jsx("span",{className:"ml-3 text-white",children:"Loading dashboard..."})]})})});const u=e=>{d(!0),c(e),r("admin"===e?"/admin-dashboard":`/dashboard/${e}`,{replace:!0}),setTimeout(()=>d(!1),300)};return s.jsx("div",{className:"page-background",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 lg:py-8",children:[s.jsxs("div",{className:"mb-6 lg:mb-8",children:[s.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-white mb-2",children:"Dashboard"}),s.jsx("p",{className:"text-gray-300 text-sm lg:text-base",children:"Welcome to your dashboard!"}),x&&s.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row gap-2 sm:gap-2",children:[s.jsx("button",{onClick:()=>u("renter"),className:"px-3 lg:px-4 py-2 rounded-lg text-xs lg:text-sm font-medium transition-all "+("renter"===n?"bg-white/20 text-white":"bg-white/10 text-white/70 hover:bg-white/20"),children:"Renter View"}),s.jsx("button",{onClick:()=>u("host"),className:"px-3 lg:px-4 py-2 rounded-lg text-xs lg:text-sm font-medium transition-all "+("host"===n?"bg-white/20 text-white":"bg-white/10 text-white/70 hover:bg-white/20"),children:"Host View"}),s.jsx("button",{onClick:()=>u("admin"),className:"px-3 lg:px-4 py-2 rounded-lg text-xs lg:text-sm font-medium transition-all "+("admin"===n?"bg-white/20 text-white":"bg-white/10 text-white/70 hover:bg-white/20"),children:"Admin Panel"})]})]}),s.jsx("div",{className:"space-y-6",children:o?s.jsxs("div",{className:"flex items-center justify-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"}),s.jsx("span",{className:"ml-3 text-white",children:"Switching dashboard..."})]}):x?s.jsxs(s.Fragment,{children:["renter"===n&&s.jsx(de,{}),"host"===n&&s.jsx(Ee,{}),"admin"===n&&s.jsxs("div",{className:"space-y-6",children:[s.jsx(Te,{}),s.jsx(ie,{})]})]}):s.jsxs(s.Fragment,{children:["renter"===h&&s.jsx(de,{}),"host"===h&&s.jsx(Ee,{})]})})]})})},Fe=({className:t=""})=>{const{user:a,logout:i}=X(),[l,n]=e.useState("overview"),[o,d]=e.useState(!0),[h,u]=e.useState(!1),[p,g]=e.useState([]),[j,b]=e.useState({totalUsers:0,totalHosts:0,totalVehicles:0,pendingVehicles:0,approvedVehicles:0,rejectedVehicles:0,totalBookings:0,activeBookings:0,totalRevenue:0,monthlyRevenue:0,averageBookingValue:0,userGrowthRate:0,vehicleGrowthRate:0,bookingGrowthRate:0}),[w,f]=e.useState("pending"),[v,y]=e.useState(""),[S,P]=e.useState(null),[D,V]=e.useState(!1),[E,T]=e.useState("approve"),[z,F]=e.useState(""),$=async()=>{try{u(!0);try{const e=await le.get("/admin/vehicles/pending");g(e.data.vehicles||e.data.data||[])}catch(e){}try{const e=(await le.get("/admin/dashboard-stats")).data,s=e.stats||e.data;s&&b({totalUsers:s.users?.total||s.totalUsers||0,totalHosts:s.users?.hosts||s.totalHosts||0,totalVehicles:s.vehicles?.total||s.totalVehicles||0,pendingVehicles:s.vehicles?.pending||s.pendingVehicles||0,approvedVehicles:s.vehicles?.approved||s.approvedVehicles||0,rejectedVehicles:0,totalBookings:s.bookings?.total||s.totalBookings||0,activeBookings:s.bookings?.active||s.activeBookings||0,totalRevenue:s.revenue?.total||s.totalRevenue||0,monthlyRevenue:s.revenue?.monthly||0,averageBookingValue:0,userGrowthRate:s.growth?.users||0,vehicleGrowthRate:0,bookingGrowthRate:s.growth?.bookings||0})}catch(e){try{const e=(await le.get("/admin/stats")).data.data;e&&b({totalUsers:e.overview?.totalUsers||0,totalHosts:0,totalVehicles:e.overview?.totalListings||0,pendingVehicles:e.overview?.pendingListings||0,approvedVehicles:0,rejectedVehicles:0,totalBookings:e.overview?.totalBookings||0,activeBookings:e.overview?.activeBookings||0,totalRevenue:e.revenue?.total||0,monthlyRevenue:e.revenue?.monthly||0,averageBookingValue:0,userGrowthRate:e.growth?.users||0,vehicleGrowthRate:0,bookingGrowthRate:e.growth?.bookings||0})}catch(s){}}}catch(e){r.error("Failed to load dashboard data")}finally{d(!1),u(!1)}};return e.useEffect(()=>{$();const e=setInterval($,3e4);return()=>clearInterval(e)},[]),o?s.jsx("div",{className:"flex items-center justify-center h-96",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),s.jsx("p",{className:"text-white/70",children:"Loading dashboard..."})]})}):s.jsxs("div",{className:`space-y-6 ${t}`,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs(K,{variant:"outline",onClick:()=>window.location.href="/",className:"flex items-center space-x-2",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),s.jsx("span",{children:"Home"})]}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-white",children:"Admin Dashboard"}),s.jsxs("p",{className:"text-white/70",children:["Welcome back, ",a?.name||a?.email||"Admin"]})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs(K,{variant:"outline",onClick:$,disabled:h,children:[s.jsx(I,{className:"w-4 h-4 mr-2 "+(h?"animate-spin":"")}),"Refresh"]}),s.jsxs(K,{variant:"outline",children:[s.jsx(_,{className:"w-4 h-4 mr-2"}),"Export"]}),s.jsxs(K,{children:[s.jsx(R,{className:"w-4 h-4 mr-2"}),"Settings"]}),s.jsxs(K,{variant:"outline",onClick:async()=>{try{await i(),window.location.href="/"}catch(e){window.location.href="/"}},className:"bg-red-600/20 border-red-500/30 text-red-300 hover:bg-red-600/30",children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Exit Admin"]})]})]}),s.jsx(Z,{className:"p-0 overflow-hidden",children:s.jsx("div",{className:"flex border-b border-white/10",children:[{id:"overview",label:"Overview",icon:A},{id:"vehicles",label:"Vehicles",icon:m},{id:"users",label:"Users",icon:L},{id:"bookings",label:"Bookings",icon:k},{id:"analytics",label:"Analytics",icon:C},{id:"settings",label:"Settings",icon:R}].map(e=>s.jsxs("button",{onClick:()=>n(e.id),className:"flex items-center px-6 py-4 text-sm font-medium transition-all "+(l===e.id?"text-blue-400 border-b-2 border-blue-400 bg-blue-500/10":"text-white/70 hover:text-white hover:bg-white/5"),children:[s.jsx(e.icon,{className:"w-4 h-4 mr-2"}),e.label]},e.id))})}),s.jsxs(xe,{mode:"wait",children:["overview"===l&&s.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx(Z,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-white/60 text-sm",children:"Total Users"}),s.jsx("p",{className:"text-2xl font-bold text-white",children:j.totalUsers}),s.jsxs("p",{className:"text-green-400 text-xs",children:["+",j.userGrowthRate,"% this month"]})]}),s.jsx("div",{className:"w-12 h-12 bg-blue-500/20 rounded-full flex items-center justify-center",children:s.jsx(L,{className:"w-6 h-6 text-blue-400"})})]})}),s.jsx(Z,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-white/60 text-sm",children:"Total Vehicles"}),s.jsx("p",{className:"text-2xl font-bold text-white",children:j.totalVehicles}),s.jsxs("p",{className:"text-green-400 text-xs",children:["+",j.vehicleGrowthRate,"% this month"]})]}),s.jsx("div",{className:"w-12 h-12 bg-green-500/20 rounded-full flex items-center justify-center",children:s.jsx(m,{className:"w-6 h-6 text-green-400"})})]})}),s.jsx(Z,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-white/60 text-sm",children:"Active Bookings"}),s.jsx("p",{className:"text-2xl font-bold text-white",children:j.activeBookings}),s.jsxs("p",{className:"text-green-400 text-xs",children:["+",j.bookingGrowthRate,"% this month"]})]}),s.jsx("div",{className:"w-12 h-12 bg-purple-500/20 rounded-full flex items-center justify-center",children:s.jsx(k,{className:"w-6 h-6 text-purple-400"})})]})}),s.jsx(Z,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-white/60 text-sm",children:"Monthly Revenue"}),s.jsxs("p",{className:"text-2xl font-bold text-white",children:["R",j.monthlyRevenue.toLocaleString()]}),s.jsx("p",{className:"text-green-400 text-xs",children:"+12.5% from last month"})]}),s.jsx("div",{className:"w-12 h-12 bg-yellow-500/20 rounded-full flex items-center justify-center",children:s.jsx(x,{className:"w-6 h-6 text-yellow-400"})})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(Z,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Pending Vehicle Approvals"}),s.jsxs("span",{className:"px-2 py-1 bg-yellow-500/20 text-yellow-400 rounded-full text-xs font-medium",children:[j.pendingVehicles," pending"]})]}),s.jsxs("div",{className:"space-y-3",children:[p.slice(0,3).map(e=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-gray-600 to-gray-800 rounded-lg flex items-center justify-center",children:s.jsx(m,{className:"w-5 h-5 text-white/60"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-white font-medium",children:e.title}),s.jsxs("p",{className:"text-white/60 text-sm",children:[e.host.first_name," ",e.host.last_name]})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>{P(e),T("approve"),V(!0)},className:"w-8 h-8 bg-green-500/20 hover:bg-green-500/30 rounded-lg flex items-center justify-center transition-colors",children:s.jsx(c,{className:"w-4 h-4 text-green-400"})}),s.jsx("button",{onClick:()=>{P(e),T("reject"),V(!0)},className:"w-8 h-8 bg-red-500/20 hover:bg-red-500/30 rounded-lg flex items-center justify-center transition-colors",children:s.jsx(M,{className:"w-4 h-4 text-red-400"})})]})]},e.id)),0===p.length&&s.jsxs("div",{className:"text-center py-4",children:[s.jsx(c,{className:"w-8 h-8 text-green-400 mx-auto mb-2"}),s.jsx("p",{className:"text-white/70",children:"No pending vehicle approvals"})]})]})]}),s.jsxs(Z,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Recent Activity"}),s.jsx(B,{className:"w-5 h-5 text-white/60"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-white/5 rounded-lg",children:[s.jsx("div",{className:"w-8 h-8 bg-green-500/20 rounded-full flex items-center justify-center",children:s.jsx(c,{className:"w-4 h-4 text-green-400"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-white text-sm",children:'Vehicle "Toyota Corolla" approved'}),s.jsx("p",{className:"text-white/60 text-xs",children:"2 minutes ago"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-white/5 rounded-lg",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-500/20 rounded-full flex items-center justify-center",children:s.jsx(U,{className:"w-4 h-4 text-blue-400"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-white text-sm",children:"New user registration"}),s.jsx("p",{className:"text-white/60 text-xs",children:"5 minutes ago"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-white/5 rounded-lg",children:[s.jsx("div",{className:"w-8 h-8 bg-purple-500/20 rounded-full flex items-center justify-center",children:s.jsx(k,{className:"w-4 h-4 text-purple-400"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-white text-sm",children:"New booking created"}),s.jsx("p",{className:"text-white/60 text-xs",children:"10 minutes ago"})]})]})]})]})]})]},"overview"),"vehicles"===l&&s.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:[s.jsx(Z,{className:"p-6",children:s.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsx(ae,{placeholder:"Search vehicles...",value:v,onChange:e=>y(e),icon:"Search"})}),s.jsx("div",{className:"flex gap-2",children:["all","pending","approved","rejected"].map(e=>s.jsx("button",{onClick:()=>f(e),className:"px-4 py-2 rounded-lg text-sm font-medium transition-all "+(w===e?"bg-blue-500/20 text-blue-400":"bg-white/10 text-white/70 hover:bg-white/20"),children:e.charAt(0).toUpperCase()+e.slice(1)},e))})]})}),s.jsxs(Z,{className:"p-0 overflow-hidden",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-white/5 border-b border-white/10",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 text-left text-white/60 font-medium",children:"Vehicle"}),s.jsx("th",{className:"px-6 py-4 text-left text-white/60 font-medium",children:"Host"}),s.jsx("th",{className:"px-6 py-4 text-left text-white/60 font-medium",children:"Price"}),s.jsx("th",{className:"px-6 py-4 text-left text-white/60 font-medium",children:"Status"}),s.jsx("th",{className:"px-6 py-4 text-left text-white/60 font-medium",children:"Created"}),s.jsx("th",{className:"px-6 py-4 text-left text-white/60 font-medium",children:"Actions"})]})}),s.jsx("tbody",{children:p.map(e=>s.jsxs(me.tr,{initial:{opacity:0},animate:{opacity:1},className:"border-b border-white/5 hover:bg-white/5 transition-colors",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-gray-600 to-gray-800 rounded-lg flex items-center justify-center",children:s.jsx(m,{className:"w-6 h-6 text-white/60"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-white font-medium",children:e.title}),s.jsxs("p",{className:"text-white/60 text-sm",children:[e.year," • ",e.vehicle_type]})]})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{children:[s.jsxs("p",{className:"text-white font-medium",children:[e.host.first_name," ",e.host.last_name]}),s.jsx("p",{className:"text-white/60 text-sm",children:e.host.email})]})}),s.jsxs("td",{className:"px-6 py-4",children:[s.jsxs("p",{className:"text-white font-medium",children:["R",e.price_per_day]}),s.jsx("p",{className:"text-white/60 text-sm",children:"per day"})]}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium "+("approved"===e.status?"text-green-400 bg-green-500/20":"rejected"===e.status?"text-red-400 bg-red-500/20":"text-yellow-400 bg-yellow-500/20"),children:e.status})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("p",{className:"text-white/80 text-sm",children:new Date(e.created_at).toLocaleDateString()})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>{P(e),alert(`Vehicle: ${e.title}\nHost: ${e.host.first_name} ${e.host.last_name}\nPrice: R${e.price_per_day}/day\nStatus: ${e.status}`)},className:"w-8 h-8 bg-blue-500/20 hover:bg-blue-500/30 rounded-lg flex items-center justify-center transition-colors",children:s.jsx(N,{className:"w-4 h-4 text-blue-400"})}),"pending"===e.status&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>{P(e),T("approve"),V(!0)},className:"w-8 h-8 bg-green-500/20 hover:bg-green-500/30 rounded-lg flex items-center justify-center transition-colors",children:s.jsx(c,{className:"w-4 h-4 text-green-400"})}),s.jsx("button",{onClick:()=>{P(e),T("reject"),V(!0)},className:"w-8 h-8 bg-red-500/20 hover:bg-red-500/30 rounded-lg flex items-center justify-center transition-colors",children:s.jsx(M,{className:"w-4 h-4 text-red-400"})})]})]})})]},e.id))})]})}),0===p.length&&s.jsxs("div",{className:"p-12 text-center",children:[s.jsx(m,{className:"w-16 h-16 text-white/40 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No vehicles found"}),s.jsx("p",{className:"text-white/60",children:"No vehicles match your current filters"})]})]})]},"vehicles")]}),s.jsx(xe,{children:D&&S&&s.jsx(me.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:s.jsxs(me.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"w-full max-w-md bg-white/10 backdrop-blur-md rounded-2xl border border-white/20 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"approve"===E?"Approve Vehicle":"Reject Vehicle"}),s.jsxs("div",{className:"mb-4",children:[s.jsx("p",{className:"text-white/70 mb-2",children:"approve"===E?`Are you sure you want to approve "${S.title}"?`:`Are you sure you want to reject "${S.title}"?`}),"reject"===E&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-white/70 text-sm font-medium mb-2",children:"Rejection Reason (Optional)"}),s.jsx("textarea",{value:z,onChange:e=>F(e.target.value),placeholder:"Enter reason for rejection...",className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3})]})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{onClick:()=>{V(!1),P(null),F("")},className:"flex-1 px-4 py-2 bg-white/10 text-white/70 rounded-lg hover:bg-white/20 transition-colors",children:"Cancel"}),s.jsx("button",{onClick:()=>(async(e,s,t)=>{try{let i;try{i=await le.patch(`/admin/vehicles/${e}/approve`,{status:"approve"===s?"approved":"rejected",reason:t||void 0})}catch(a){i=await le.patch(`/vehicles/${e}/approve`,{status:"approve"===s?"approved":"rejected",reason:t||void 0})}200===i.status?(g(a=>a.map(a=>a.id===e?{...a,status:"approve"===s?"approved":"rejected",rejection_reason:t}:a)),V(!1),P(null),F(""),r.success(`Vehicle ${"approve"===s?"approved":"rejected"} successfully`),$()):r.error(i.data?.error||"Failed to update vehicle status")}catch(a){r.error("Error updating vehicle status")}})(S.id,E,z),className:"flex-1 px-4 py-2 rounded-lg font-medium transition-colors "+("approve"===E?"bg-green-500 text-white hover:bg-green-600":"bg-red-500 text-white hover:bg-red-600"),children:"approve"===E?"Approve":"Reject"})]})]})})})]})},Ie=e.lazy(()=>Q(()=>import("./Home-ChP6M_B5.js"),__vite__mapDeps([7,1,2,0,3,4,5,8]),import.meta.url)),Me=e.lazy(()=>Q(()=>import("./Search-Cvisgqrw.js"),__vite__mapDeps([9,1,2,0,3,4,5,10]),import.meta.url)),Be=e.lazy(()=>Q(()=>import("./VehicleDetail-CnMIGWi9.js"),__vite__mapDeps([11,1,2,0,3,4,5]),import.meta.url)),Ue=e.lazy(()=>Q(()=>import("./About-BbR9e1lo.js"),__vite__mapDeps([12,1,2,0,3,4,5]),import.meta.url)),$e=e.lazy(()=>Q(()=>import("./Contact-DTCtN4-u.js"),__vite__mapDeps([13,1,2,0,3,4,5]),import.meta.url)),Oe=e.lazy(()=>Q(()=>import("./admin-pages-CLn31zMV.js").then(e=>e.q),__vite__mapDeps([0,1,2,3,4,5]),import.meta.url)),He=e.lazy(()=>Q(()=>import("./FAQ-Dn1Uy7z_.js"),__vite__mapDeps([14,1,2,0,3,4,5]),import.meta.url)),qe=e.lazy(()=>Q(()=>import("./Pricing-C_5iOOsH.js"),__vite__mapDeps([15,1,2,0,3,4,5,8]),import.meta.url)),We=e.lazy(()=>Q(()=>import("./Login-RKebPZac.js"),__vite__mapDeps([16,1,2,0,3,4,5]),import.meta.url)),Ge=e.lazy(()=>Q(()=>import("./Signup-CzvouDhM.js"),__vite__mapDeps([17,1,2,0,3,4,5,10]),import.meta.url)),Ye=e.lazy(()=>Q(()=>import("./Unauthorized-C_6GezeD.js"),__vite__mapDeps([18,1,2,0,3,4,5]),import.meta.url)),Xe=e.lazy(()=>Q(()=>import("./NotFound--kyf4hvI.js"),__vite__mapDeps([19,1,2]),import.meta.url)),Je=new ne({defaultOptions:{queries:{staleTime:6e5,gcTime:18e5,retry:1,refetchOnWindowFocus:!1,refetchOnMount:!1,refetchOnReconnect:!1},mutations:{retry:1}}});function Qe(){return e.useEffect(()=>{const e=e=>{if(e.message&&(e.message.includes("message channel closed")||e.message.includes("listener indicated an asynchronous response")))return e.preventDefault(),e.stopPropagation(),!1},s=e=>{if(e.reason&&e.reason.message&&(e.reason.message.includes("message channel closed")||e.reason.message.includes("listener indicated an asynchronous response")))return e.preventDefault(),e.stopPropagation(),!1};return window.addEventListener("error",e,!0),window.addEventListener("unhandledrejection",s,!0),()=>{window.removeEventListener("error",e,!0),window.removeEventListener("unhandledrejection",s,!0)}},[]),s.jsx($,{children:s.jsx(O,{client:Je,children:s.jsx(we,{children:s.jsx(Le,{children:s.jsx(H,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:s.jsx(re,{children:s.jsx(ge,{children:s.jsx("div",{className:"App",children:s.jsx(e.Suspense,{fallback:s.jsx(_e,{text:"Loading RideShare SA..."}),children:s.jsxs(q,{children:[s.jsx(W,{path:"/",element:s.jsx(ye,{children:s.jsx(Ie,{})})}),s.jsx(W,{path:"/search",element:s.jsx(ye,{children:s.jsx(Me,{})})}),s.jsx(W,{path:"/vehicle/:id",element:s.jsx(ye,{children:s.jsx(Be,{})})}),s.jsx(W,{path:"/about",element:s.jsx(ye,{children:s.jsx(Ue,{})})}),s.jsx(W,{path:"/contact",element:s.jsx(ye,{children:s.jsx($e,{})})}),s.jsx(W,{path:"/faq",element:s.jsx(ye,{children:s.jsx(He,{})})}),s.jsx(W,{path:"/pricing",element:s.jsx(ye,{children:s.jsx(qe,{})})}),s.jsx(W,{path:"/login",element:s.jsx(We,{})}),s.jsx(W,{path:"/signup",element:s.jsx(Ge,{})}),s.jsx(W,{path:"/register",element:s.jsx(Ge,{})}),s.jsx(W,{path:"/unauthorized",element:s.jsx(Ye,{})}),s.jsx(W,{path:"/dashboard/*",element:s.jsx(ke,{children:s.jsx(ye,{children:s.jsx(ze,{})})})}),s.jsx(W,{path:"/admin-dashboard/*",element:s.jsx(Ce,{children:s.jsx(Fe,{})})}),s.jsx(W,{path:"/legacy-admin-dashboard",element:s.jsx(Oe,{})}),s.jsx(W,{path:"*",element:s.jsx(ye,{children:s.jsx(Xe,{})})})]})})})})})})})})})})}G.createRoot(document.getElementById("root")).render(s.jsx(F.StrictMode,{children:s.jsx(Qe,{})}));
