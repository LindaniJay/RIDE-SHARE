import{a0 as e,r as s,j as t,L as r}from"./react-vendor-R_lWSjNG.js";import{u as a,I as i,G as o,b as n}from"./admin-pages-CLn31zMV.js";import{D as l}from"./dashboard-pages-BSp87bHe.js";import"./vendor-BDlGQTAF.js";import"./firebase-OlRJkiMA.js";import"./utils-Bi8vyz5k.js";import"./ui-libs-BTnp6TS4.js";const d=()=>{const{signup:d,loading:c}=a(),[m]=e(),[u,h]=s.useState({email:"",password:"",confirmPassword:"",firstName:"",lastName:"",phone:"",role:"Renter",documents:{idDocument:null,driverLicense:null,proofOfAddress:null,vehicleRegistration:null,roadworthyCertificate:null,insuranceCertificate:null}});s.useEffect(()=>{const e=m.get("role");"renter"!==e&&"host"!==e||h(s=>({...s,role:"renter"===e?"Renter":"Host"}))},[m]);const[p,x]=s.useState(""),[f,g]=s.useState(!1),b=e=>{const{name:s,value:t}=e.target;h(e=>({...e,[s]:t})),x("")};return t.jsx("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"max-w-md w-full space-y-8",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"mx-auto h-16 w-16 bg-gradient-to-r from-blue-600 to-purple-600 rounded-full flex items-center justify-center",children:t.jsx(i,{name:"Car",size:"lg",className:"text-white"})}),t.jsx("h2",{className:"mt-6 text-3xl font-bold text-white",children:"Join RideShare SA"}),t.jsx("p",{className:"mt-2 text-sm text-gray-300",children:"Create your account to get started"})]}),t.jsxs(o,{className:"p-8",children:[t.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),x(""),u.password!==u.confirmPassword)return void x("Passwords do not match");if(u.password.length<6)return void x("Password must be at least 6 characters long");const s=["idDocument","driverLicense","proofOfAddress"];"Host"===u.role&&s.push("vehicleRegistration","roadworthyCertificate","insuranceCertificate");const t=s.filter(e=>!u.documents[e]);if(t.length>0)x(`Please upload all required documents: ${t.join(", ")}`);else{g(!0);try{await d(u.email,u.password,u.firstName,u.lastName,u.phone,u.role)}catch(r){x(r.message)}finally{g(!1)}}},className:"space-y-6",children:[p&&t.jsx("div",{className:"bg-red-500/20 border border-red-500/30 rounded-lg p-4 text-red-200 text-sm",children:p}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-white mb-2",children:"First name"}),t.jsx("input",{id:"firstName",name:"firstName",type:"text",autoComplete:"given-name",required:!0,value:u.firstName,onChange:b,className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your first name"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-white mb-2",children:"Last name"}),t.jsx("input",{id:"lastName",name:"lastName",type:"text",autoComplete:"family-name",required:!0,value:u.lastName,onChange:b,className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your last name"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-white mb-2",children:"Email address"}),t.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:u.email,onChange:b,className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your email"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-white mb-2",children:"Phone number (optional)"}),t.jsx("input",{id:"phone",name:"phone",type:"tel",autoComplete:"tel",value:u.phone,onChange:b,className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your phone number"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-white mb-2",children:"I want to"}),t.jsxs("select",{id:"role",name:"role",required:!0,value:u.role,onChange:b,className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[t.jsx("option",{value:"Renter",className:"bg-gray-800 text-white",children:"Rent vehicles"}),t.jsx("option",{value:"Host",className:"bg-gray-800 text-white",children:"List my vehicles for rent"})]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-white mb-2",children:"Password"}),t.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,value:u.password,onChange:b,className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Create a password (min. 6 characters)"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-white mb-2",children:"Confirm password"}),t.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",required:!0,value:u.confirmPassword,onChange:b,className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Confirm your password"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"border-t border-white/20 pt-4",children:[t.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:[t.jsx(i,{name:"FileText",size:"sm",className:"mr-2"}),"Required Documents"]}),t.jsxs("p",{className:"text-sm text-white/70 mb-4",children:["Please upload the required documents to complete your registration.","Host"===u.role?" As a host, you need additional documents to list your vehicles.":" These documents help us verify your identity and ensure platform safety."]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(l,{label:"ID Document",name:"idDocument",required:!0,description:"South African ID, passport, or driver's license",acceptedTypes:["image/*","application/pdf"],maxSize:5,value:u.documents.idDocument,onChange:e=>h(s=>({...s,documents:{...s.documents,idDocument:e}}))}),t.jsx(l,{label:"Driver's License",name:"driverLicense",required:!0,description:"Valid South African driver's license",acceptedTypes:["image/*","application/pdf"],maxSize:5,value:u.documents.driverLicense,onChange:e=>h(s=>({...s,documents:{...s.documents,driverLicense:e}}))}),t.jsx(l,{label:"Proof of Address",name:"proofOfAddress",required:!0,description:"Utility bill, bank statement, or municipal account (not older than 3 months)",acceptedTypes:["image/*","application/pdf"],maxSize:5,value:u.documents.proofOfAddress,onChange:e=>h(s=>({...s,documents:{...s.documents,proofOfAddress:e}}))})]}),"Host"===u.role&&t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:"border-t border-white/20 pt-4",children:t.jsxs("h4",{className:"text-md font-semibold text-white mb-3 flex items-center",children:[t.jsx(i,{name:"Car",size:"sm",className:"mr-2"}),"Vehicle Documents (for each vehicle you plan to list)"]})}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(l,{label:"Vehicle Registration",name:"vehicleRegistration",required:!0,description:"Official vehicle registration document (NATIS)",acceptedTypes:["image/*","application/pdf"],maxSize:5,value:u.documents.vehicleRegistration,onChange:e=>h(s=>({...s,documents:{...s.documents,vehicleRegistration:e}}))}),t.jsx(l,{label:"Roadworthy Certificate",name:"roadworthyCertificate",required:!0,description:"Valid roadworthy certificate (not older than 2 years)",acceptedTypes:["image/*","application/pdf"],maxSize:5,value:u.documents.roadworthyCertificate,onChange:e=>h(s=>({...s,documents:{...s.documents,roadworthyCertificate:e}}))}),t.jsx(l,{label:"Insurance Certificate",name:"insuranceCertificate",required:!0,description:"Comprehensive insurance certificate",acceptedTypes:["image/*","application/pdf"],maxSize:5,value:u.documents.insuranceCertificate,onChange:e=>h(s=>({...s,documents:{...s.documents,insuranceCertificate:e}}))})]})]})]}),t.jsx(n,{type:"submit",disabled:f||c,className:"w-full flex justify-center items-center space-x-2",children:f||c?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),t.jsx("span",{children:"Creating account..."})]}):t.jsxs(t.Fragment,{children:[t.jsx(i,{name:"Plus",size:"sm"}),t.jsx("span",{children:"Create account"})]})})]}),t.jsx("div",{className:"mt-6 text-center",children:t.jsxs("p",{className:"text-gray-300 text-sm",children:["Already have an account?"," ",t.jsx(r,{to:"/login",className:"text-blue-400 hover:text-blue-300 font-medium transition-colors",children:"Sign in here"})]})})]})]})})};export{d as default};
