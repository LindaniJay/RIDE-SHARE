import{r as e,j as s}from"./react-vendor-DFf_48ct.js";import{I as t}from"./admin-pages-DyRM6rtq.js";import"./vendor-eiHq4GmM.js";import"./firebase-B6ibEfTD.js";import"./utils-Bi8vyz5k.js";const r=({userId:r,className:a=""})=>{const[i,n]=e.useState([]),[c,d]=e.useState(!0);e.useEffect(()=>{l()},[r]);const l=async()=>{try{const e=localStorage.getItem("authToken"),s=await fetch(`/api/users/${r}/documents`,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(s.ok){const e=await s.json();n(e.documents||[])}}catch(e){n([{id:"1",type:"driver_license",name:"Driver License",expiryDate:new Date(Date.now()+2592e6),status:"expiring_soon",daysUntilExpiry:30},{id:"2",type:"id_document",name:"South African ID",expiryDate:new Date(Date.now()+31536e6),status:"valid",daysUntilExpiry:365}])}finally{d(!1)}},o=e=>{switch(e){case"expired":return"text-red-400 bg-red-500/20 border-red-500/30";case"expiring_soon":return"text-yellow-400 bg-yellow-500/20 border-yellow-500/30";case"valid":return"text-green-400 bg-green-500/20 border-green-500/30";default:return"text-gray-400 bg-gray-500/20 border-gray-500/30"}},x=e=>{switch(e){case"expired":return"XCircle";case"expiring_soon":return"AlertTriangle";case"valid":return"CheckCircle";default:return"FileText"}},m=e=>{switch(e){case"driver_license":return"Car";case"id_document":return"CreditCard";case"proof_of_address":return"Home";default:return"FileText"}};return c?s.jsx("div",{className:`space-y-3 ${a}`,children:[...Array(2)].map((e,t)=>s.jsx("div",{className:"animate-pulse",children:s.jsx("div",{className:"h-16 bg-white/10 rounded-lg"})},t))}):s.jsx("div",{className:`space-y-3 ${a}`,children:0===i.length?s.jsxs("div",{className:"text-center py-4",children:[s.jsx(t,{name:"FileText",size:"lg",className:"text-white/50 mb-2"}),s.jsx("p",{className:"text-white/70 text-sm",children:"No documents uploaded yet"})]}):i.map(e=>s.jsx("div",{className:`p-3 rounded-lg border ${o(e.status)}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(t,{name:m(e.type),size:"sm"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-white",children:e.name}),s.jsxs("p",{className:"text-xs text-white/70",children:["Expires: ",e.expiryDate.toLocaleDateString()]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(t,{name:x(e.status),size:"sm"}),s.jsx("span",{className:"text-xs",children:"expired"===e.status?"Expired":"expiring_soon"===e.status?`${e.daysUntilExpiry} days`:"Valid"})]}),"expiring_soon"===e.status&&s.jsx("button",{className:"text-xs text-blue-400 hover:text-blue-300 transition-colors mt-1",children:"Renew Now"})]})]})},e.id))})};export{r as DocumentExpiryReminder,r as default};
