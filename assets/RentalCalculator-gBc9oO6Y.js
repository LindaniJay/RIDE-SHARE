import{r as e,c as s,j as t}from"./react-vendor-DFf_48ct.js";import{I as a}from"./admin-pages-7ozwo2GF.js";import"./vendor-eiHq4GmM.js";import"./firebase-B6ibEfTD.js";import"./utils-Bi8vyz5k.js";const l=({basePrice:l,onCalculate:i,className:r=""})=>{const[n,c]=e.useState("daily"),[d,o]=e.useState(1),[h,m]=e.useState({insurance:!1,gps:!1,childSeat:!1,driver:!1,fuel:!1}),x={insurance:50,gps:30,childSeat:25,driver:200,fuel:100},u=()=>{let e=l*d;"hourly"===n?e=l*d:"weekly"===n&&(e=l*d*7*.85);let s=0;const t=Object.entries(h).filter(([e,s])=>s).map(([e,s])=>({name:e,price:x[e]}));s=t.reduce((e,s)=>e+s.price,0);const a=.1*(e+s),r=e+s+a,c={baseTotal:e,addOns:t,addOnTotal:s,serviceFee:a,total:r,rentalType:n,duration:d};return i(r,c),c};return s.useEffect(()=>{u()},[n,d,h,l]),t.jsxs("div",{className:`space-y-4 ${r}`,children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-white/90 mb-2",children:"Rental Type"}),t.jsx("div",{className:"flex space-x-2",children:[{value:"hourly",label:"Hourly",icon:"Clock"},{value:"daily",label:"Daily",icon:"Calendar"},{value:"weekly",label:"Weekly",icon:"Calendar"}].map(e=>t.jsxs("button",{onClick:()=>c(e.value),className:"flex-1 px-3 py-2 rounded-lg text-sm font-medium transition-all "+(n===e.value?"bg-blue-500/20 text-blue-300 border border-blue-500/30":"bg-white/10 text-white/70 border border-white/20 hover:bg-white/20"),children:[t.jsx(a,{name:e.icon,size:"sm",className:"mr-1"}),e.label]},e.value))})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-white/90 mb-2",children:["Duration (","hourly"===n?"Hours":"daily"===n?"Days":"Weeks",")"]}),t.jsx("input",{type:"number",min:"1",value:d,onChange:e=>o(parseInt(e.target.value)||1),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/20"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-white/90 mb-2",children:"Add-ons"}),t.jsx("div",{className:"space-y-2",children:[{key:"insurance",label:"Comprehensive Insurance",icon:"Shield",price:x.insurance},{key:"gps",label:"GPS Navigation",icon:"MapPin",price:x.gps},{key:"childSeat",label:"Child Safety Seat",icon:"Baby",price:x.childSeat},{key:"driver",label:"Professional Driver",icon:"User",price:x.driver},{key:"fuel",label:"Full Tank of Fuel",icon:"Fuel",price:x.fuel}].map(e=>t.jsxs("label",{className:"flex items-center justify-between p-3 bg-white/5 rounded-lg hover:bg-white/10 transition-colors cursor-pointer",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("input",{type:"checkbox",checked:h[e.key],onChange:s=>((e,s)=>{m(t=>({...t,[e]:s}))})(e.key,s.target.checked),className:"w-4 h-4 text-blue-600 bg-white/10 border-white/20 rounded focus:ring-blue-500"}),t.jsx(a,{name:e.icon,size:"sm"}),t.jsx("span",{className:"text-white/90 text-sm",children:e.label})]}),t.jsxs("span",{className:"text-white/70 text-sm",children:["R",e.price]})]},e.key))})]}),t.jsxs("div",{className:"bg-white/10 rounded-lg p-4 border border-white/20",children:[t.jsx("h4",{className:"text-sm font-medium text-white/90 mb-3",children:"Cost Breakdown"}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsxs("span",{className:"text-white/70",children:["Base (",n,"):"]}),t.jsxs("span",{className:"text-white",children:["R",l," Ã— ",d]})]}),Object.entries(h).filter(([e,s])=>s).map(([e,s])=>t.jsxs("div",{className:"flex justify-between",children:[t.jsxs("span",{className:"text-white/70 capitalize",children:[e.replace(/([A-Z])/g," $1"),":"]}),t.jsxs("span",{className:"text-white",children:["R",x[e]]})]},e)),t.jsxs("div",{className:"flex justify-between border-t border-white/20 pt-2",children:[t.jsx("span",{className:"text-white/70",children:"Service Fee (10%):"}),t.jsxs("span",{className:"text-white",children:["R",Math.round(l*d*.1)]})]}),t.jsxs("div",{className:"flex justify-between font-semibold text-lg border-t border-white/20 pt-2",children:[t.jsx("span",{className:"text-white",children:"Total:"}),t.jsxs("span",{className:"text-green-400",children:["R",Math.round(u().total)]})]})]})]})]})};export{l as RentalCalculator,l as default};
