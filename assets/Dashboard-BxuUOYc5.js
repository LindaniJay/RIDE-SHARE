var te=Object.defineProperty;var se=(c,u,m)=>u in c?te(c,u,{enumerable:!0,configurable:!0,writable:!0,value:m}):c[u]=m;var X=(c,u,m)=>se(c,typeof u!="symbol"?u+"":u,m);import{j as e}from"./query-CSyQ0w5Y.js";import{r as p,a as ae}from"./vendor-CBH9K-97.js";import{c as ie,L as F,R as re,a as M}from"./router-BWB2dKYR.js";import{I as h,a as E,c as K,u as le}from"./index-DRQhGEQP.js";import{G as ne}from"./Glassmorphism-B6x2MkMT.js";import"./ui-qr7cu0yN.js";const z=({status:c,size:u="md",className:m=""})=>{const o=()=>{switch(c){case"approved":case"verified":case"confirmed":case"completed":return{bg:"bg-green-500/20",text:"text-green-300",border:"border-green-500/30",icon:"✓"};case"pending":return{bg:"bg-yellow-500/20",text:"text-yellow-300",border:"border-yellow-500/30",icon:"Clock"};case"rejected":case"declined":case"cancelled":return{bg:"bg-red-500/20",text:"text-red-300",border:"border-red-500/30",icon:"✗"};case"unverified":return{bg:"bg-gray-500/20",text:"text-gray-300",border:"border-gray-500/30",icon:"○"};default:return{bg:"bg-gray-500/20",text:"text-gray-300",border:"border-gray-500/30",icon:"?"}}},N=()=>{switch(u){case"sm":return"px-2 py-1 text-xs";case"md":return"px-3 py-1 text-sm";case"lg":return"px-4 py-2 text-base";default:return"px-3 py-1 text-sm"}},r=o();return e.jsxs("span",{className:`
        inline-flex items-center space-x-1 rounded-full font-medium border
        ${r.bg} ${r.text} ${r.border} ${N()}
        ${m}
      `,children:[e.jsx(h,{name:r.icon,size:"sm"}),e.jsx("span",{className:"capitalize",children:c})]})},ce=({users:c,vehicles:u,profileCompletions:m,onApproveUser:o,onRejectUser:N,onApproveVehicle:r,onRejectVehicle:k,onApproveProfile:C,onRejectProfile:x})=>{const[w,g]=p.useState("profiles"),[y,d]=p.useState(null),[j,l]=p.useState(""),[i,n]=p.useState(""),f=c.filter(s=>s.approvalStatus==="pending"),t=u.filter(s=>s.approvalStatus==="pending"),b=m.filter(s=>s.status==="pending"),S=(s,R)=>{s==="user"?o(R,i):s==="vehicle"?r(R,i):s==="profile"&&C(R,i),d(null),n("")},L=(s,R)=>{j.trim()&&(s==="user"?N(R,j,i):s==="vehicle"?k(R,j,i):s==="profile"&&x(R,j,i),d(null),l(""),n(""))};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex space-x-1 bg-white/10 backdrop-blur-md rounded-lg p-1",children:[e.jsxs("button",{onClick:()=>g("profiles"),className:`flex-1 px-4 py-2 rounded-md text-sm font-medium transition-all duration-300 ${w==="profiles"?"bg-white/20 text-white":"text-white/70 hover:text-white"}`,children:[e.jsx(h,{name:"User",size:"sm",className:"mr-2"}),"Profiles (",b.length,")"]}),e.jsxs("button",{onClick:()=>g("users"),className:`flex-1 px-4 py-2 rounded-md text-sm font-medium transition-all duration-300 ${w==="users"?"bg-white/20 text-white":"text-white/70 hover:text-white"}`,children:[e.jsx(h,{name:"Users",size:"sm",className:"mr-2"}),"User Documents (",f.length,")"]}),e.jsxs("button",{onClick:()=>g("vehicles"),className:`flex-1 px-4 py-2 rounded-md text-sm font-medium transition-all duration-300 ${w==="vehicles"?"bg-white/20 text-white":"text-white/70 hover:text-white"}`,children:[e.jsx(h,{name:"Car",size:"sm",className:"mr-2"}),"Vehicle Listings (",t.length,")"]})]}),e.jsx("div",{className:"space-y-4",children:w==="users"?e.jsx("div",{className:"space-y-4",children:f.length===0?e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-white/70",children:"No pending user approvals"})}):f.map(s=>{var R,$,B;return e.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-xl p-4 border border-white/10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-white",children:[s.firstName," ",s.lastName]}),e.jsx("p",{className:"text-sm text-white/70",children:s.email}),e.jsxs("p",{className:"text-xs text-white/60",children:["Registered: ",s.createdAt?new Date(s.createdAt).toLocaleDateString():"N/A"]})]}),e.jsx("div",{className:"flex space-x-2",children:e.jsx("button",{onClick:()=>d(s.id),className:"px-3 py-1 bg-blue-500/20 text-blue-300 rounded-lg text-sm hover:bg-blue-500/30 transition-colors",children:"Review"})})]}),y===s.id&&e.jsxs("div",{className:"mt-4 p-4 bg-white/5 rounded-lg border border-white/10",children:[e.jsx("h4",{className:"text-sm font-medium text-white mb-3",children:"Documents to Review:"}),e.jsxs("div",{className:"space-y-2 mb-4",children:[((R=s.documents)==null?void 0:R.idDocument)&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-white/80",children:"ID Document"}),e.jsx("a",{href:s.documents.idDocument,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 text-sm",children:"View Document"})]}),(($=s.documents)==null?void 0:$.driverLicense)&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-white/80",children:"Driver's License"}),e.jsx("a",{href:s.documents.driverLicense,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 text-sm",children:"View Document"})]}),((B=s.documents)==null?void 0:B.proofOfAddress)&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-white/80",children:"Proof of Address"}),e.jsx("a",{href:s.documents.proofOfAddress,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 text-sm",children:"View Document"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/90 mb-1",children:"Admin Notes (Optional)"}),e.jsx("textarea",{value:i,onChange:v=>n(v.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/20",placeholder:"Add notes for the user...",rows:2})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{onClick:()=>S("user",s.id),className:"flex-1 bg-green-500/20 hover:bg-green-500/30 text-green-300 px-4 py-2 rounded-lg transition-all duration-300 border border-green-500/30",children:[e.jsx(h,{name:"CheckCircle",size:"sm",className:"mr-1"}),"Approve"]}),e.jsxs("button",{onClick:()=>{const v=prompt("Rejection reason:");v&&(l(v),L("user",s.id))},className:"flex-1 bg-red-500/20 hover:bg-red-500/30 text-red-300 px-4 py-2 rounded-lg transition-all duration-300 border border-red-500/30",children:[e.jsx(h,{name:"XCircle",size:"sm",className:"mr-1"}),"Reject"]})]})]})]})]},s.id)})}):w==="profiles"?e.jsx("div",{className:"space-y-4",children:b.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(h,{name:"User",size:"lg",className:"text-white/50 mb-4"}),e.jsx("p",{className:"text-white/70",children:"No pending profile completions"})]}):b.map(s=>e.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-xl p-4 border border-white/10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-white",children:["Profile Completion - ",s.userId]}),e.jsxs("p",{className:"text-sm text-white/70",children:["Submitted: ",new Date(s.submittedAt).toLocaleDateString()]}),e.jsxs("p",{className:"text-xs text-white/60",children:["Role: ",s.businessName?"Host":"Renter"]})]}),e.jsx("div",{className:"flex space-x-2",children:e.jsx("button",{onClick:()=>d(s.id||""),className:"px-3 py-1 bg-blue-500/20 text-blue-300 rounded-lg text-sm hover:bg-blue-500/30 transition-colors",children:"Review"})})]}),y===s.id&&e.jsxs("div",{className:"mt-4 p-4 bg-white/5 rounded-lg border border-white/10",children:[e.jsx("h4",{className:"text-sm font-medium text-white mb-3",children:"Profile Information:"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-white/60",children:"Date of Birth:"}),e.jsx("p",{className:"text-sm text-white/90",children:s.dateOfBirth})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-white/60",children:"Address:"}),e.jsxs("p",{className:"text-sm text-white/90",children:[s.address,", ",s.city]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-white/60",children:"Province:"}),e.jsx("p",{className:"text-sm text-white/90",children:s.province})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-white/60",children:"Emergency Contact:"}),e.jsxs("p",{className:"text-sm text-white/90",children:[s.emergencyContact," - ",s.emergencyPhone]})]}),s.businessName&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-white/60",children:"Business Name:"}),e.jsx("p",{className:"text-sm text-white/90",children:s.businessName})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-white/60",children:"Business Registration:"}),e.jsx("p",{className:"text-sm text-white/90",children:s.businessRegistration})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-white/60",children:"Bank Account:"}),e.jsx("p",{className:"text-sm text-white/90",children:s.bankAccount})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-white/60",children:"Tax Number:"}),e.jsx("p",{className:"text-sm text-white/90",children:s.taxNumber})]})]})]}),e.jsx("h4",{className:"text-sm font-medium text-white mb-3",children:"Documents to Review:"}),e.jsxs("div",{className:"space-y-2 mb-4",children:[s.idDocument&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-white/80",children:"ID Document"}),e.jsx("span",{className:"text-xs text-green-400",children:"Uploaded"})]}),s.driverLicense&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-white/80",children:"Driver's License"}),e.jsx("span",{className:"text-xs text-green-400",children:"Uploaded"})]}),s.proofOfAddress&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-white/80",children:"Proof of Address"}),e.jsx("span",{className:"text-xs text-green-400",children:"Uploaded"})]}),s.vehicleRegistration&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-white/80",children:"Vehicle Registration"}),e.jsx("span",{className:"text-xs text-green-400",children:"Uploaded"})]}),s.roadworthyCertificate&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-white/80",children:"Roadworthy Certificate"}),e.jsx("span",{className:"text-xs text-green-400",children:"Uploaded"})]}),s.insuranceCertificate&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-white/80",children:"Insurance Certificate"}),e.jsx("span",{className:"text-xs text-green-400",children:"Uploaded"})]})]}),e.jsxs("div",{className:"mt-4 space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/90 mb-2",children:"Admin Notes (Optional)"}),e.jsx("textarea",{value:i,onChange:R=>n(R.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/20",rows:3,placeholder:"Add any notes for the user..."})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>S("profile",s.id||""),className:"flex-1 px-4 py-2 bg-green-500/20 text-green-300 rounded-lg hover:bg-green-500/30 transition-colors",children:"Approve Profile"}),e.jsx("button",{onClick:()=>L("profile",s.id||""),className:"flex-1 px-4 py-2 bg-red-500/20 text-red-300 rounded-lg hover:bg-red-500/30 transition-colors",children:"Reject Profile"})]})]})]})]},s.id))}):e.jsx("div",{className:"space-y-4",children:t.length===0?e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-white/70",children:"No pending vehicle approvals"})}):t.map(s=>{var R,$,B;return e.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-xl p-4 border border-white/10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-white",children:[s.year," ",s.make," ",s.model]}),e.jsxs("p",{className:"text-sm text-white/70",children:["R",s.pricePerDay,"/day • ",s.location]}),e.jsxs("p",{className:"text-xs text-white/60",children:["Listed: ",s.createdAt?new Date(s.createdAt).toLocaleDateString():"N/A"]})]}),e.jsx("div",{className:"flex space-x-2",children:e.jsx("button",{onClick:()=>d(s.id),className:"px-3 py-1 bg-blue-500/20 text-blue-300 rounded-lg text-sm hover:bg-blue-500/30 transition-colors",children:"Review"})})]}),y===s.id&&e.jsxs("div",{className:"mt-4 p-4 bg-white/5 rounded-lg border border-white/10",children:[e.jsx("h4",{className:"text-sm font-medium text-white mb-3",children:"Vehicle Documents to Review:"}),e.jsxs("div",{className:"space-y-2 mb-4",children:[((R=s.documents)==null?void 0:R.registration)&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-white/80",children:"Registration"}),e.jsx("a",{href:s.documents.registration,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 text-sm",children:"View Document"})]}),(($=s.documents)==null?void 0:$.roadworthy)&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-white/80",children:"Roadworthy Certificate"}),e.jsx("a",{href:s.documents.roadworthy,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 text-sm",children:"View Document"})]}),((B=s.documents)==null?void 0:B.insurance)&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-white/80",children:"Insurance"}),e.jsx("a",{href:s.documents.insurance,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 text-sm",children:"View Document"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/90 mb-1",children:"Admin Notes (Optional)"}),e.jsx("textarea",{value:i,onChange:v=>n(v.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/20",placeholder:"Add notes for the host...",rows:2})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{onClick:()=>S("vehicle",s.id),className:"flex-1 bg-green-500/20 hover:bg-green-500/30 text-green-300 px-4 py-2 rounded-lg transition-all duration-300 border border-green-500/30",children:[e.jsx(h,{name:"CheckCircle",size:"sm",className:"mr-1"}),"Approve"]}),e.jsxs("button",{onClick:()=>{const v=prompt("Rejection reason:");v&&(l(v),L("vehicle",s.id))},className:"flex-1 bg-red-500/20 hover:bg-red-500/30 text-red-300 px-4 py-2 rounded-lg transition-all duration-300 border border-red-500/30",children:[e.jsx(h,{name:"XCircle",size:"sm",className:"mr-1"}),"Reject"]})]})]})]})]},s.id)})})})]})},de=({className:c=""})=>{const[u,m]=p.useState([]),[o,N]=p.useState(!0),[r,k]=p.useState("all");p.useEffect(()=>{C()},[]);const C=async()=>{try{const l=localStorage.getItem("authToken"),i=await fetch("/api/admin/fraud-alerts",{headers:{Authorization:`Bearer ${l}`,"Content-Type":"application/json"}});if(i.ok){const n=await i.json();m(n.alerts||[])}}catch(l){console.error("Error fetching fraud alerts:",l),m([{id:"1",type:"duplicate_document",severity:"high",userId:"user123",userName:"John Doe",description:"Driver license appears to be duplicated across multiple accounts",evidence:["document_hash_match","similar_photos"],confidence:85,status:"pending",createdAt:new Date(Date.now()-2*60*60*1e3)},{id:"2",type:"suspicious_activity",severity:"medium",userId:"user456",userName:"Jane Smith",description:"Unusual booking patterns detected - multiple bookings in different cities simultaneously",evidence:["location_anomaly","booking_frequency"],confidence:72,status:"investigating",createdAt:new Date(Date.now()-4*60*60*1e3)},{id:"3",type:"fake_identity",severity:"critical",userId:"user789",userName:"Mike Johnson",description:"ID document appears to be digitally altered or fake",evidence:["document_manipulation","metadata_anomaly"],confidence:95,status:"pending",createdAt:new Date(Date.now()-1*60*60*1e3)}])}finally{N(!1)}},x=async(l,i,n)=>{try{const f=localStorage.getItem("authToken");await fetch(`/api/admin/fraud-alerts/${l}`,{method:"PATCH",headers:{Authorization:`Bearer ${f}`,"Content-Type":"application/json"},body:JSON.stringify({status:i,adminNotes:n})}),m(t=>t.map(b=>b.id===l?{...b,status:i,adminNotes:n}:b))}catch(f){console.error("Error updating alert status:",f)}},w=l=>{switch(l){case"critical":return"text-red-400 bg-red-500/20 border-red-500/30";case"high":return"text-orange-400 bg-orange-500/20 border-orange-500/30";case"medium":return"text-yellow-400 bg-yellow-500/20 border-yellow-500/30";case"low":return"text-blue-400 bg-blue-500/20 border-blue-500/30";default:return"text-gray-400 bg-gray-500/20 border-gray-500/30"}},g=l=>{switch(l){case"critical":return"AlertTriangle";case"high":return"AlertTriangle";case"medium":return"Eye";case"low":return"Info";default:return"FileText"}},y=l=>{switch(l){case"duplicate_document":return"FileText";case"stolen_document":return"XCircle";case"suspicious_activity":return"Eye";case"fake_identity":return"User";default:return"Info"}},d=l=>{switch(l){case"pending":return"text-yellow-400";case"investigating":return"text-blue-400";case"resolved":return"text-green-400";case"false_positive":return"text-gray-400";default:return"text-white"}},j=u.filter(l=>r==="all"||l.status===r);return o?e.jsx("div",{className:`space-y-4 ${c}`,children:[...Array(3)].map((l,i)=>e.jsx("div",{className:"animate-pulse",children:e.jsx("div",{className:"h-24 bg-white/10 rounded-lg"})},i))}):e.jsxs("div",{className:`space-y-4 ${c}`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Fraud Detection"}),e.jsxs("p",{className:"text-white/70 text-sm",children:[u.filter(l=>l.status==="pending").length," pending alerts"]})]}),e.jsx("div",{className:"flex space-x-2",children:["all","pending","investigating","resolved"].map(l=>e.jsx("button",{onClick:()=>k(l),className:`px-3 py-1 rounded-lg text-sm transition-colors ${r===l?"bg-blue-500/20 text-blue-300 border border-blue-500/30":"bg-white/10 text-white/70 hover:bg-white/20"}`,children:l.charAt(0).toUpperCase()+l.slice(1)},l))})]}),e.jsx("div",{className:"space-y-3",children:j.map(l=>e.jsxs("div",{className:"bg-white/10 rounded-lg p-4 border border-white/20 hover:bg-white/20 transition-all duration-300",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(h,{name:y(l.type),size:"lg"}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx(h,{name:g(l.severity),size:"sm"}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs border ${w(l.severity)}`,children:l.severity.toUpperCase()}),e.jsx("span",{className:`text-sm ${d(l.status)}`,children:l.status.charAt(0).toUpperCase()+l.status.slice(1)})]}),e.jsx("h4",{className:"text-white font-medium",children:l.userName}),e.jsx("p",{className:"text-white/70 text-sm",children:l.description})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-sm text-white/70",children:[l.confidence,"% confidence"]}),e.jsx("div",{className:"text-xs text-white/50",children:l.createdAt.toLocaleString()})]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("p",{className:"text-xs text-white/60 mb-1",children:"Evidence:"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:l.evidence.map((i,n)=>e.jsx("span",{className:"px-2 py-1 bg-white/10 rounded text-xs text-white/70",children:i.replace(/_/g," ")},n))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex space-x-2",children:[l.status==="pending"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>x(l.id,"investigating"),className:"px-3 py-1 bg-blue-500/20 text-blue-300 rounded-lg text-sm hover:bg-blue-500/30 transition-colors",children:"Investigate"}),e.jsx("button",{onClick:()=>x(l.id,"false_positive"),className:"px-3 py-1 bg-gray-500/20 text-gray-300 rounded-lg text-sm hover:bg-gray-500/30 transition-colors",children:"False Positive"})]}),l.status==="investigating"&&e.jsx("button",{onClick:()=>x(l.id,"resolved"),className:"px-3 py-1 bg-green-500/20 text-green-300 rounded-lg text-sm hover:bg-green-500/30 transition-colors",children:"Resolve"})]}),e.jsx("button",{className:"px-3 py-1 bg-white/10 text-white rounded-lg text-sm hover:bg-white/20 transition-colors",children:"View Details"})]})]},l.id))}),j.length===0&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"mb-4",children:e.jsx(h,{name:"Shield",size:"lg",className:"text-white/50 mx-auto"})}),e.jsx("p",{className:"text-white/70",children:"No fraud alerts found"}),e.jsx("p",{className:"text-white/50 text-sm",children:"Great job keeping the platform secure!"})]})]})},oe=({className:c=""})=>{const[u,m]=p.useState([]),[o,N]=p.useState([]),[r,k]=p.useState(!0),[C,x]=p.useState("rules");p.useEffect(()=>{w()},[]);const w=async()=>{try{const n=localStorage.getItem("authToken"),f=await fetch("/api/admin/commission-rules",{headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"}}),t=await fetch("/api/admin/payouts",{headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"}});if(f.ok){const b=await f.json();m(b.rules||[])}if(t.ok){const b=await t.json();N(b.payouts||[])}}catch(n){console.error("Error fetching data:",n),m([{id:"1",name:"Standard Commission",type:"percentage",value:15,applicableTo:"all",isActive:!0},{id:"2",name:"New Host Bonus",type:"percentage",value:10,applicableTo:"new_hosts",isActive:!0},{id:"3",name:"Premium Host Rate",type:"percentage",value:20,applicableTo:"premium_hosts",isActive:!0}]),N([{id:"1",hostId:"host1",hostName:"John M.",amount:5e3,commission:750,netAmount:4250,status:"pending",scheduledDate:new Date(Date.now()+7*24*60*60*1e3)},{id:"2",hostId:"host2",hostName:"Sarah K.",amount:3200,commission:480,netAmount:2720,status:"processing",scheduledDate:new Date(Date.now()+3*24*60*60*1e3)},{id:"3",hostId:"host3",hostName:"Mike D.",amount:1800,commission:270,netAmount:1530,status:"completed",scheduledDate:new Date(Date.now()-2*24*60*60*1e3),completedDate:new Date(Date.now()-1*24*60*60*1e3)}])}finally{k(!1)}},g=async(n,f)=>{try{const t=localStorage.getItem("authToken");await fetch(`/api/admin/commission-rules/${n}`,{method:"PATCH",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify(f)}),m(b=>b.map(S=>S.id===n?{...S,...f}:S))}catch(t){console.error("Error updating commission rule:",t)}},y=async n=>{try{const f=localStorage.getItem("authToken");await fetch(`/api/admin/payouts/${n}/process`,{method:"POST",headers:{Authorization:`Bearer ${f}`,"Content-Type":"application/json"}}),N(t=>t.map(b=>b.id===n?{...b,status:"processing"}:b))}catch(f){console.error("Error processing payout:",f)}},d=n=>{switch(n){case"pending":return"text-yellow-400 bg-yellow-500/20 border-yellow-500/30";case"processing":return"text-blue-400 bg-blue-500/20 border-blue-500/30";case"completed":return"text-green-400 bg-green-500/20 border-green-500/30";case"failed":return"text-red-400 bg-red-500/20 border-red-500/30";default:return"text-gray-400 bg-gray-500/20 border-gray-500/30"}},j=n=>{switch(n){case"pending":return"Clock";case"processing":return"Settings";case"completed":return"CheckCircle";case"failed":return"XCircle";default:return"FileText"}},l=o.filter(n=>n.status==="pending").reduce((n,f)=>n+f.netAmount,0),i=o.filter(n=>n.status==="completed").reduce((n,f)=>n+f.commission,0);return r?e.jsx("div",{className:`space-y-4 ${c}`,children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-8 bg-white/10 rounded w-1/3 mb-4"}),e.jsx("div",{className:"h-32 bg-white/10 rounded-lg"})]})}):e.jsxs("div",{className:`space-y-4 ${c}`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Commission & Payouts"}),e.jsx("p",{className:"text-white/70 text-sm",children:"Manage platform commissions and host payouts"})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>x("rules"),className:`px-3 py-1 rounded-lg text-sm transition-colors ${C==="rules"?"bg-blue-500/20 text-blue-300 border border-blue-500/30":"bg-white/10 text-white/70 hover:bg-white/20"}`,children:"Commission Rules"}),e.jsx("button",{onClick:()=>x("payouts"),className:`px-3 py-1 rounded-lg text-sm transition-colors ${C==="payouts"?"bg-blue-500/20 text-blue-300 border border-blue-500/30":"bg-white/10 text-white/70 hover:bg-white/20"}`,children:"Payouts"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx("div",{className:"bg-white/10 rounded-lg p-4 border border-white/20",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-white/70 text-sm",children:"Pending Payouts"}),e.jsxs("p",{className:"text-2xl font-bold text-white",children:["R",l.toLocaleString()]})]}),e.jsx(h,{name:"DollarSign",size:"lg"})]})}),e.jsx("div",{className:"bg-white/10 rounded-lg p-4 border border-white/20",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-white/70 text-sm",children:"Total Commission"}),e.jsxs("p",{className:"text-2xl font-bold text-white",children:["R",i.toLocaleString()]})]}),e.jsx(h,{name:"BarChart",size:"lg"})]})}),e.jsx("div",{className:"bg-white/10 rounded-lg p-4 border border-white/20",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-white/70 text-sm",children:"Active Rules"}),e.jsx("p",{className:"text-2xl font-bold text-white",children:u.filter(n=>n.isActive).length})]}),e.jsx(h,{name:"Settings",size:"lg"})]})})]}),C==="rules"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"text-md font-medium text-white",children:"Commission Rules"}),e.jsx("button",{className:"px-3 py-1 bg-green-500/20 text-green-300 rounded-lg text-sm hover:bg-green-500/30 transition-colors",children:"+ Add Rule"})]}),e.jsx("div",{className:"space-y-3",children:u.map(n=>e.jsx("div",{className:"bg-white/10 rounded-lg p-4 border border-white/20",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(h,{name:"Settings",size:"sm"}),e.jsxs("div",{children:[e.jsx("h5",{className:"text-white font-medium",children:n.name}),e.jsxs("p",{className:"text-white/70 text-sm",children:[n.type==="percentage"?`${n.value}%`:`R${n.value}`," •",n.applicableTo.replace("_"," ")," •",n.isActive?"Active":"Inactive"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>g(n.id,{isActive:!n.isActive}),className:`px-3 py-1 rounded-lg text-sm transition-colors ${n.isActive?"bg-green-500/20 text-green-300 hover:bg-green-500/30":"bg-gray-500/20 text-gray-300 hover:bg-gray-500/30"}`,children:n.isActive?"Deactivate":"Activate"}),e.jsx("button",{className:"px-3 py-1 bg-white/10 text-white rounded-lg text-sm hover:bg-white/20 transition-colors",children:"Edit"})]})]})},n.id))})]}),C==="payouts"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"text-md font-medium text-white",children:"Host Payouts"}),e.jsx("button",{className:"px-3 py-1 bg-blue-500/20 text-blue-300 rounded-lg text-sm hover:bg-blue-500/30 transition-colors",children:"Process All Pending"})]}),e.jsx("div",{className:"space-y-3",children:o.map(n=>e.jsx("div",{className:"bg-white/10 rounded-lg p-4 border border-white/20",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"text-lg",children:j(n.status)}),e.jsxs("div",{children:[e.jsx("h5",{className:"text-white font-medium",children:n.hostName}),e.jsxs("p",{className:"text-white/70 text-sm",children:["R",n.amount.toLocaleString()," • Commission: R",n.commission.toLocaleString()," • Net: R",n.netAmount.toLocaleString()]}),e.jsxs("p",{className:"text-white/50 text-xs",children:["Scheduled: ",n.scheduledDate.toLocaleDateString(),n.completedDate&&e.jsxs("span",{children:[" • Completed: ",n.completedDate.toLocaleDateString()]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`px-2 py-1 rounded-full text-xs border ${d(n.status)}`,children:n.status.charAt(0).toUpperCase()+n.status.slice(1)}),n.status==="pending"&&e.jsx("button",{onClick:()=>y(n.id),className:"px-3 py-1 bg-blue-500/20 text-blue-300 rounded-lg text-sm hover:bg-blue-500/30 transition-colors",children:"Process"})]})]})},n.id))})]})]})},xe=()=>{const[c,u]=p.useState({totalUsers:0,totalVehicles:0,totalBookings:0,totalRevenue:0,activeUsers:0,pendingBookings:0,supportTickets:0}),[m,o]=p.useState([]),[N,r]=p.useState([]),[k,C]=p.useState([]),[x]=p.useState([]),[w,g]=p.useState([]),[y,d]=p.useState([]),[j,l]=p.useState(!0),[i,n]=p.useState("overview");p.useEffect(()=>{f()},[]);const f=async()=>{var a,A,D,W,J,G;l(!0);try{const[I,_,O,q,H,Y]=await Promise.all([E.get("/admin/users"),E.get("/admin/vehicles"),E.get("/admin/bookings"),E.get("/admin/documents"),E.get("/admin/disputes"),E.get("/admin/stats")]);I.success?o(((a=I.data)==null?void 0:a.users)||[]):console.error("Failed to fetch users:",I.message),_.success?r(((A=_.data)==null?void 0:A.vehicles)||[]):console.error("Failed to fetch vehicles:",_.message),O.success?C(((D=O.data)==null?void 0:D.bookings)||[]):console.error("Failed to fetch bookings:",O.message),q.success?g(((W=q.data)==null?void 0:W.documents)||[]):console.error("Failed to fetch documents:",q.message),H.success?d(((J=H.data)==null?void 0:J.disputes)||[]):console.error("Failed to fetch disputes:",H.message),Y.success?u(((G=Y.data)==null?void 0:G.stats)||{totalUsers:0,totalVehicles:0,totalBookings:0,totalRevenue:0,activeUsers:0,pendingBookings:0,supportTickets:0}):console.error("Failed to fetch stats:",Y.message)}catch(I){console.error("Error fetching admin data:",I),o([]),r([]),C([]),g([]),d([]),u({totalUsers:0,totalVehicles:0,totalBookings:0,totalRevenue:0,activeUsers:0,pendingBookings:0,supportTickets:0})}finally{l(!1)}},t=a=>`R${a.toLocaleString()}`,b=a=>new Date(a).toLocaleDateString(),S=a=>{switch(a){case"active":case"confirmed":return"text-green-600 bg-green-100 dark:bg-green-900/20";case"pending":return"text-yellow-600 bg-yellow-100 dark:bg-yellow-900/20";case"cancelled":return"text-red-600 bg-red-100 dark:bg-red-900/20";default:return"text-gray-600 bg-gray-100 dark:bg-gray-700"}},L=a=>{r(A=>A.map(D=>D.id===a?{...D,status:"approved"}:D))},s=a=>{r(A=>A.map(D=>D.id===a?{...D,status:"declined"}:D))},R=a=>{g(A=>A.map(D=>D.id===a?{...D,status:"approved"}:D))},$=a=>{g(A=>A.map(D=>D.id===a?{...D,status:"rejected"}:D))},B=a=>{d(A=>A.map(D=>D.id===a?{...D,status:"resolved"}:D))},v=a=>{o(A=>A.map(D=>D.id===a?{...D,isActive:!1}:D))},T=a=>{o(A=>A.map(D=>D.id===a?{...D,isActive:!0}:D))};return j?e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-8 bg-gray-300 dark:bg-gray-700 rounded w-1/3 mb-8"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[...Array(4)].map((a,A)=>e.jsx("div",{className:"h-32 bg-gray-300 dark:bg-gray-700 rounded-lg"},A))})]})})}):e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Admin Dashboard"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Manage your RideShare SA platform"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900/20 rounded-lg flex items-center justify-center mr-4",children:e.jsx("span",{className:"text-blue-600 text-xl",children:"👥"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:c.totalUsers.toLocaleString()}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Total Users"})]})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 dark:bg-green-900/20 rounded-lg flex items-center justify-center mr-4",children:e.jsx(h,{name:"Car",size:"lg",className:"text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:c.totalVehicles.toLocaleString()}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Total Vehicles"})]})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-100 dark:bg-purple-900/20 rounded-lg flex items-center justify-center mr-4",children:e.jsx(h,{name:"Clipboard",size:"lg",className:"text-purple-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:c.totalBookings.toLocaleString()}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Total Bookings"})]})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-12 h-12 bg-yellow-100 dark:bg-yellow-900/20 rounded-lg flex items-center justify-center mr-4",children:e.jsx(h,{name:"DollarSign",size:"lg",className:"text-yellow-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t(c.totalRevenue)}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Total Revenue"})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Active Users"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:c.activeUsers.toLocaleString()})]}),e.jsx("div",{className:"w-12 h-12 bg-green-100 dark:bg-green-900/20 rounded-lg flex items-center justify-center",children:e.jsx(h,{name:"CheckCircle",size:"lg",className:"text-green-600"})})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Pending Bookings"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:c.pendingBookings})]}),e.jsx("div",{className:"w-12 h-12 bg-yellow-100 dark:bg-yellow-900/20 rounded-lg flex items-center justify-center",children:e.jsx(h,{name:"Clock",size:"lg",className:"text-yellow-600"})})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Support Tickets"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:c.supportTickets})]}),e.jsx("div",{className:"w-12 h-12 bg-red-100 dark:bg-red-900/20 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-red-600 text-xl",children:"🎫"})})]})})]}),e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:e.jsx("nav",{className:"-mb-px flex space-x-8 overflow-x-auto",children:[{id:"overview",name:"Overview",icon:"BarChart"},{id:"approvals",name:"Approvals",icon:"CheckCircle"},{id:"fraud",name:"Fraud Detection",icon:"Shield"},{id:"commission",name:"Commission",icon:"DollarSign"},{id:"users",name:"Users",icon:"Users"},{id:"vehicles",name:"Vehicles",icon:"Car"},{id:"bookings",name:"Bookings",icon:"Clipboard"},{id:"documents",name:"Documents",icon:"FileText"},{id:"disputes",name:"Disputes",icon:"Scale"},{id:"analytics",name:"Analytics",icon:"TrendingUp"}].map(a=>e.jsxs("button",{onClick:()=>n(a.id),className:`py-2 px-1 border-b-2 font-medium text-sm whitespace-nowrap ${i===a.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(h,{name:a.icon,size:"sm",className:"mr-2"}),a.name]},a.id))})})}),i==="overview"&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Recent Bookings"}),e.jsx("div",{className:"space-y-4",children:k.slice(0,5).map(a=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:a.vehicleName}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[a.renterName," → ",a.hostName]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:t(a.totalAmount)}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${S(a.status)}`,children:a.status})]})]},a.id))})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Platform Health"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Uptime"}),e.jsx("span",{className:"font-semibold text-green-600",children:"99.9%"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Response Time"}),e.jsx("span",{className:"font-semibold text-green-600",children:"120ms"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Error Rate"}),e.jsx("span",{className:"font-semibold text-green-600",children:"0.1%"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Active Sessions"}),e.jsx("span",{className:"font-semibold text-blue-600",children:"1,247"})]})]})]})]}),i==="approvals"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Document & Listing Approvals"}),e.jsx(ce,{users:m,vehicles:N,profileCompletions:x,onApproveUser:(a,A)=>{console.log("Approving user:",a,A)},onRejectUser:(a,A,D)=>{console.log("Rejecting user:",a,A,D)},onApproveVehicle:(a,A)=>{console.log("Approving vehicle:",a,A)},onRejectVehicle:(a,A,D)=>{console.log("Rejecting vehicle:",a,A,D)},onApproveProfile:(a,A)=>{console.log("Approving profile:",a,A)},onRejectProfile:(a,A,D)=>{console.log("Rejecting profile:",a,A,D)}})]})}),i==="fraud"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Fraud Detection System"}),e.jsx(de,{})]})}),i==="commission"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Commission & Payout Management"}),e.jsx(oe,{})]})}),i==="users"&&e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"User Management"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"User"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Role"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Join Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Bookings"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:m.map(a=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-10 h-10 bg-primary-100 dark:bg-primary-900 rounded-full flex items-center justify-center mr-3",children:e.jsx("span",{className:"text-primary-600 text-sm font-medium",children:a.firstName.charAt(0)})}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[a.firstName," ",a.lastName]}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:a.email})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-blue-100 dark:bg-blue-900/20 text-blue-800 dark:text-blue-300",children:a.role})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:b(a.joinDate)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:a.totalBookings}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${a.isActive?"bg-green-100 dark:bg-green-900/20 text-green-800 dark:text-green-300":"bg-red-100 dark:bg-red-900/20 text-red-800 dark:text-red-300"}`,children:a.isActive?"Active":"Inactive"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{className:"text-blue-600 hover:text-blue-900",children:"Edit"}),a.isActive?e.jsx("button",{onClick:()=>v(a.id),className:"text-red-600 hover:text-red-900",children:"Suspend"}):e.jsx("button",{onClick:()=>T(a.id),className:"text-green-600 hover:text-green-900",children:"Activate"})]})})]},a.id))})]})})]}),i==="vehicles"&&e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Vehicle Management"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Vehicle"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Host"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Location"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Price/Day"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Bookings"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Rating"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Status"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:N.map(a=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[a.make," ",a.model," ",a.year]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:a.hostName}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:a.location}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:t(a.pricePerDay)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:a.totalBookings}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(h,{name:"Star",size:"sm",className:"text-yellow-400"}),e.jsx("span",{className:"ml-1",children:a.rating})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${S(a.status)}`,children:a.status}),a.status==="pending"&&e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("button",{onClick:()=>L(a.id),className:"px-2 py-1 text-xs bg-green-100 text-green-800 rounded hover:bg-green-200",children:"Approve"}),e.jsx("button",{onClick:()=>s(a.id),className:"px-2 py-1 text-xs bg-red-100 text-red-800 rounded hover:bg-red-200",children:"Decline"})]})]})})]},a.id))})]})})]}),i==="bookings"&&e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Booking Management"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Booking"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Renter"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Host"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Dates"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Amount"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Status"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:k.map(a=>e.jsxs("tr",{children:[e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:a.vehicleName}),e.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["#",a.id]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:a.renterName}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:a.hostName}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:[e.jsx("div",{children:b(a.pickupDate)}),e.jsxs("div",{className:"text-gray-500 dark:text-gray-400",children:["to ",b(a.returnDate)]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:t(a.totalAmount)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${S(a.status)}`,children:a.status})})]},a.id))})]})})]}),i==="documents"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Document Approval"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-1",children:"Review and approve user documents"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"User"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Document Type"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"File Name"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Uploaded"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:w.map(a=>e.jsxs("tr",{children:[e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:a.user}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:a.userEmail})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white capitalize",children:a.type.replace("_"," ")}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:a.fileName}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:b(a.uploadedAt)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx(z,{status:a.status})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>R(a.id),className:"text-green-600 hover:text-green-900",children:"Approve"}),e.jsx("button",{onClick:()=>$(a.id),className:"text-red-600 hover:text-red-900",children:"Reject"}),e.jsx("button",{className:"text-blue-600 hover:text-blue-900",children:"View"})]})})]},a.id))})]})})]})}),i==="disputes"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Dispute Management"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-1",children:"Handle user disputes and issues"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Dispute"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Parties"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Type"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Priority"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:y.map(a=>e.jsxs("tr",{children:[e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:a.title}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 max-w-xs truncate",children:a.description})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:[e.jsx("div",{children:a.renter}),e.jsxs("div",{className:"text-gray-500 dark:text-gray-400",children:["vs ",a.host]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white capitalize",children:a.type.replace("_"," ")}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${a.priority==="high"?"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-300":a.priority==="medium"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-300":"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300"}`,children:a.priority})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx(z,{status:a.status})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{className:"text-blue-600 hover:text-blue-900",children:"View Details"}),a.status!=="resolved"&&e.jsx("button",{onClick:()=>B(a.id),className:"text-green-600 hover:text-green-900",children:"Resolve"})]})})]},a.id))})]})})]})}),i==="analytics"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"User Analytics"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Total Users"}),e.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:c.totalUsers})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Active Users"}),e.jsx("span",{className:"font-semibold text-green-600",children:c.activeUsers})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"New This Month"}),e.jsx("span",{className:"font-semibold text-blue-600",children:"12"})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Revenue Analytics"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Total Revenue"}),e.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:t(c.totalRevenue)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"This Month"}),e.jsxs("span",{className:"font-semibold text-green-600",children:["R",Math.floor(c.totalRevenue*.3).toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Growth Rate"}),e.jsx("span",{className:"font-semibold text-blue-600",children:"+15.2%"})]})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Platform Health"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:"99.9%"}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Uptime"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:"120ms"}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Avg Response Time"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:"1,247"}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Active Sessions"})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Monthly Revenue Chart"}),e.jsx("div",{className:"h-64 flex items-center justify-center text-gray-500 dark:text-gray-400",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mb-4",children:e.jsx(h,{name:"BarChart",size:"lg",className:"text-gray-400 mx-auto"})}),e.jsx("p",{children:"Revenue chart would be displayed here"}),e.jsx("p",{className:"text-sm",children:"Integration with chart library needed"})]})})]})]})]})})},P=({children:c,className:u="",title:m,subtitle:o,icon:N,hover:r=!0})=>e.jsxs(ne,{variant:"card",className:`rounded-2xl p-6 ${r?"hover:scale-105":""} ${u}`,shadow:!0,children:[(m||o||N)&&e.jsxs("div",{className:"flex items-center mb-4",children:[N&&e.jsx("div",{className:"w-12 h-12 bg-white/20 dark:bg-white/10 rounded-xl flex items-center justify-center mr-4",children:N}),e.jsxs("div",{children:[m&&e.jsx("h3",{className:"text-lg font-semibold text-white dark:text-white mb-1",children:m}),o&&e.jsx("p",{className:"text-white/70 dark:text-white/60 text-sm",children:o})]})]}),c]}),U=({label:c,name:u,value:m,onChange:o,accept:N="image/*,.pdf",required:r=!1,error:k,className:C,description:x})=>{const[w,g]=p.useState(!1),y=f=>{f&&o(f)},d=f=>{f.preventDefault(),g(!1);const t=Array.from(f.dataTransfer.files);t.length>0&&y(t[0])},j=f=>{f.preventDefault(),g(!0)},l=f=>{f.preventDefault(),g(!1)},i=f=>{var b;const t=(b=f.target.files)==null?void 0:b[0];t&&y(t)},n=()=>{o(void 0)};return e.jsxs("div",{className:K("space-y-2",C),children:[e.jsxs("label",{className:"block text-sm font-medium text-white/90",children:[c,r&&e.jsx("span",{className:"text-red-400 ml-1",children:"*"})]}),x&&e.jsx("p",{className:"text-xs text-white/70",children:x}),e.jsx("div",{className:K("relative border-2 border-dashed rounded-lg p-6 transition-all duration-300",w?"border-blue-400 bg-blue-500/10":"border-white/20 hover:border-white/40",k?"border-red-400 bg-red-500/10":"bg-white/5 backdrop-blur-md","hover:bg-white/10"),onDrop:d,onDragOver:j,onDragLeave:l,children:m?e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-green-500/20 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-white",children:m.name}),e.jsxs("p",{className:"text-xs text-white/70",children:[(m.size/1024/1024).toFixed(2)," MB"]})]})]}),e.jsx("button",{type:"button",onClick:n,className:"text-red-400 hover:text-red-300 transition-colors",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}):e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 mx-auto mb-4 bg-white/10 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white/70",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})})}),e.jsx("p",{className:"text-sm text-white/80 mb-2",children:w?"Drop your file here":"Drag and drop your file here"}),e.jsx("p",{className:"text-xs text-white/60 mb-4",children:"or click to browse (JPG, PNG, PDF up to 10MB)"}),e.jsx("input",{type:"file",name:u,accept:N,onChange:i,className:"hidden",id:`file-input-${u}`,required:r}),e.jsxs("label",{htmlFor:`file-input-${u}`,className:"inline-flex items-center px-4 py-2 bg-white/10 hover:bg-white/20 text-white text-sm font-medium rounded-lg transition-all duration-300 cursor-pointer border border-white/20",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Choose File"]})]})}),k&&e.jsx("p",{className:"text-xs text-red-400 mt-1",children:k})]})},me=({userId:c,className:u=""})=>{const[m,o]=p.useState([]),[N,r]=p.useState(!0);p.useEffect(()=>{k()},[c]);const k=async()=>{try{const x=localStorage.getItem("authToken"),w=await fetch(`/api/users/${c}/saved-vehicles`,{headers:{Authorization:`Bearer ${x}`,"Content-Type":"application/json"}});if(w.ok){const g=await w.json();o(g.vehicles||[])}}catch(x){console.error("Error fetching saved vehicles:",x),o([{id:"1",hostId:"host1",make:"Toyota",model:"Hilux",year:2022,type:"bakkie",pricePerDay:250,location:"Cape Town",images:["https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?w=400"],features:[],status:"approved",approvalStatus:"approved",description:"Perfect for your South African adventure!",fuelType:"petrol",transmission:"manual",seats:5,doors:4,isAvailable:!0,rating:4.8,reviewCount:24,createdAt:new Date,updatedAt:new Date}])}finally{r(!1)}},C=async x=>{try{const w=localStorage.getItem("authToken");await fetch(`/api/users/${c}/saved-vehicles/${x}`,{method:"DELETE",headers:{Authorization:`Bearer ${w}`,"Content-Type":"application/json"}}),o(g=>g.filter(y=>y.id!==x))}catch(w){console.error("Error removing saved vehicle:",w)}};return N?e.jsx("div",{className:`space-y-4 ${u}`,children:[...Array(3)].map((x,w)=>e.jsx("div",{className:"animate-pulse",children:e.jsx("div",{className:"h-32 bg-white/10 rounded-xl"})},w))}):e.jsx("div",{className:`space-y-4 ${u}`,children:m.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(h,{name:"Heart",size:"lg",className:"text-white/50 mb-4"}),e.jsx("p",{className:"text-white/70",children:"No saved vehicles yet"}),e.jsx("p",{className:"text-white/50 text-sm",children:"Browse vehicles and save your favorites!"})]}):m.map(x=>e.jsx("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-4 border border-white/20 hover:bg-white/20 transition-all duration-300",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("img",{src:x.images[0],alt:`${x.make} ${x.model}`,className:"w-20 h-20 object-cover rounded-lg"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("h3",{className:"text-lg font-semibold text-white",children:[x.year," ",x.make," ",x.model]}),e.jsx("p",{className:"text-white/70 text-sm mb-2",children:x.location}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("span",{className:"text-yellow-400 flex items-center space-x-1",children:[e.jsx(h,{name:"Star",size:"sm"}),e.jsx("span",{children:x.rating})]}),e.jsxs("span",{className:"text-white/70",children:["(",x.reviewCount," reviews)"]}),e.jsxs("span",{className:"text-green-400 font-semibold",children:["R",x.pricePerDay,"/day"]})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{className:"px-3 py-1 bg-blue-500/20 text-blue-300 rounded-lg text-sm hover:bg-blue-500/30 transition-colors",children:"View Details"}),e.jsx("button",{onClick:()=>C(x.id),className:"px-3 py-1 bg-red-500/20 text-red-300 rounded-lg text-sm hover:bg-red-500/30 transition-colors",children:"Remove"})]})]})},x.id))})},he=({userId:c,className:u=""})=>{const[m,o]=p.useState([]),[N,r]=p.useState(!0);p.useEffect(()=>{k()},[c]);const k=async()=>{try{const g=localStorage.getItem("authToken"),y=await fetch(`/api/users/${c}/documents`,{headers:{Authorization:`Bearer ${g}`,"Content-Type":"application/json"}});if(y.ok){const d=await y.json();o(d.documents||[])}}catch(g){console.error("Error fetching documents:",g),o([{id:"1",type:"driver_license",name:"Driver License",expiryDate:new Date(Date.now()+30*24*60*60*1e3),status:"expiring_soon",daysUntilExpiry:30},{id:"2",type:"id_document",name:"South African ID",expiryDate:new Date(Date.now()+365*24*60*60*1e3),status:"valid",daysUntilExpiry:365}])}finally{r(!1)}},C=g=>{switch(g){case"expired":return"text-red-400 bg-red-500/20 border-red-500/30";case"expiring_soon":return"text-yellow-400 bg-yellow-500/20 border-yellow-500/30";case"valid":return"text-green-400 bg-green-500/20 border-green-500/30";default:return"text-gray-400 bg-gray-500/20 border-gray-500/30"}},x=g=>{switch(g){case"expired":return"XCircle";case"expiring_soon":return"AlertTriangle";case"valid":return"CheckCircle";default:return"FileText"}},w=g=>{switch(g){case"driver_license":return"Car";case"id_document":return"CreditCard";case"proof_of_address":return"Home";default:return"FileText"}};return N?e.jsx("div",{className:`space-y-3 ${u}`,children:[...Array(2)].map((g,y)=>e.jsx("div",{className:"animate-pulse",children:e.jsx("div",{className:"h-16 bg-white/10 rounded-lg"})},y))}):e.jsx("div",{className:`space-y-3 ${u}`,children:m.length===0?e.jsxs("div",{className:"text-center py-4",children:[e.jsx(h,{name:"FileText",size:"lg",className:"text-white/50 mb-2"}),e.jsx("p",{className:"text-white/70 text-sm",children:"No documents uploaded yet"})]}):m.map(g=>e.jsx("div",{className:`p-3 rounded-lg border ${C(g.status)}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(h,{name:w(g.type),size:"sm"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-white",children:g.name}),e.jsxs("p",{className:"text-xs text-white/70",children:["Expires: ",g.expiryDate.toLocaleDateString()]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(h,{name:x(g.status),size:"sm"}),e.jsx("span",{className:"text-xs",children:g.status==="expired"?"Expired":g.status==="expiring_soon"?`${g.daysUntilExpiry} days`:"Valid"})]}),g.status==="expiring_soon"&&e.jsx("button",{className:"text-xs text-blue-400 hover:text-blue-300 transition-colors mt-1",children:"Renew Now"})]})]})},g.id))})},ue=({userId:c,className:u=""})=>{const[m,o]=p.useState([]),[N,r]=p.useState(!0),[k,C]=p.useState("");p.useEffect(()=>{x()},[c]);const x=async()=>{try{const d=localStorage.getItem("authToken"),j=await fetch(`/api/users/${c}/promotions`,{headers:{Authorization:`Bearer ${d}`,"Content-Type":"application/json"}});if(j.ok){const l=await j.json();o(l.promotions||[])}}catch(d){console.error("Error fetching promotions:",d),o([{id:"1",code:"WELCOME20",title:"Welcome Bonus",description:"20% off your first booking",discountType:"percentage",discountValue:20,minBookingAmount:500,validUntil:new Date(Date.now()+30*24*60*60*1e3),isActive:!0,usageCount:0,maxUsage:1},{id:"2",code:"SAVE100",title:"Fixed Discount",description:"R100 off bookings over R1000",discountType:"fixed",discountValue:100,minBookingAmount:1e3,validUntil:new Date(Date.now()+14*24*60*60*1e3),isActive:!0,usageCount:0,maxUsage:3}])}finally{r(!1)}},w=async d=>{try{const j=localStorage.getItem("authToken");(await fetch(`/api/users/${c}/promotions/apply`,{method:"POST",headers:{Authorization:`Bearer ${j}`,"Content-Type":"application/json"},body:JSON.stringify({code:d})})).ok&&C(d)}catch(j){console.error("Error applying promo code:",j)}},g=d=>d.discountType==="percentage"?`${d.discountValue}% off`:`R${d.discountValue} off`,y=d=>new Date>d;return N?e.jsx("div",{className:`space-y-3 ${u}`,children:[...Array(2)].map((d,j)=>e.jsx("div",{className:"animate-pulse",children:e.jsx("div",{className:"h-20 bg-white/10 rounded-lg"})},j))}):e.jsx("div",{className:`space-y-4 ${u}`,children:m.length===0?e.jsxs("div",{className:"text-center py-4",children:[e.jsx(h,{name:"Gift",size:"lg",className:"text-white/50 mb-2"}),e.jsx("p",{className:"text-white/70 text-sm",children:"No promotions available"})]}):m.map(d=>e.jsxs("div",{className:`p-4 rounded-lg border ${y(d.validUntil)?"bg-gray-500/20 border-gray-500/30":"bg-green-500/20 border-green-500/30"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(h,{name:"Gift",size:"sm"}),e.jsx("span",{className:"font-semibold text-white",children:d.title}),e.jsxs("span",{className:"text-xs text-white/70",children:["(",d.code,")"]})]}),e.jsx("span",{className:`text-sm font-bold ${y(d.validUntil)?"text-gray-400":"text-green-400"}`,children:g(d)})]}),e.jsx("p",{className:"text-sm text-white/80 mb-3",children:d.description}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-xs text-white/60",children:["Valid until: ",d.validUntil.toLocaleDateString(),d.minBookingAmount&&e.jsxs("span",{className:"ml-2",children:["• Min: R",d.minBookingAmount]})]}),!y(d.validUntil)&&e.jsx("button",{onClick:()=>w(d.code),className:`px-3 py-1 rounded-lg text-xs font-medium transition-colors ${k===d.code?"bg-blue-500/20 text-blue-300":"bg-white/10 text-white hover:bg-white/20"}`,children:k===d.code?"Applied":"Use Code"})]})]},d.id))})},pe=({basePrice:c,onCalculate:u,className:m=""})=>{const[o,N]=p.useState("daily"),[r,k]=p.useState(1),[C,x]=p.useState({insurance:!1,gps:!1,childSeat:!1,driver:!1,fuel:!1}),w={insurance:50,gps:30,childSeat:25,driver:200,fuel:100},g=()=>{let d=c*r;o==="hourly"?d=c*r:o==="weekly"&&(d=c*r*7*.85);let j=0;const l=Object.entries(C).filter(([t,b])=>b).map(([t,b])=>({name:t,price:w[t]}));j=l.reduce((t,b)=>t+b.price,0);const i=(d+j)*.1,n=d+j+i,f={baseTotal:d,addOns:l,addOnTotal:j,serviceFee:i,total:n,rentalType:o,duration:r};return u(n,f),f},y=(d,j)=>{x(l=>({...l,[d]:j}))};return ae.useEffect(()=>{g()},[o,r,C,c]),e.jsxs("div",{className:`space-y-4 ${m}`,children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/90 mb-2",children:"Rental Type"}),e.jsx("div",{className:"flex space-x-2",children:[{value:"hourly",label:"Hourly",icon:"Clock"},{value:"daily",label:"Daily",icon:"Calendar"},{value:"weekly",label:"Weekly",icon:"Calendar"}].map(d=>e.jsxs("button",{onClick:()=>N(d.value),className:`flex-1 px-3 py-2 rounded-lg text-sm font-medium transition-all ${o===d.value?"bg-blue-500/20 text-blue-300 border border-blue-500/30":"bg-white/10 text-white/70 border border-white/20 hover:bg-white/20"}`,children:[e.jsx(h,{name:d.icon,size:"sm",className:"mr-1"}),d.label]},d.value))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-white/90 mb-2",children:["Duration (",o==="hourly"?"Hours":o==="daily"?"Days":"Weeks",")"]}),e.jsx("input",{type:"number",min:"1",value:r,onChange:d=>k(parseInt(d.target.value)||1),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/20"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/90 mb-2",children:"Add-ons"}),e.jsx("div",{className:"space-y-2",children:[{key:"insurance",label:"Comprehensive Insurance",icon:"Shield",price:w.insurance},{key:"gps",label:"GPS Navigation",icon:"MapPin",price:w.gps},{key:"childSeat",label:"Child Safety Seat",icon:"Baby",price:w.childSeat},{key:"driver",label:"Professional Driver",icon:"User",price:w.driver},{key:"fuel",label:"Full Tank of Fuel",icon:"Fuel",price:w.fuel}].map(d=>e.jsxs("label",{className:"flex items-center justify-between p-3 bg-white/5 rounded-lg hover:bg-white/10 transition-colors cursor-pointer",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",checked:C[d.key],onChange:j=>y(d.key,j.target.checked),className:"w-4 h-4 text-blue-600 bg-white/10 border-white/20 rounded focus:ring-blue-500"}),e.jsx(h,{name:d.icon,size:"sm"}),e.jsx("span",{className:"text-white/90 text-sm",children:d.label})]}),e.jsxs("span",{className:"text-white/70 text-sm",children:["R",d.price]})]},d.key))})]}),e.jsxs("div",{className:"bg-white/10 rounded-lg p-4 border border-white/20",children:[e.jsx("h4",{className:"text-sm font-medium text-white/90 mb-3",children:"Cost Breakdown"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-white/70",children:["Base (",o,"):"]}),e.jsxs("span",{className:"text-white",children:["R",c," × ",r]})]}),Object.entries(C).filter(([d,j])=>j).map(([d,j])=>e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-white/70 capitalize",children:[d.replace(/([A-Z])/g," $1"),":"]}),e.jsxs("span",{className:"text-white",children:["R",w[d]]})]},d)),e.jsxs("div",{className:"flex justify-between border-t border-white/20 pt-2",children:[e.jsx("span",{className:"text-white/70",children:"Service Fee (10%):"}),e.jsxs("span",{className:"text-white",children:["R",Math.round(c*r*.1)]})]}),e.jsxs("div",{className:"flex justify-between font-semibold text-lg border-t border-white/20 pt-2",children:[e.jsx("span",{className:"text-white",children:"Total:"}),e.jsxs("span",{className:"text-green-400",children:["R",Math.round(g().total)]})]})]})]})]})},ge=({vehicleId:c,basePrice:u,onPriceUpdate:m,className:o=""})=>{const[N,r]=p.useState([]),[k,C]=p.useState(u),[x,w]=p.useState(!0);p.useEffect(()=>{g()},[c]),p.useEffect(()=>{y()},[N,u]);const g=async()=>{try{const l=localStorage.getItem("authToken"),i=await fetch(`/api/vehicles/${c}/pricing-rules`,{headers:{Authorization:`Bearer ${l}`,"Content-Type":"application/json"}});if(i.ok){const n=await i.json();r(n.rules||[])}}catch(l){console.error("Error fetching pricing rules:",l),r([{id:"1",name:"Weekend Premium",type:"time",conditions:{dayOfWeek:[0,6]},multiplier:1.5,isActive:!0},{id:"2",name:"Peak Hours",type:"time",conditions:{timeRange:{start:"07:00",end:"09:00"}},multiplier:1.3,isActive:!0},{id:"3",name:"High Demand",type:"demand",conditions:{demandLevel:"high"},multiplier:1.4,isActive:!0}])}finally{w(!1)}},y=()=>{let l=u;const i=new Date,n=i.getDay(),f=i.toTimeString().slice(0,5),b=N.filter(S=>{var L;if(!S.isActive)return!1;switch(S.type){case"time":if((L=S.conditions.dayOfWeek)!=null&&L.includes(n))return!0;if(S.conditions.timeRange){const{start:s,end:R}=S.conditions.timeRange;return f>=s&&f<=R}return!1;case"demand":return S.conditions.demandLevel==="high";default:return!1}}).reduce((S,L)=>Math.max(S,L.multiplier),1);l=Math.round(u*b),C(l),m(l)},d=l=>{r(i=>i.map(n=>n.id===l?{...n,isActive:!n.isActive}:n))},j=l=>{r(i=>i.filter(n=>n.id!==l))};return x?e.jsx("div",{className:`space-y-4 ${o}`,children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-8 bg-white/10 rounded w-1/3 mb-4"}),e.jsx("div",{className:"h-32 bg-white/10 rounded-lg"})]})}):e.jsxs("div",{className:`space-y-4 ${o}`,children:[e.jsx("div",{className:"bg-white/10 rounded-lg p-4 border border-white/20",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Current Price"}),e.jsx("p",{className:"text-white/70 text-sm",children:"Based on active pricing rules"})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-2xl font-bold text-green-400",children:["R",k]}),e.jsx("div",{className:"text-sm text-white/70",children:k>u?`+${Math.round((k-u)/u*100)}%`:"Base price"})]})]})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-white/90 mb-3",children:"Active Pricing Rules"}),e.jsx("div",{className:"space-y-2",children:N.filter(l=>l.isActive).map(l=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-500/20 border border-green-500/30 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(h,{name:"Zap",size:"sm"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-white",children:l.name}),e.jsxs("p",{className:"text-xs text-white/70",children:[l.type==="time"&&"Time-based",l.type==="demand"&&"Demand-based",l.type==="seasonal"&&"Seasonal",l.type==="event"&&"Event-based"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm text-green-300",children:["+",Math.round((l.multiplier-1)*100),"%"]}),e.jsx("button",{onClick:()=>d(l.id),className:"text-red-400 hover:text-red-300 transition-colors",children:"✕"})]})]},l.id))})]}),N.filter(l=>!l.isActive).length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-white/90 mb-3",children:"Inactive Rules"}),e.jsx("div",{className:"space-y-2",children:N.filter(l=>!l.isActive).map(l=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 border border-white/10 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(h,{name:"Pause",size:"sm"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-white/70",children:l.name}),e.jsxs("p",{className:"text-xs text-white/50",children:[l.type==="time"&&"Time-based",l.type==="demand"&&"Demand-based",l.type==="seasonal"&&"Seasonal",l.type==="event"&&"Event-based"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>d(l.id),className:"text-green-400 hover:text-green-300 transition-colors",children:e.jsx(h,{name:"Play",size:"sm"})}),e.jsx("button",{onClick:()=>j(l.id),className:"text-red-400 hover:text-red-300 transition-colors",children:e.jsx(h,{name:"Trash",size:"sm"})})]})]},l.id))})]}),e.jsx("button",{className:"w-full p-3 border-2 border-dashed border-white/30 rounded-lg text-white/70 hover:border-white/50 hover:text-white transition-colors",children:"+ Add New Pricing Rule"})]})},be=({hostId:c,className:u=""})=>{const[m,o]=p.useState([]),[N,r]=p.useState(!0),[k,C]=p.useState(!1),[x,w]=p.useState([]);p.useEffect(()=>{g()},[c]);const g=async()=>{try{const i=localStorage.getItem("authToken"),n=await fetch(`/api/hosts/${c}/fleet`,{headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"}});if(n.ok){const f=await n.json();o(f.vehicles||[])}}catch(i){console.error("Error fetching fleet:",i),o([{id:"1",hostId:c,make:"Toyota",model:"Hilux",year:2022,type:"bakkie",pricePerDay:250,location:"Cape Town",images:["https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?w=400"],features:[],status:"approved",approvalStatus:"approved",description:"Perfect for your South African adventure!",fuelType:"petrol",transmission:"manual",seats:5,doors:4,isAvailable:!0,rating:4.8,reviewCount:24,createdAt:new Date,updatedAt:new Date},{id:"2",hostId:c,make:"BMW",model:"X3",year:2021,type:"suv",pricePerDay:400,location:"Johannesburg",images:["https://images.unsplash.com/photo-1549317336-206569e8475c?w=400"],features:[],status:"pending",approvalStatus:"pending",description:"Luxury SUV for city and country driving.",fuelType:"petrol",transmission:"automatic",seats:5,doors:4,isAvailable:!0,rating:4.9,reviewCount:12,createdAt:new Date,updatedAt:new Date}])}finally{r(!1)}},y=i=>{w(n=>n.includes(i)?n.filter(f=>f!==i):[...n,i])},d=async i=>{if(x.length!==0)try{const n=localStorage.getItem("authToken");await fetch(`/api/hosts/${c}/fleet/bulk-action`,{method:"POST",headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"},body:JSON.stringify({vehicleIds:x,action:i})}),o(f=>{switch(i){case"activate":return f.map(t=>x.includes(t.id)?{...t,isAvailable:!0}:t);case"deactivate":return f.map(t=>x.includes(t.id)?{...t,isAvailable:!1}:t);case"delete":return f.filter(t=>!x.includes(t.id));default:return f}}),w([])}catch(n){console.error("Error performing bulk action:",n)}},j=i=>{switch(i){case"approved":return"text-green-400 bg-green-500/20 border-green-500/30";case"pending":return"text-yellow-400 bg-yellow-500/20 border-yellow-500/30";case"rejected":return"text-red-400 bg-red-500/20 border-red-500/30";default:return"text-gray-400 bg-gray-500/20 border-gray-500/30"}},l=i=>{switch(i){case"approved":return"CheckCircle";case"pending":return"Clock";case"rejected":return"XCircle";default:return"FileText"}};return N?e.jsx("div",{className:`space-y-4 ${u}`,children:[...Array(3)].map((i,n)=>e.jsx("div",{className:"animate-pulse",children:e.jsx("div",{className:"h-24 bg-white/10 rounded-lg"})},n))}):e.jsxs("div",{className:`space-y-4 ${u}`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Fleet Management"}),e.jsxs("p",{className:"text-white/70 text-sm",children:[m.length," vehicles in your fleet"]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:()=>C(!k),className:"px-3 py-1 bg-blue-500/20 text-blue-300 rounded-lg text-sm hover:bg-blue-500/30 transition-colors flex items-center space-x-1",children:[e.jsx(h,{name:"Upload",size:"sm"}),e.jsx("span",{children:"Bulk Upload"})]}),e.jsx("button",{className:"px-3 py-1 bg-green-500/20 text-green-300 rounded-lg text-sm hover:bg-green-500/30 transition-colors",children:"+ Add Vehicle"})]})]}),x.length>0&&e.jsx("div",{className:"bg-blue-500/20 border border-blue-500/30 rounded-lg p-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-blue-300 text-sm",children:[x.length," vehicle(s) selected"]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>d("activate"),className:"px-2 py-1 bg-green-500/20 text-green-300 rounded text-xs hover:bg-green-500/30 transition-colors",children:"Activate"}),e.jsx("button",{onClick:()=>d("deactivate"),className:"px-2 py-1 bg-yellow-500/20 text-yellow-300 rounded text-xs hover:bg-yellow-500/30 transition-colors",children:"Deactivate"}),e.jsx("button",{onClick:()=>d("delete"),className:"px-2 py-1 bg-red-500/20 text-red-300 rounded text-xs hover:bg-red-500/30 transition-colors",children:"Delete"})]})]})}),e.jsx("div",{className:"space-y-3",children:m.map(i=>e.jsx("div",{className:`p-4 rounded-lg border ${x.includes(i.id)?"bg-blue-500/20 border-blue-500/30":"bg-white/10 border-white/20"} hover:bg-white/20 transition-all duration-300`,children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("input",{type:"checkbox",checked:x.includes(i.id),onChange:()=>y(i.id),className:"w-4 h-4 text-blue-600 bg-white/10 border-white/20 rounded focus:ring-blue-500"}),e.jsx("img",{src:i.images[0],alt:`${i.make} ${i.model}`,className:"w-16 h-16 object-cover rounded-lg"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("h4",{className:"text-lg font-semibold text-white",children:[i.year," ",i.make," ",i.model]}),e.jsxs("div",{className:`px-2 py-1 rounded-full text-xs border ${j(i.approvalStatus)} flex items-center space-x-1`,children:[e.jsx(h,{name:l(i.approvalStatus),size:"sm"}),e.jsx("span",{children:i.approvalStatus})]})]}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-white/70",children:[e.jsxs("span",{className:"flex items-center space-x-1",children:[e.jsx(h,{name:"MapPin",size:"sm"}),e.jsx("span",{children:i.location})]}),e.jsxs("span",{className:"flex items-center space-x-1",children:[e.jsx(h,{name:"DollarSign",size:"sm"}),e.jsxs("span",{children:["R",i.pricePerDay,"/day"]})]}),e.jsxs("span",{className:"flex items-center space-x-1",children:[e.jsx(h,{name:"Star",size:"sm"}),e.jsxs("span",{children:[i.rating," (",i.reviewCount,")"]})]}),e.jsx("span",{className:`${i.isAvailable?"text-green-400":"text-red-400"}`,children:i.isAvailable?"Available":"Unavailable"})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{className:"px-3 py-1 bg-white/10 text-white rounded-lg text-sm hover:bg-white/20 transition-colors",children:"Edit"}),e.jsx("button",{className:"px-3 py-1 bg-white/10 text-white rounded-lg text-sm hover:bg-white/20 transition-colors",children:"View"})]})]})},i.id))}),m.length===0&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"mb-4",children:e.jsx(h,{name:"Car",size:"lg",className:"text-white/50 mx-auto"})}),e.jsx("p",{className:"text-white/70",children:"No vehicles in your fleet yet"}),e.jsx("p",{className:"text-white/50 text-sm",children:"Add your first vehicle to start earning!"})]})]})};class je{constructor(){X(this,"PROFILE_STATUS_KEY","profileStatus")}getProfileStatus(){try{const u=localStorage.getItem(this.PROFILE_STATUS_KEY);if(u){const m=JSON.parse(u);return{...m,completionDate:m.completionDate?new Date(m.completionDate):void 0,submittedAt:m.submittedAt?new Date(m.submittedAt):void 0}}}catch(u){console.error("Error reading profile status:",u)}return{isCompleted:!1,approvalStatus:"pending"}}setProfileCompleted(u){const m={isCompleted:!0,completionDate:new Date,approvalStatus:"pending",submittedAt:new Date};localStorage.setItem(this.PROFILE_STATUS_KEY,JSON.stringify(m))}updateApprovalStatus(u,m,o){const r={...this.getProfileStatus(),approvalStatus:u,adminNotes:m,rejectionReason:o};localStorage.setItem(this.PROFILE_STATUS_KEY,JSON.stringify(r))}clearProfileStatus(){localStorage.removeItem(this.PROFILE_STATUS_KEY)}isProfileCompleted(){return this.getProfileStatus().isCompleted}isProfileApproved(){return this.getProfileStatus().approvalStatus==="approved"}isProfilePending(){return this.getProfileStatus().approvalStatus==="pending"}isProfileRejected(){return this.getProfileStatus().approvalStatus==="rejected"}getApprovalStatusText(){switch(this.getProfileStatus().approvalStatus){case"approved":return"Profile Approved - You can now book vehicles!";case"rejected":return"Profile Rejected - Please update and resubmit";case"pending":return"Profile Pending Approval - Please wait for admin review";default:return"Profile Status Unknown"}}getApprovalStatusColor(){switch(this.getProfileStatus().approvalStatus){case"approved":return"text-green-400";case"rejected":return"text-red-400";case"pending":return"text-yellow-400";default:return"text-gray-400"}}getApprovalStatusBadgeColor(){switch(this.getProfileStatus().approvalStatus){case"approved":return"bg-green-500/20 text-green-300 border-green-500/30";case"rejected":return"bg-red-500/20 text-red-300 border-red-500/30";case"pending":return"bg-yellow-500/20 text-yellow-300 border-yellow-500/30";default:return"bg-gray-500/20 text-gray-300 border-gray-500/30"}}}const V=new je,Q=({userRole:c,onProfileComplete:u,className:m=""})=>{const[o,N]=p.useState(1),[r,k]=p.useState({dateOfBirth:"",address:"",city:"",province:"",postalCode:"",emergencyContact:"",emergencyPhone:"",idDocument:void 0,driverLicense:void 0,proofOfAddress:void 0,businessName:"",businessRegistration:"",bankAccount:"",taxNumber:"",vehicleRegistration:void 0,roadworthyCertificate:void 0,insuranceCertificate:void 0}),[C,x]=p.useState(!1),[w,g]=p.useState(""),y=(t,b)=>{k(S=>({...S,[t]:b}))},d=(t,b)=>{k(S=>({...S,[t]:b}))},j=async()=>{x(!0),g("");try{const b=(c==="renter"?["dateOfBirth","address","city","province","postalCode","emergencyContact","emergencyPhone"]:["dateOfBirth","address","city","province","postalCode","businessName","businessRegistration","bankAccount","taxNumber"]).filter(s=>!r[s]);if(b.length>0){g(`Please fill in all required fields: ${b.join(", ")}`),x(!1);return}const L=(c==="renter"?["idDocument","driverLicense","proofOfAddress"]:["idDocument","driverLicense","proofOfAddress","vehicleRegistration","roadworthyCertificate","insuranceCertificate"]).filter(s=>!r[s]);if(L.length>0){g(`Please upload all required documents: ${L.join(", ")}`),x(!1);return}await u(r),V.setProfileCompleted(r)}catch{g("Failed to complete profile. Please try again.")}finally{x(!1)}},l=()=>{o<3&&N(o+1)},i=()=>{o>1&&N(o-1)},n=()=>{switch(o){case 1:return"Personal Information";case 2:return c==="renter"?"Identity Documents":"Business & Vehicle Documents";case 3:return"Review & Submit";default:return"Profile Completion"}},f=()=>{switch(o){case 1:return"User";case 2:return"FileText";case 3:return"CheckCircle";default:return"Clipboard"}};return e.jsxs("div",{className:`space-y-6 ${m}`,children:[e.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-6 border border-white/20",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(h,{name:f(),size:"lg"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-white",children:n()}),e.jsxs("p",{className:"text-white/70 text-sm",children:["Step ",o," of 3 - Complete your profile to start using RideShare SA"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm text-white/70",children:"Progress"}),e.jsxs("div",{className:"text-lg font-semibold text-white",children:[Math.round(o/3*100),"%"]})]})]}),e.jsx("div",{className:"w-full bg-white/20 rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-2 rounded-full transition-all duration-300",style:{width:`${o/3*100}%`}})})]}),o===1&&e.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-6 border border-white/20",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Personal Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/90 mb-2",children:"Date of Birth *"}),e.jsx("input",{type:"date",value:r.dateOfBirth,onChange:t=>y("dateOfBirth",t.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/20",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/90 mb-2",children:"Emergency Contact *"}),e.jsx("input",{type:"text",value:r.emergencyContact,onChange:t=>y("emergencyContact",t.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/20",placeholder:"Full name",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/90 mb-2",children:"Emergency Phone *"}),e.jsx("input",{type:"tel",value:r.emergencyPhone,onChange:t=>y("emergencyPhone",t.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/20",placeholder:"+27 82 123 4567",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/90 mb-2",children:"Address *"}),e.jsx("input",{type:"text",value:r.address,onChange:t=>y("address",t.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/20",placeholder:"Street address",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/90 mb-2",children:"City *"}),e.jsx("input",{type:"text",value:r.city,onChange:t=>y("city",t.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/20",placeholder:"Cape Town",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/90 mb-2",children:"Province *"}),e.jsxs("select",{value:r.province,onChange:t=>y("province",t.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-white/20",required:!0,children:[e.jsx("option",{value:"",children:"Select Province"}),e.jsx("option",{value:"Western Cape",children:"Western Cape"}),e.jsx("option",{value:"Eastern Cape",children:"Eastern Cape"}),e.jsx("option",{value:"Northern Cape",children:"Northern Cape"}),e.jsx("option",{value:"Free State",children:"Free State"}),e.jsx("option",{value:"KwaZulu-Natal",children:"KwaZulu-Natal"}),e.jsx("option",{value:"North West",children:"North West"}),e.jsx("option",{value:"Gauteng",children:"Gauteng"}),e.jsx("option",{value:"Mpumalanga",children:"Mpumalanga"}),e.jsx("option",{value:"Limpopo",children:"Limpopo"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/90 mb-2",children:"Postal Code *"}),e.jsx("input",{type:"text",value:r.postalCode,onChange:t=>y("postalCode",t.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/20",placeholder:"8001",required:!0})]})]})]}),o===2&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-6 border border-white/20",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Identity Documents"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(U,{label:"ID Document",name:"idDocument",value:r.idDocument,onChange:t=>d("idDocument",t),required:!0,description:"Upload a clear photo of your South African ID or passport"}),e.jsx(U,{label:"Driver's License",name:"driverLicense",value:r.driverLicense,onChange:t=>d("driverLicense",t),required:!0,description:"Upload a clear photo of your valid driver's license"}),e.jsx(U,{label:"Proof of Address",name:"proofOfAddress",value:r.proofOfAddress,onChange:t=>d("proofOfAddress",t),required:!0,description:"Upload a recent utility bill or bank statement (not older than 3 months)"})]})]}),c==="host"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-6 border border-white/20",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Business Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/90 mb-2",children:"Business Name *"}),e.jsx("input",{type:"text",value:r.businessName,onChange:t=>y("businessName",t.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/20",placeholder:"Your business name",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/90 mb-2",children:"Business Registration Number *"}),e.jsx("input",{type:"text",value:r.businessRegistration,onChange:t=>y("businessRegistration",t.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/20",placeholder:"CIPC registration number",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/90 mb-2",children:"Bank Account Number *"}),e.jsx("input",{type:"text",value:r.bankAccount,onChange:t=>y("bankAccount",t.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/20",placeholder:"Your bank account number",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/90 mb-2",children:"Tax Number *"}),e.jsx("input",{type:"text",value:r.taxNumber,onChange:t=>y("taxNumber",t.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/20",placeholder:"SARS tax number",required:!0})]})]})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-6 border border-white/20",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Vehicle Documents"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(U,{label:"Vehicle Registration",name:"vehicleRegistration",value:r.vehicleRegistration,onChange:t=>d("vehicleRegistration",t),required:!0,description:"Official vehicle registration document"}),e.jsx(U,{label:"Roadworthy Certificate",name:"roadworthyCertificate",value:r.roadworthyCertificate,onChange:t=>d("roadworthyCertificate",t),required:!0,description:"Valid roadworthy certificate"}),e.jsx(U,{label:"Insurance Certificate",name:"insuranceCertificate",value:r.insuranceCertificate,onChange:t=>d("insuranceCertificate",t),required:!0,description:"Comprehensive insurance certificate"})]})]})]})]}),o===3&&e.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-6 border border-white/20",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Review Your Information"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-white/70",children:"Date of Birth:"}),e.jsx("span",{className:"text-white ml-2",children:r.dateOfBirth})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-white/70",children:"Address:"}),e.jsx("span",{className:"text-white ml-2",children:r.address})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-white/70",children:"City:"}),e.jsx("span",{className:"text-white ml-2",children:r.city})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-white/70",children:"Province:"}),e.jsx("span",{className:"text-white ml-2",children:r.province})]}),c==="host"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-white/70",children:"Business Name:"}),e.jsx("span",{className:"text-white ml-2",children:r.businessName})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-white/70",children:"Business Registration:"}),e.jsx("span",{className:"text-white ml-2",children:r.businessRegistration})]})]})]}),e.jsxs("div",{className:"pt-4 border-t border-white/20",children:[e.jsx("h4",{className:"text-md font-medium text-white mb-2",children:"Uploaded Documents"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:r.idDocument?"text-green-400":"text-red-400",children:"●"}),e.jsx("span",{className:"text-white/70",children:"ID Document"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:r.driverLicense?"text-green-400":"text-red-400",children:"●"}),e.jsx("span",{className:"text-white/70",children:"Driver's License"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:r.proofOfAddress?"text-green-400":"text-red-400",children:"●"}),e.jsx("span",{className:"text-white/70",children:"Proof of Address"})]}),c==="host"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:r.vehicleRegistration?"text-green-400":"text-red-400",children:"●"}),e.jsx("span",{className:"text-white/70",children:"Vehicle Registration"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:r.roadworthyCertificate?"text-green-400":"text-red-400",children:"●"}),e.jsx("span",{className:"text-white/70",children:"Roadworthy Certificate"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:r.insuranceCertificate?"text-green-400":"text-red-400",children:"●"}),e.jsx("span",{className:"text-white/70",children:"Insurance Certificate"})]})]})]})]})]})]}),w&&e.jsx("div",{className:"bg-red-500/20 border border-red-500/30 rounded-lg p-3",children:e.jsx("p",{className:"text-red-300 text-sm",children:w})}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("button",{onClick:i,disabled:o===1,className:`px-6 py-2 rounded-lg font-medium transition-all ${o===1?"bg-gray-500/20 text-gray-400 cursor-not-allowed":"bg-white/10 text-white hover:bg-white/20"}`,children:"Previous"}),e.jsx("div",{className:"flex space-x-3",children:o<3?e.jsx("button",{onClick:l,className:"px-6 py-2 bg-blue-500/20 text-blue-300 rounded-lg font-medium hover:bg-blue-500/30 transition-all",children:"Next"}):e.jsx("button",{onClick:j,disabled:C,className:`px-6 py-2 rounded-lg font-medium transition-all ${C?"bg-gray-500/20 text-gray-400 cursor-not-allowed":"bg-green-500/20 text-green-300 hover:bg-green-500/30"}`,children:C?"Submitting...":"Submit for Approval"})})]})]})},fe=({onSubmit:c,onCancel:u,className:m=""})=>{var R,$,B;const[o,N]=p.useState(1),[r,k]=p.useState({make:"",model:"",year:new Date().getFullYear(),type:"car",pricePerDay:0,location:"",description:"",features:[],images:[],documents:{registration:void 0,roadworthy:void 0,insurance:void 0}}),[C,x]=p.useState(!1),[w,g]=p.useState(""),y=[{value:"car",label:"Car",icon:"Car"},{value:"suv",label:"SUV",icon:"Truck"},{value:"bakkie",label:"Bakkie",icon:"Truck"},{value:"van",label:"Van",icon:"Truck"},{value:"motorcycle",label:"Motorcycle",icon:"Bike"}],d=[{id:"aircon",name:"Air Conditioning",category:"comfort"},{id:"bluetooth",name:"Bluetooth",category:"entertainment"},{id:"gps",name:"GPS Navigation",category:"convenience"},{id:"usb",name:"USB Charging",category:"convenience"},{id:"backup_camera",name:"Backup Camera",category:"safety"},{id:"parking_sensors",name:"Parking Sensors",category:"safety"},{id:"cruise_control",name:"Cruise Control",category:"comfort"},{id:"leather_seats",name:"Leather Seats",category:"comfort"}],j=(v,T)=>{k(a=>({...a,[v]:T}))},l=v=>{k(T=>({...T,features:T.features.some(a=>a.id===v.id)?T.features.filter(a=>a.id!==v.id):[...T.features,v]}))},i=(v,T)=>{k(a=>({...a,documents:{...a.documents,[v]:T}}))},n=v=>{if(v){const T=Array.from(v);k(a=>({...a,images:[...a.images,...T]}))}},f=v=>{var T,a,A;switch(v){case 1:return!!(r.make&&r.model&&r.year&&r.type&&r.pricePerDay>0);case 2:return!!(r.location&&r.description);case 3:return r.images.length>0;case 4:return!!((T=r.documents)!=null&&T.registration&&((a=r.documents)!=null&&a.roadworthy)&&((A=r.documents)!=null&&A.insurance));default:return!0}},t=()=>{f(o)?N(v=>Math.min(v+1,4)):g("Please fill in all required fields before proceeding.")},b=()=>{N(v=>Math.max(v-1,1))},S=async()=>{if(!f(4)){g("Please complete all required fields and upload all documents.");return}x(!0),g("");try{await c(r)}catch{g("Failed to submit vehicle listing. Please try again.")}finally{x(!1)}},L=()=>{switch(o){case 1:return"Vehicle Details";case 2:return"Location & Description";case 3:return"Vehicle Photos";case 4:return"Required Documents";default:return"Vehicle Listing"}},s=()=>{switch(o){case 1:return"Car";case 2:return"MapPin";case 3:return"Camera";case 4:return"FileText";default:return"Clipboard"}};return e.jsxs("div",{className:`space-y-6 ${m}`,children:[e.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-6 border border-white/20",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(h,{name:s(),size:"lg"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-white",children:L()}),e.jsxs("p",{className:"text-white/70 text-sm",children:["Step ",o," of 4 - Submit your vehicle for admin approval"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm text-white/70",children:"Progress"}),e.jsxs("div",{className:"text-lg font-semibold text-white",children:[Math.round(o/4*100),"%"]})]})]}),e.jsx("div",{className:"w-full bg-white/20 rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-2 rounded-full transition-all duration-300",style:{width:`${o/4*100}%`}})})]}),o===1&&e.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-6 border border-white/20",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Vehicle Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/90 mb-2",children:"Make *"}),e.jsx("input",{type:"text",value:r.make,onChange:v=>j("make",v.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/20",placeholder:"Toyota",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/90 mb-2",children:"Model *"}),e.jsx("input",{type:"text",value:r.model,onChange:v=>j("model",v.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/20",placeholder:"Corolla",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/90 mb-2",children:"Year *"}),e.jsx("input",{type:"number",value:r.year,onChange:v=>j("year",parseInt(v.target.value)),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/20",min:"1990",max:new Date().getFullYear()+1,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/90 mb-2",children:"Price per Day (R) *"}),e.jsx("input",{type:"number",value:r.pricePerDay,onChange:v=>j("pricePerDay",parseFloat(v.target.value)),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/20",min:"0",step:"0.01",required:!0})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-white/90 mb-2",children:"Vehicle Type *"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-2",children:y.map(v=>e.jsxs("button",{onClick:()=>j("type",v.value),className:`p-3 rounded-lg text-sm font-medium transition-all ${r.type===v.value?"bg-blue-500/20 text-blue-300 border border-blue-500/30":"bg-white/10 text-white/70 border border-white/20 hover:bg-white/20"}`,children:[e.jsx(h,{name:v.icon,size:"sm",className:"mr-2"}),v.label]},v.value))})]})]})]}),o===2&&e.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-6 border border-white/20",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Location & Description"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/90 mb-2",children:"Location *"}),e.jsx("input",{type:"text",value:r.location,onChange:v=>j("location",v.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/20",placeholder:"Cape Town, Western Cape",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/90 mb-2",children:"Description *"}),e.jsx("textarea",{value:r.description,onChange:v=>j("description",v.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/20",rows:4,placeholder:"Describe your vehicle, its condition, and any special features...",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/90 mb-2",children:"Vehicle Features"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:d.map(v=>e.jsxs("label",{className:"flex items-center space-x-2 p-2 bg-white/5 rounded-lg hover:bg-white/10 transition-colors cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:r.features.some(T=>T.id===v.id),onChange:()=>l(v),className:"w-4 h-4 text-blue-600 bg-white/10 border-white/20 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-white/90",children:v.name})]},v.id))})]})]})]}),o===3&&e.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-6 border border-white/20",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Vehicle Photos"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/90 mb-2",children:"Upload Vehicle Photos *"}),e.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:v=>n(v.target.files),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-medium file:bg-blue-500/20 file:text-blue-300 hover:file:bg-blue-500/30"}),e.jsx("p",{className:"text-xs text-white/60 mt-1",children:"Upload multiple photos showing exterior, interior, and license disc"})]}),r.images.length>0&&e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-white/70 mb-2",children:["Uploaded Photos (",r.images.length,"):"]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:r.images.map((v,T)=>e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:URL.createObjectURL(v),alt:`Vehicle photo ${T+1}`,className:"w-full h-20 object-cover rounded-lg"}),e.jsx("button",{onClick:()=>{const a=r.images.filter((A,D)=>D!==T);k(A=>({...A,images:a}))},className:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center text-xs hover:bg-red-600",children:"×"})]},T))})]})]})]}),o===4&&e.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-6 border border-white/20",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Required Documents"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(U,{label:"Vehicle Registration",name:"registration",value:(R=r.documents)==null?void 0:R.registration,onChange:v=>i("registration",v),required:!0,description:"Official vehicle registration document"}),e.jsx(U,{label:"Roadworthy Certificate",name:"roadworthy",value:($=r.documents)==null?void 0:$.roadworthy,onChange:v=>i("roadworthy",v),required:!0,description:"Valid roadworthy certificate"}),e.jsx(U,{label:"Insurance Certificate",name:"insurance",value:(B=r.documents)==null?void 0:B.insurance,onChange:v=>i("insurance",v),required:!0,description:"Comprehensive insurance certificate"})]})]}),w&&e.jsx("div",{className:"bg-red-500/20 border border-red-500/30 rounded-lg p-3",children:e.jsx("p",{className:"text-red-300 text-sm",children:w})}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("button",{onClick:b,disabled:o===1,className:`px-6 py-2 rounded-lg font-medium transition-all ${o===1?"bg-gray-500/20 text-gray-400 cursor-not-allowed":"bg-white/10 text-white hover:bg-white/20"}`,children:"Previous"}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:u,className:"px-6 py-2 bg-gray-500/20 text-gray-300 rounded-lg font-medium hover:bg-gray-500/30 transition-all",children:"Cancel"}),o<4?e.jsx("button",{onClick:t,className:"px-6 py-2 bg-blue-500/20 text-blue-300 rounded-lg font-medium hover:bg-blue-500/30 transition-all",children:"Next"}):e.jsx("button",{onClick:S,disabled:C,className:`px-6 py-2 rounded-lg font-medium transition-all ${C?"bg-gray-500/20 text-gray-400 cursor-not-allowed":"bg-green-500/20 text-green-300 hover:bg-green-500/30"}`,children:C?"Submitting...":"Submit for Admin Approval"})]})]})]})},we=({hostId:c,className:u=""})=>{const[m,o]=p.useState([]),[N,r]=p.useState(!0),[k,C]=p.useState(!1);p.useEffect(()=>{x()},[c]);const x=async()=>{try{const i=[{id:"1",vehicleId:"vehicle-1",vehicleName:"2020 Toyota Corolla",status:"approved",message:"Your vehicle listing has been approved and is now visible to renters.",adminNotes:"Great condition, all documents verified.",timestamp:new Date(Date.now()-72e5),read:!1},{id:"2",vehicleId:"vehicle-2",vehicleName:"2019 BMW X3",status:"rejected",message:"Your vehicle listing requires some updates before approval.",rejectionReason:"Insurance certificate is expired. Please upload a current certificate.",timestamp:new Date(Date.now()-18e6),read:!0}];o(i)}catch(i){console.error("Failed to fetch notifications:",i)}finally{r(!1)}},w=i=>{o(n=>n.map(f=>f.id===i?{...f,read:!0}:f))},g=()=>{o(i=>i.map(n=>({...n,read:!0})))},y=i=>i==="approved"?"CheckCircle":"XCircle",d=i=>i==="approved"?"text-green-400 bg-green-500/20 border-green-500/30":"text-red-400 bg-red-500/20 border-red-500/30",j=m.filter(i=>!i.read).length,l=k?m:m.slice(0,3);return N?e.jsx("div",{className:`space-y-3 ${u}`,children:[...Array(2)].map((i,n)=>e.jsx("div",{className:"animate-pulse",children:e.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[e.jsx("div",{className:"h-4 bg-white/20 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-3 bg-white/20 rounded w-1/2"})]})},n))}):m.length===0?e.jsxs("div",{className:`text-center py-4 ${u}`,children:[e.jsx(h,{name:"Bell",size:"lg",className:"text-white/50 mb-2"}),e.jsx("p",{className:"text-white/70 text-sm",children:"No vehicle approval notifications"})]}):e.jsxs("div",{className:`space-y-3 ${u}`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(h,{name:"Bell",size:"sm"}),e.jsx("span",{className:"text-sm font-medium text-white",children:"Vehicle Approvals"}),j>0&&e.jsx("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-300 rounded-full text-xs",children:j})]}),m.length>3&&e.jsx("button",{onClick:()=>C(!k),className:"text-xs text-white/70 hover:text-white transition-colors",children:k?"Show Less":`Show All (${m.length})`})]}),e.jsx("div",{className:"space-y-2",children:l.map(i=>e.jsx("div",{className:`p-3 rounded-lg border transition-all duration-200 ${i.read?"bg-white/5 border-white/10":"bg-white/10 border-white/20"}`,onClick:()=>w(i.id),children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:`p-1 rounded-full ${d(i.status)}`,children:e.jsx(h,{name:y(i.status),size:"sm"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h4",{className:"text-sm font-medium text-white truncate",children:i.vehicleName}),e.jsx("span",{className:"text-xs text-white/60",children:i.timestamp.toLocaleDateString()})]}),e.jsx("p",{className:"text-sm text-white/80 mb-2",children:i.message}),i.adminNotes&&e.jsx("div",{className:"bg-white/5 rounded p-2 mb-2",children:e.jsxs("p",{className:"text-xs text-white/70",children:[e.jsx("span",{className:"font-medium",children:"Admin Notes:"})," ",i.adminNotes]})}),i.rejectionReason&&e.jsx("div",{className:"bg-red-500/10 border border-red-500/20 rounded p-2",children:e.jsxs("p",{className:"text-xs text-red-300",children:[e.jsx("span",{className:"font-medium",children:"Action Required:"})," ",i.rejectionReason]})})]})]})},i.id))}),j>0&&e.jsx("div",{className:"pt-2 border-t border-white/20",children:e.jsx("button",{onClick:g,className:"w-full text-xs text-white/70 hover:text-white transition-colors py-2",children:"Mark all as read"})})]})},ee=({onEditProfile:c,onResubmitProfile:u})=>{const m=V.getProfileStatus();if(!m.isCompleted)return null;const o=()=>{switch(m.approvalStatus){case"approved":return e.jsx(h,{name:"CheckCircle",size:"lg",className:"text-green-400"});case"rejected":return e.jsx(h,{name:"XCircle",size:"lg",className:"text-red-400"});case"pending":return e.jsx(h,{name:"Clock",size:"lg",className:"text-yellow-400"});default:return e.jsx(h,{name:"AlertCircle",size:"lg",className:"text-gray-400"})}},N=()=>m.approvalStatus==="rejected"?e.jsxs("button",{onClick:u,className:"px-4 py-2 bg-blue-500/20 text-blue-300 rounded-lg hover:bg-blue-500/30 transition-colors border border-blue-500/30",children:[e.jsx(h,{name:"RefreshCw",size:"sm",className:"mr-2"}),"Resubmit Profile"]}):m.approvalStatus==="pending"?e.jsxs("button",{onClick:c,className:"px-4 py-2 bg-gray-500/20 text-gray-300 rounded-lg hover:bg-gray-500/30 transition-colors border border-gray-500/30",children:[e.jsx(h,{name:"Edit",size:"sm",className:"mr-2"}),"Edit Profile"]}):null;return e.jsx("div",{className:"bg-white/5 backdrop-blur-md rounded-xl p-6 border border-white/10 mb-6",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"flex-shrink-0",children:o()}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Profile Status"}),e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium border ${V.getApprovalStatusBadgeColor()}`,children:m.approvalStatus.toUpperCase()})]}),e.jsx("p",{className:`text-sm mb-3 ${V.getApprovalStatusColor()}`,children:V.getApprovalStatusText()}),m.completionDate&&e.jsxs("p",{className:"text-xs text-white/60 mb-3",children:["Completed: ",m.completionDate.toLocaleDateString()]}),m.adminNotes&&e.jsx("div",{className:"bg-white/5 rounded-lg p-3 mb-3",children:e.jsxs("p",{className:"text-sm text-white/80",children:[e.jsx("strong",{children:"Admin Notes:"})," ",m.adminNotes]})}),m.rejectionReason&&e.jsx("div",{className:"bg-red-500/10 border border-red-500/20 rounded-lg p-3 mb-3",children:e.jsxs("p",{className:"text-sm text-red-300",children:[e.jsx("strong",{children:"Rejection Reason:"})," ",m.rejectionReason]})}),N()&&e.jsx("div",{className:"mt-4",children:N()})]})]})})},Z=()=>{const[c,u]=p.useState([]),[m,o]=p.useState([]),[N,r]=p.useState({profile:"pending",license:"unverified",id:"unverified"}),[k,C]=p.useState(!0),[x,w]=p.useState("overview"),[g,y]=p.useState(V.isProfileCompleted()),[d,j]=p.useState(!1);p.useEffect(()=>{l()},[]);const l=async()=>{try{const t=localStorage.getItem("accessToken"),b=await fetch("/api/bookings",{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(b.ok){const S=await b.json();u(S.bookings||[])}r({profile:"approved",license:"pending",id:"unverified"}),o([{id:1,type:"license",name:"Driver License.pdf",status:"pending",uploadedAt:"2024-12-01"},{id:2,type:"id",name:"ID Document.pdf",status:"unverified",uploadedAt:null}])}catch(t){console.error("Error fetching renter data:",t)}finally{C(!1)}},i=(t,b)=>{console.log("Uploading document:",t.name,"Type:",b);const S={id:Date.now(),type:b,name:t.name,status:"pending",uploadedAt:new Date().toISOString()};o(L=>[...L,S])},n=c.filter(t=>t.status==="confirmed"||t.status==="pending"),f=c.filter(t=>t.status==="completed").reduce((t,b)=>t+b.totalPrice,0);return k?e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-8 bg-gray-300 dark:bg-gray-700 rounded w-1/3 mb-6"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[...Array(3)].map((t,b)=>e.jsx("div",{className:"h-32 bg-gray-300 dark:bg-gray-700 rounded-lg"},b))})]})}):!g&&!d?e.jsx("div",{className:"space-y-6",children:e.jsx("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-6 border border-white/20",children:e.jsxs("div",{className:"text-center",children:[e.jsx(h,{name:"User",size:"lg",className:"text-white/50 mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Complete Your Profile"}),e.jsx("p",{className:"text-white/70 mb-6",children:"To start using RideShare SA, please complete your profile and upload required documents."}),e.jsx("button",{onClick:()=>j(!0),className:"px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-lg font-medium hover:from-blue-600 hover:to-purple-700 transition-all duration-300",children:"Complete Profile"})]})})}):g&&!d?e.jsx("div",{className:"space-y-6",children:e.jsx(ee,{onEditProfile:()=>j(!0),onResubmitProfile:()=>j(!0)})}):d?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Complete Your Profile"}),e.jsx("button",{onClick:()=>j(!1),className:"px-4 py-2 bg-white/10 text-white/70 rounded-lg hover:bg-white/20 transition-all",children:"Cancel"})]}),e.jsx(Q,{userRole:"renter",onProfileComplete:t=>{console.log("Profile completed:",t),y(!0),j(!1)}})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Renter Dashboard"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:()=>w("overview"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${x==="overview"?"bg-white/20 text-white":"bg-white/10 text-white/70 hover:bg-white/20"}`,children:[e.jsx(h,{name:"BarChart",size:"sm",className:"mr-1"}),"Overview"]}),e.jsxs("button",{onClick:()=>w("saved"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${x==="saved"?"bg-white/20 text-white":"bg-white/10 text-white/70 hover:bg-white/20"}`,children:[e.jsx(h,{name:"Heart",size:"sm",className:"mr-1"}),"Saved"]}),e.jsxs("button",{onClick:()=>w("calculator"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${x==="calculator"?"bg-white/20 text-white":"bg-white/10 text-white/70 hover:bg-white/20"}`,children:[e.jsx(h,{name:"Calculator",size:"sm",className:"mr-1"}),"Calculator"]}),e.jsxs("button",{onClick:()=>w("documents"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${x==="documents"?"bg-white/20 text-white":"bg-white/10 text-white/70 hover:bg-white/20"}`,children:[e.jsx(h,{name:"FileText",size:"sm",className:"mr-1"}),"Documents"]}),e.jsxs("button",{onClick:()=>w("promotions"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${x==="promotions"?"bg-white/20 text-white":"bg-white/10 text-white/70 hover:bg-white/20"}`,children:[e.jsx(h,{name:"Gift",size:"sm",className:"mr-1"}),"Promotions"]}),e.jsxs("button",{onClick:()=>w("bookings"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${x==="bookings"?"bg-white/20 text-white":"bg-white/10 text-white/70 hover:bg-white/20"}`,children:[e.jsx(h,{name:"Car",size:"sm",className:"mr-1"}),"Bookings"]}),e.jsxs("button",{onClick:()=>w("payments"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${x==="payments"?"bg-white/20 text-white":"bg-white/10 text-white/70 hover:bg-white/20"}`,children:[e.jsx(h,{name:"CreditCard",size:"sm",className:"mr-1"}),"Payments"]})]})]}),x==="overview"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs(P,{title:"Active Bookings",subtitle:"Current rentals",icon:"Car",className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-white mb-2",children:n.length}),e.jsx("div",{className:"text-white/70 text-sm",children:"Active now"})]}),e.jsxs(P,{title:"Total Spent",subtitle:"All time spending",icon:"DollarSign",className:"text-center",children:[e.jsxs("div",{className:"text-3xl font-bold text-white mb-2",children:["R",f.toLocaleString()]}),e.jsx("div",{className:"text-white/70 text-sm",children:"Lifetime total"})]}),e.jsxs(P,{title:"Verification Status",subtitle:"Account verification",icon:"CheckCircle",className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-white mb-2",children:e.jsx(h,{name:N.profile==="approved"?"CheckCircle":"Clock",size:"lg"})}),e.jsx("div",{className:"text-white/70 text-sm",children:N.profile==="approved"?"Verified":"Pending"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(P,{title:"Recent Bookings",subtitle:"Your latest vehicle rentals",icon:"Clipboard",children:e.jsxs("div",{className:"space-y-3",children:[c.slice(0,3).map(t=>{var b,S;return e.jsxs("div",{className:"flex justify-between items-center p-4 bg-white/10 rounded-xl backdrop-blur-sm border border-white/20",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-white",children:((b=t.listing)==null?void 0:b.title)||"Unknown Vehicle"}),e.jsxs("p",{className:"text-sm text-white/70",children:[(S=t.listing)==null?void 0:S.location," • ",new Date(t.startDate).toLocaleDateString()]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("span",{className:"text-white font-semibold",children:["R",t.totalPrice]}),e.jsx("div",{className:`text-xs px-2 py-1 rounded-full ${t.status==="confirmed"?"bg-green-500/20 text-green-200 border border-green-400/30":t.status==="pending"?"bg-yellow-500/20 text-yellow-200 border border-yellow-400/30":t.status==="cancelled"?"bg-red-500/20 text-red-200 border border-red-400/30":"bg-gray-500/20 text-gray-200 border border-gray-400/30"}`,children:t.status})]})]},t.id)}),c.length===0&&e.jsx("p",{className:"text-white/60 text-center py-4",children:"No bookings yet"})]})}),e.jsx(P,{title:"Verification Status",subtitle:"Document verification progress",icon:"Clipboard",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center p-3 bg-white/10 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(h,{name:"User",size:"lg"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:"Profile"}),e.jsx("p",{className:"text-white/70 text-sm",children:"Basic information"})]})]}),e.jsx(z,{status:N.profile})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-white/10 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"text-2xl",children:"🆔"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:"Driver License"}),e.jsx("p",{className:"text-white/70 text-sm",children:"Driving permit"})]})]}),e.jsx(z,{status:N.license})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-white/10 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"text-2xl",children:"🆔"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:"ID Document"}),e.jsx("p",{className:"text-white/70 text-sm",children:"Identity verification"})]})]}),e.jsx(z,{status:N.id})]})]})})]})]}),x==="saved"&&e.jsx("div",{className:"space-y-6",children:e.jsx(P,{title:"Saved Vehicles",subtitle:"Your favorite vehicles for easy access",icon:"Heart",children:e.jsx(me,{userId:"current-user"})})}),x==="calculator"&&e.jsx("div",{className:"space-y-6",children:e.jsx(P,{title:"Rental Calculator",subtitle:"Calculate your rental costs with add-ons",icon:"🧮",children:e.jsx(pe,{basePrice:250,onCalculate:(t,b)=>{console.log("Calculated total:",t,b)}})})}),x==="documents"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx(P,{title:"Document Upload",subtitle:"Upload your verification documents",icon:"📄",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:"Driver License"}),e.jsx(U,{label:"Driver License",name:"driverLicense",onChange:t=>t&&i(t,"license"),accept:"image/*,application/pdf"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:"ID Document"}),e.jsx(U,{label:"ID Document",name:"idDocument",onChange:t=>t&&i(t,"id"),accept:"image/*,application/pdf"})]})]})}),e.jsx(P,{title:"Document Expiry Reminders",subtitle:"Keep your documents up to date",icon:"⏰",children:e.jsx(he,{userId:"current-user"})}),e.jsx(P,{title:"Uploaded Documents",subtitle:"Your submitted documents",icon:"📁",children:e.jsx("div",{className:"space-y-3",children:m.map(t=>e.jsxs("div",{className:"flex justify-between items-center p-4 bg-white/10 rounded-xl backdrop-blur-sm border border-white/20",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"text-2xl",children:"📄"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:t.name}),e.jsx("p",{className:"text-white/70 text-sm",children:t.uploadedAt?`Uploaded ${new Date(t.uploadedAt).toLocaleDateString()}`:"Not uploaded"})]})]}),e.jsx(z,{status:t.status})]},t.id))})})]}),x==="promotions"&&e.jsx("div",{className:"space-y-6",children:e.jsx(P,{title:"Available Promotions",subtitle:"Save money with these special offers",icon:"🎁",children:e.jsx(ue,{userId:"current-user"})})}),x==="bookings"&&e.jsx(P,{title:"My Bookings",subtitle:"All your vehicle rentals",icon:"Car",children:e.jsxs("div",{className:"space-y-4",children:[c.map(t=>{var b,S;return e.jsx("div",{className:"p-4 bg-white/10 rounded-xl backdrop-blur-sm border border-white/20",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-lg font-semibold text-white mb-2",children:((b=t.listing)==null?void 0:b.title)||"Unknown Vehicle"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-white/70",children:[e.jsxs("div",{children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Location:"})," ",(S=t.listing)==null?void 0:S.location]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Dates:"})," ",new Date(t.startDate).toLocaleDateString()," - ",new Date(t.endDate).toLocaleDateString()]})]}),e.jsxs("div",{children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Total:"})," R",t.totalPrice]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Status:"}),e.jsx(z,{status:t.status,className:"ml-2"})]})]})]})]}),e.jsxs("div",{className:"flex space-x-2 ml-4",children:[e.jsx("button",{className:"px-3 py-1 bg-blue-500/20 text-blue-200 rounded-lg text-sm hover:bg-blue-500/30 transition-colors",children:"View Details"}),t.status==="pending"&&e.jsx("button",{className:"px-3 py-1 bg-red-500/20 text-red-200 rounded-lg text-sm hover:bg-red-500/30 transition-colors",children:"Cancel"})]})]})},t.id)}),c.length===0&&e.jsx("p",{className:"text-white/60 text-center py-8",children:"No bookings yet"})]})}),x==="payments"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx(P,{title:"Payment History",subtitle:"Your transaction history",icon:"CreditCard",children:e.jsxs("div",{className:"space-y-4",children:[c.filter(t=>t.status==="completed").map(t=>{var b;return e.jsxs("div",{className:"flex justify-between items-center p-4 bg-white/10 rounded-xl backdrop-blur-sm border border-white/20",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:((b=t.listing)==null?void 0:b.title)||"Vehicle Rental"}),e.jsx("p",{className:"text-white/70 text-sm",children:new Date(t.startDate).toLocaleDateString()})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-white font-semibold",children:["R",t.totalPrice]}),e.jsxs("p",{className:"text-green-400 text-sm flex items-center space-x-1",children:[e.jsx(h,{name:"CheckCircle",size:"sm"}),e.jsx("span",{children:"Paid"})]})]})]},t.id)}),c.filter(t=>t.status==="completed").length===0&&e.jsx("p",{className:"text-white/60 text-center py-8",children:"No payment history yet"})]})}),e.jsx(P,{title:"Payment Methods",subtitle:"Manage your payment options",icon:"CreditCard",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"p-4 bg-white/10 rounded-xl backdrop-blur-sm border border-white/20",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(h,{name:"CreditCard",size:"lg"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:"Credit Card"}),e.jsx("p",{className:"text-white/70 text-sm",children:"**** **** **** 1234"})]})]}),e.jsx("button",{className:"px-3 py-1 bg-blue-500/20 text-blue-200 rounded-lg text-sm hover:bg-blue-500/30 transition-colors",children:"Edit"})]})}),e.jsx("button",{className:"w-full p-4 border-2 border-dashed border-white/30 rounded-xl text-white/70 hover:border-white/50 hover:text-white transition-colors",children:"+ Add Payment Method"})]})})]})]})},ve=()=>{const[c,u]=p.useState([]),[m,o]=p.useState([]),[N,r]=p.useState({total:0,thisMonth:0,lastMonth:0}),[k,C]=p.useState(!0),[x,w]=p.useState("overview"),[g,y]=p.useState(V.isProfileCompleted()),[d,j]=p.useState(!1),[l,i]=p.useState(!1);p.useEffect(()=>{n()},[]);const n=async()=>{try{const s=localStorage.getItem("accessToken"),R=await fetch("/api/listings/host/my-listings",{headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}});if(R.ok){const $=await R.json();u($.listings||[])}o([{id:"1",vehicleName:"2020 Toyota Corolla",renterName:"John Doe",startDate:"2024-12-15",endDate:"2024-12-17",totalAmount:1350,status:"pending"},{id:"2",vehicleName:"2019 BMW X3",renterName:"Jane Smith",startDate:"2024-12-20",endDate:"2024-12-22",totalAmount:2400,status:"confirmed"}]),r({total:15750,thisMonth:3750,lastMonth:4200})}catch(s){console.error("Error fetching host data:",s)}finally{C(!1)}},f=(s,R)=>{o($=>$.map(B=>B.id===s?{...B,status:R==="accept"?"confirmed":"rejected"}:B))},t=async s=>{try{console.log("Submitting vehicle for approval:",s),alert("Vehicle submitted for admin approval. You will be notified once it's reviewed."),i(!1)}catch(R){console.error("Failed to submit vehicle:",R),alert("Failed to submit vehicle. Please try again.")}},b=c.filter(s=>s.status==="approved"),S=c.filter(s=>s.status==="pending"),L=c.filter(s=>s.status==="declined");return k?e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-8 bg-gray-300 dark:bg-gray-700 rounded w-1/3 mb-6"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[...Array(3)].map((s,R)=>e.jsx("div",{className:"h-32 bg-gray-300 dark:bg-gray-700 rounded-lg"},R))})]})}):!g&&!d?e.jsx("div",{className:"space-y-6",children:e.jsx("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-6 border border-white/20",children:e.jsxs("div",{className:"text-center",children:[e.jsx(h,{name:"User",size:"lg",className:"text-white/50 mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Complete Your Host Profile"}),e.jsx("p",{className:"text-white/70 mb-6",children:"To start hosting on RideShare SA, please complete your profile and upload required business documents."}),e.jsx("button",{onClick:()=>j(!0),className:"px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-lg font-medium hover:from-blue-600 hover:to-purple-700 transition-all duration-300",children:"Complete Profile"})]})})}):g&&!d?e.jsx("div",{className:"space-y-6",children:e.jsx(ee,{onEditProfile:()=>j(!0),onResubmitProfile:()=>j(!0)})}):d?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Complete Your Host Profile"}),e.jsx("button",{onClick:()=>j(!1),className:"px-4 py-2 bg-white/10 text-white/70 rounded-lg hover:bg-white/20 transition-all",children:"Cancel"})]}),e.jsx(Q,{userRole:"host",onProfileComplete:s=>{console.log("Host profile completed:",s),y(!0),j(!1)}})]}):l?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"List Your Vehicle"}),e.jsx("button",{onClick:()=>i(!1),className:"px-4 py-2 bg-white/10 text-white/70 rounded-lg hover:bg-white/20 transition-all",children:"Cancel"})]}),e.jsx(fe,{onSubmit:t,onCancel:()=>i(!1)})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Host Dashboard"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:()=>w("overview"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${x==="overview"?"bg-white/20 text-white":"bg-white/10 text-white/70 hover:bg-white/20"}`,children:[e.jsx(h,{name:"BarChart",size:"sm",className:"mr-1"}),"Overview"]}),e.jsxs("button",{onClick:()=>w("fleet"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${x==="fleet"?"bg-white/20 text-white":"bg-white/10 text-white/70 hover:bg-white/20"}`,children:[e.jsx(h,{name:"Car",size:"sm",className:"mr-1"}),"Fleet"]}),e.jsxs("button",{onClick:()=>w("pricing"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${x==="pricing"?"bg-white/20 text-white":"bg-white/10 text-white/70 hover:bg-white/20"}`,children:[e.jsx(h,{name:"DollarSign",size:"sm",className:"mr-1"}),"Pricing"]}),e.jsxs("button",{onClick:()=>w("vehicles"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${x==="vehicles"?"bg-white/20 text-white":"bg-white/10 text-white/70 hover:bg-white/20"}`,children:[e.jsx(h,{name:"Clipboard",size:"sm",className:"mr-1"}),"Listings"]}),e.jsxs("button",{onClick:()=>w("bookings"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${x==="bookings"?"bg-white/20 text-white":"bg-white/10 text-white/70 hover:bg-white/20"}`,children:[e.jsx(h,{name:"Calendar",size:"sm",className:"mr-1"}),"Bookings"]}),e.jsxs("button",{onClick:()=>w("earnings"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${x==="earnings"?"bg-white/20 text-white":"bg-white/10 text-white/70 hover:bg-white/20"}`,children:[e.jsx(h,{name:"DollarSign",size:"sm",className:"mr-1"}),"Earnings"]})]})]}),x==="overview"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs(P,{title:"Approved Listings",subtitle:"Active vehicles",icon:"CheckCircle",className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-white mb-2",children:b.length}),e.jsx("div",{className:"text-white/70 text-sm",children:"Ready to rent"})]}),e.jsxs(P,{title:"Pending Approval",subtitle:"Awaiting review",icon:"Clock",className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-white mb-2",children:S.length}),e.jsx("div",{className:"text-white/70 text-sm",children:"Under review"})]}),e.jsxs(P,{title:"Total Earnings",subtitle:"All time revenue",icon:"DollarSign",className:"text-center",children:[e.jsxs("div",{className:"text-3xl font-bold text-white mb-2",children:["R",N.total.toLocaleString()]}),e.jsx("div",{className:"text-white/70 text-sm",children:"Lifetime total"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(P,{title:"Vehicle Approval Notifications",subtitle:"Latest approval updates",icon:"Bell",children:e.jsx(we,{hostId:"current-host"})}),e.jsx(P,{title:"Recent Bookings",subtitle:"Latest rental requests",icon:"Clipboard",children:e.jsxs("div",{className:"space-y-3",children:[m.slice(0,3).map(s=>e.jsxs("div",{className:"flex justify-between items-center p-4 bg-white/10 rounded-xl backdrop-blur-sm border border-white/20",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-white",children:s.vehicleName}),e.jsxs("p",{className:"text-sm text-white/70",children:[s.renterName," • ",new Date(s.startDate).toLocaleDateString()]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("span",{className:"text-white font-semibold",children:["R",s.totalAmount]}),e.jsx(z,{status:s.status})]})]},s.id)),m.length===0&&e.jsx("p",{className:"text-white/60 text-center py-4",children:"No bookings yet"})]})}),e.jsx(P,{title:"Listing Status",subtitle:"Vehicle approval status",icon:"BarChart",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center p-3 bg-white/10 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(h,{name:"CheckCircle",size:"lg"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:"Approved"}),e.jsx("p",{className:"text-white/70 text-sm",children:"Ready to rent"})]})]}),e.jsx("span",{className:"text-white font-bold text-xl",children:b.length})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-white/10 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(h,{name:"Clock",size:"lg"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:"Pending"}),e.jsx("p",{className:"text-white/70 text-sm",children:"Under review"})]})]}),e.jsx("span",{className:"text-white font-bold text-xl",children:S.length})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-white/10 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(h,{name:"XCircle",size:"lg"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:"Declined"}),e.jsx("p",{className:"text-white/70 text-sm",children:"Needs attention"})]})]}),e.jsx("span",{className:"text-white font-bold text-xl",children:L.length})]})]})})]})]}),x==="fleet"&&e.jsx("div",{className:"space-y-6",children:e.jsx(P,{title:"Fleet Management",subtitle:"Manage your entire vehicle fleet",icon:"Car",children:e.jsx(be,{hostId:"current-host"})})}),x==="pricing"&&e.jsx("div",{className:"space-y-6",children:e.jsx(P,{title:"Dynamic Pricing",subtitle:"Optimize your pricing with smart rules",icon:"DollarSign",children:e.jsx(ge,{vehicleId:"sample-vehicle",basePrice:250,onPriceUpdate:s=>{console.log("Updated price:",s)}})})}),x==="vehicles"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx(P,{title:"Vehicle Management",subtitle:"Manage your vehicle listings",icon:"Car",children:e.jsxs("div",{className:"space-y-4",children:[c.map(s=>e.jsx("div",{className:"p-4 bg-white/10 rounded-xl backdrop-blur-sm border border-white/20",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-lg font-semibold text-white mb-2",children:s.title}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-white/70",children:[e.jsxs("div",{children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Location:"})," ",s.location]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Price:"})," R",s.pricePerDay,"/day"]})]}),e.jsxs("div",{children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Status:"}),e.jsx(z,{status:s.status,className:"ml-2"})]}),s.declineReason&&e.jsxs("p",{className:"text-red-400 text-sm mt-1",children:["Reason: ",s.declineReason]})]})]})]}),e.jsxs("div",{className:"flex space-x-2 ml-4",children:[e.jsx("button",{className:"px-3 py-1 bg-blue-500/20 text-blue-200 rounded-lg text-sm hover:bg-blue-500/30 transition-colors",children:"Edit"}),e.jsx("button",{className:"px-3 py-1 bg-green-500/20 text-green-200 rounded-lg text-sm hover:bg-green-500/30 transition-colors",children:"View"})]})]})},s.id)),c.length===0&&e.jsx("p",{className:"text-white/60 text-center py-8",children:"No vehicles listed yet"})]})}),e.jsx(P,{title:"Add New Vehicle",subtitle:"List a new vehicle for rent",icon:"Car",children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx(h,{name:"Car",size:"lg",className:"text-white/50 mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"List Your Vehicle"}),e.jsx("p",{className:"text-white/70 mb-6",children:"Submit your vehicle for admin approval. Once approved, it will be visible to renters."}),e.jsx("button",{onClick:()=>i(!0),className:"px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-lg font-medium hover:from-blue-600 hover:to-purple-700 transition-all duration-300",children:"Start Vehicle Listing"})]})})]}),x==="bookings"&&e.jsx(P,{title:"Booking Requests",subtitle:"Manage rental requests",icon:"Clipboard",children:e.jsxs("div",{className:"space-y-4",children:[m.map(s=>e.jsx("div",{className:"p-4 bg-white/10 rounded-xl backdrop-blur-sm border border-white/20",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-lg font-semibold text-white mb-2",children:s.vehicleName}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-white/70",children:[e.jsxs("div",{children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Renter:"})," ",s.renterName]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Dates:"})," ",new Date(s.startDate).toLocaleDateString()," - ",new Date(s.endDate).toLocaleDateString()]})]}),e.jsxs("div",{children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Total:"})," R",s.totalAmount]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Status:"}),e.jsx(z,{status:s.status,className:"ml-2"})]})]})]})]}),s.status==="pending"&&e.jsxs("div",{className:"flex space-x-2 ml-4",children:[e.jsx("button",{onClick:()=>f(s.id,"accept"),className:"px-4 py-2 bg-green-500/20 text-green-200 rounded-lg text-sm hover:bg-green-500/30 transition-colors",children:"Accept"}),e.jsx("button",{onClick:()=>f(s.id,"reject"),className:"px-4 py-2 bg-red-500/20 text-red-200 rounded-lg text-sm hover:bg-red-500/30 transition-colors",children:"Reject"})]})]})},s.id)),m.length===0&&e.jsx("p",{className:"text-white/60 text-center py-8",children:"No booking requests yet"})]})}),x==="earnings"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs(P,{title:"Total Earnings",subtitle:"All time revenue",icon:"DollarSign",className:"text-center",children:[e.jsxs("div",{className:"text-3xl font-bold text-white mb-2",children:["R",N.total.toLocaleString()]}),e.jsx("div",{className:"text-white/70 text-sm",children:"Lifetime total"})]}),e.jsxs(P,{title:"This Month",subtitle:"Current month earnings",icon:"📅",className:"text-center",children:[e.jsxs("div",{className:"text-3xl font-bold text-white mb-2",children:["R",N.thisMonth.toLocaleString()]}),e.jsx("div",{className:"text-white/70 text-sm",children:"December 2024"})]}),e.jsxs(P,{title:"Last Month",subtitle:"Previous month earnings",icon:"BarChart",className:"text-center",children:[e.jsxs("div",{className:"text-3xl font-bold text-white mb-2",children:["R",N.lastMonth.toLocaleString()]}),e.jsx("div",{className:"text-white/70 text-sm",children:"November 2024"})]})]}),e.jsx(P,{title:"Earnings Chart",subtitle:"Monthly revenue overview",icon:"TrendingUp",children:e.jsx("div",{className:"h-64 flex items-center justify-center text-white/60",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mb-4",children:e.jsx(h,{name:"BarChart",size:"lg",className:"text-white/50 mx-auto"})}),e.jsx("p",{children:"Earnings chart would be displayed here"}),e.jsx("p",{className:"text-sm",children:"Integration with chart library needed"})]})})})]})]})},Re=()=>{const{user:c}=le(),u=ie();return p.useEffect(()=>{if(c)switch(localStorage.setItem("userRole",c.role),c.role){case"renter":u("/dashboard/renter",{replace:!0});break;case"host":u("/dashboard/host",{replace:!0});break;case"admin":u("/dashboard/admin",{replace:!0});break;default:u("/dashboard/renter",{replace:!0})}},[c,u]),e.jsx("div",{className:"min-h-screen",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Dashboard"}),e.jsxs("p",{className:"text-gray-300",children:["Welcome back, ",(c==null?void 0:c.firstName)||"User","!"]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"glass-panel p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Navigation"}),e.jsxs("nav",{className:"space-y-2",children:[(c==null?void 0:c.role)==="renter"&&e.jsxs(F,{to:"/dashboard/renter",className:"glass-button flex items-center space-x-3 px-4 py-3 text-white/80 hover:text-white transition-all duration-300",children:[e.jsx(h,{name:"User",size:"sm"}),e.jsx("span",{children:"My Bookings"})]}),(c==null?void 0:c.role)==="host"&&e.jsxs(F,{to:"/dashboard/host",className:"glass-button flex items-center space-x-3 px-4 py-3 text-white/80 hover:text-white transition-all duration-300",children:[e.jsx(h,{name:"Car",size:"sm"}),e.jsx("span",{children:"My Listings"})]}),(c==null?void 0:c.role)==="admin"&&e.jsxs(e.Fragment,{children:[e.jsxs(F,{to:"/dashboard/admin",className:"glass-button flex items-center space-x-3 px-4 py-3 text-white/80 hover:text-white transition-all duration-300",children:[e.jsx(h,{name:"User",size:"sm"}),e.jsx("span",{children:"Admin Panel"})]}),e.jsxs(F,{to:"/dashboard/renter",className:"glass-button flex items-center space-x-3 px-4 py-3 text-white/80 hover:text-white transition-all duration-300",children:[e.jsx(h,{name:"User",size:"sm"}),e.jsx("span",{children:"Renter View"})]}),e.jsxs(F,{to:"/dashboard/host",className:"glass-button flex items-center space-x-3 px-4 py-3 text-white/80 hover:text-white transition-all duration-300",children:[e.jsx(h,{name:"Car",size:"sm"}),e.jsx("span",{children:"Host View"})]})]})]})]})}),e.jsx("div",{className:"lg:col-span-3",children:e.jsxs(re,{children:[e.jsx(M,{path:"/",element:e.jsx(Z,{})}),e.jsx(M,{path:"/renter",element:e.jsx(Z,{})}),e.jsx(M,{path:"/host",element:e.jsx(ve,{})}),e.jsx(M,{path:"/admin",element:e.jsx(xe,{})})]})})]})]})})};export{Re as default};
